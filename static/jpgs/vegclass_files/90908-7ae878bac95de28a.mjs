(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90908],{416131:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},483010:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},808310:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},963421:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},549658:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},275441:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},916611:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},344191:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},614860:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},317343:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},443140:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},522940:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},325634:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},204554:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},294700:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},594701:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},253833:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},495297:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},296875:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},231596:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},846653:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},47786:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},830866:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},375664:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},214298:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},647887:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},114200:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},813150:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},246184:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},935563:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},460628:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},199081:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},671157:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},747147:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},25078:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},622314:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},765409:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},690435:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},712627:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},387629:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},465843:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},951237:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},13820:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},990148:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},879191:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},59192:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},237258:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},424961:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},436044:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},206581:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},300633:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},690532:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},749406:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},370960:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},535389:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},590716:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},482925:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},370216:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},926410:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},777172:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},305067:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},621216:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},826132:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},681384:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},729566:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},972841:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},290908:(e,t,i)=>{i.d(t,{iK:()=>ce,G9:()=>oe,ZP:()=>pe,kk:()=>ne,cV:()=>se});var n=i(667294),o=i(966338),r=i(157796),s=i(391254),a=i(705834),l=i(283698),d=i(313047),c=i(100183),p=i(185894),u=i(898781),h=i(883119),m=i(785893);function x(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=[140,220,265],_="BizNuxHomefeedLoader",y=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{}}),w=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{},v=[`${_}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${_}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class b extends n.PureComponent{constructor(...e){super(...e),x(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),x(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),x(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:i,startExitAnimation:n}=this.state;!i||t||n||(0,l.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},(e=>[]));for(let n=0;n<t.length;n+=1){const e=t[n].getBoundingClientRect();i[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){const n=this.numberOfColumns+1,o=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*o+16*(e+1),top:i,width:o,height:f[(e+t)%f.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(d.DEFAULT_HEIGHT),n=this.gridCellDimensionsByColumn,o=e.map(((e,o)=>{const r=o%this.numberOfColumns,s=Math.floor(o/this.numberOfColumns),a=g[o%g.length],l=i[r],d=this.computeGridCellLayout(r,s,l),c=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const o=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:a,startAnimation:t,originDimension:d,destinationDimension:n&&n[r][s]});return i[r]+=16+d.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:w(t)},children:(0,m.jsx)(h.X6,{color:"light",size:"500",children:e.name})})},o)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_SlideUp`}},children:o})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsx)(a.Z,{viewType:24,viewParameter:261,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(s.Z,{unsafeCSS:(0,c.Ll)(v)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:y(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(r.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})})}}const j=(0,o.connect)((({topics:e})=>({selectedTopics:Object.keys(e).filter((t=>e[t].is_followed)).map((t=>e[t]))})),(e=>({dismissLoader:()=>e((0,p.MI)(!1))})))((function(e){const t=(0,u.ZP)();return(0,m.jsx)(b,{...e,i18n:t})}));var I=i(794987),S=i(609700),T=i(30700),k=i(172071),P=i(317254),C=i(920231),E=i(704115),A=i(784590),D=i(266725);const F=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],R=[140,220,265],Z=e=>({position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}}),L=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{},z=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"];function N({gridContainerRef:e,homefeedLoading:t}){const i=(0,u.ZP)(),[x,g]=(0,n.useState)(!1),[f,_]=(0,n.useState)(!1),y=(0,o.useDispatch)(),{data:w}=(0,A.Z)({name:"NuxInterestsResource",options:{is_renux:!1,includeFollowed:!0,logNetworkTimer:!0,loggerComponentName:"nux_picker",urlParams:(0,E.Z)()}}),v=(null!=w?w:[]).filter((e=>e.is_followed));let b,j;(0,n.useEffect)((()=>(window.scrollTo(0,0),b=setTimeout((()=>{g(!0)}),3e3),()=>{clearTimeout(b),clearTimeout(j)})),[]),(0,n.useEffect)((()=>{t||!x||f||(0,l.Z)((()=>{_(!0),j=setTimeout((()=>{(0,D.j)({event_type:8900,view_type:24,view_parameter:261}),y((0,p.gH)(!1))}),2550)}))}),[t,x,f]);const I=()=>Math.max(Math.floor(window.innerWidth/200),2),S=i._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details');return(0,m.jsx)(a.Z,{viewType:24,viewParameter:261,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(s.Z,{unsafeCSS:(0,c.Ll)(z)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:Z(f)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(r.Z,{color:"dark",duration:5550,finalProgress:100}),(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:S})}),(()=>{const t=I(),i=Array(t).fill(d.DEFAULT_HEIGHT),n=(()=>{const t=I();if(!e.current)return null;const i=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:t},(e=>[]));for(let e=0;e<i.length;e+=1){const o=i[e].getBoundingClientRect();n[Math.round(o.left/(window.innerWidth/t))].push(o)}return n})(),o=v.map(((e,o)=>{const r=o%t,s=Math.floor(o/t),a=F[o%F.length],l=((e,t,i)=>{const n=I(),o=n+1,r=(window&&window.innerWidth-8*o)/n;return{left:e*r+8*(e+1),top:i,width:r,height:R[(e+t)%R.length]}})(r,s,i[r]),d=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const o=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:a,startAnimation:f,originDimension:l,destinationDimension:n&&n[r][s]});return i[r]+=8+l.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:4,dangerouslySetInlineStyle:{__style:L(f)},children:(0,m.jsx)(h.X6,{color:"light",size:"400",children:e.name})})},o)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:o})})()]})})]})})}var H=i(459523),W=i(481277);const M=120;function O({enabled:e,onPull:t,refreshing:i}){const o=(0,u.ZP)(),[r,s]=(0,n.useState)(0),a=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){const t=.5*(e.touches[0].clientY-a.current);t>0&&(s(t),e.preventDefault())}},o=e=>{a.current&&(r>=M&&t(),a.current=null,s(0))};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",o)}}}),[e,t,r,i]);const l=i?0:r/M,d=Math.min(l,1),c=o._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:l*M,dangerouslySetInlineStyle:{__style:{opacity:d,transition:null===a.current?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:a.current&&r<M?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:c})})})}var B=i(740990),U=i(106187),$=i(544826),V=i(693099),Y=i(957161),q=i(550407),K=i(556080),G=i(50286),X=i(444445);const J=e=>`BREAK_IN_${e}`,Q=new Map,ee=e=>{const t=Q.get(e);if(t)return t;const i=Object.freeze({type:"FEED_BREAK_IN",id:J(e)});return Q.set(e,i),i};var te=i(925927);function ie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ne=({isDesktop:e})=>{const t=(0,K.K)({isDesktop:e});return t?-t:0},oe=-2,re={},se=e=>{re[e]&&re[e].handlePullToRefresh()},ae=(e,t)=>e.slice(0,t).map((e=>e.id)),le=()=>{const e="desktop"===(0,G.ZP)(),t=(0,K.K)({isDesktop:e}),i=t?-t:0;return(0,m.jsx)(h.xu,{marginTop:i,marginBottom:i,paddingY:t})};class de extends n.PureComponent{constructor(...e){super(...e),ie(this,"state",{refreshing:!1,plpIds:(0,$.HW)().extraPlpIds,plpFeed:[]}),ie(this,"backonlineAutoFetchResource",(()=>{this.props.feedResource.fetchMore()})),ie(this,"onPinTouch",(e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}})),ie(this,"handlePullToRefresh",(()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})})),ie(this,"gridContainerRef",(0,n.createRef)()),ie(this,"renderFeedPin",((e,t)=>{const{feedItemProps:i,history:n,hidePinMetadata:o=!1,isOneTapExploreLocalTab:r,location:s,renderSquarePins:a,showSeoMetadata:l,topLevelTrafficSource:d,topLevelTrafficSourceDepth:c,trafficSource:p,squarePins:u}=this.props,{auxData:h,componentType:x,feedback:g,imageOnly:f,impressionData:_,isRelatedPinsOnView:y,objectIdStr:w,oneTapSave:v,onFeedItemClick:b,onPinLinkClick:j,shouldAllowProductPriceIndicator:I,showSeoMetadata:S,viewData:T,viewParameter:k,viewType:P}=i||{},C=(s.search||"").includes("force_seo");return(0,m.jsx)(K.Z,{auxData:h,componentType:x||0,feedback:g,hidePinMetadata:o,history:n,imageOnly:f,impressionData:_,isOneTapExploreLocalTab:r,isSquarePin:a||u,isRelatedPinOnView:y,location:s,objectIdStr:w,oneTapSave:v,onPinClick:b,onPinLinkClick:j,pinId:e.id,shouldAllowProductPriceIndicator:I,showSeoMetadata:l||C||S,slotIndex:t,topLevelTrafficSource:d,topLevelTrafficSourceDepth:c,trackingParams:e.trackingParams,trafficSource:p,viewData:T,viewParameter:k,viewType:P||1})})),ie(this,"renderFeedItem",(({data:e,itemIdx:t})=>{const{breakIns:i,feedItemProps:n,renderFeedItem:o,trafficSource:r}=this.props;if(o)return o(e,t);const{viewParameter:s,viewType:a}=n||{};switch(e.type){case"pin":return(0,m.jsx)(T.Z,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(S.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===r,viewParameter:s,viewType:a});case"board":return(0,m.jsx)(I.Z,{boardId:e.id,type:"grid",viewParameter:s,viewType:a});case"topic":return(0,m.jsx)(U.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:s,viewType:a});case"story":return"number"==typeof s?(0,m.jsx)(W.Z,{slotIndex:t,storyId:e.id,viewParameter:s,viewType:a||1}):null;case"FEED_BREAK_IN":return i?(({breakIns:e,id:t})=>{var i,n;return null!==(i=null===(n=e.find((({index:e})=>J(e)===t)))||void 0===n?void 0:n.content)&&void 0!==i?i:null})({breakIns:i,id:e.id}):null;default:return null}}))}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:t,feedItemProps:i}=this.props;if(e){const{viewParameter:e,viewType:t,auxData:n,componentType:o}=i||{},r={event_type:13};e&&(r.view_parameter=e),t&&(r.view_type=t),n&&(r.aux_data=n),o&&(r.component=o),(0,D.j)(r)}((e,t)=>{re[e]=t})(t,this)}setPlpFeedData(e){const{feedItems:t,pins:i}=this.props,{plpIds:n}=this.state;if(e)return(0,Y.L_)(V.zR),void this.setState({plpIds:[],plpFeed:[]});if(n.length>0&&t&&t.length>0){const e=n[0],o=i[e],r=t.slice(0,5).map((e=>e.id)).includes(e);o&&!r&&this.setState({plpFeed:[{id:n[0],type:"pin",trackingParams:t[0].trackingParams}].concat(t)})}}logHomefeedRefreshStats(e,t,i,n){const{locale:o}=this.props,{refreshing:r}=this.state;if(r&&t.isFetching&&!e.isFetching&&i&&i.length>0&&n&&n.length>0){const e=ae(n,5),t=ae(i,5),r={appType:"mweb",language:(o?o.slice(0,2):void 0)||"unknown",locale:o||"unknown"};k.Z.increment("home_product.homefeed.refresh",1,r),s=e,a=t,JSON.stringify(s)===JSON.stringify(a)&&k.Z.increment("home_product.homefeed.refresh.no_change",1,r)}var s,a}componentDidUpdate(e){const{feedItems:t}=e,{feedKey:i,feedItems:n}=this.props,{plpFeed:o,plpIds:r,refreshing:s}=this.state,a="homefeed"===i;s&&e.feedResource.isFetching&&!this.props.feedResource.isFetching&&this.setState({refreshing:!1}),a&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,n,t);const l=r.length>0;if(a&&l){const e=!!t&&t.length>0,i=!!n&&n.length>0,r=!e&&i,s=!!n&&n.length>0&&!!t&&t.length>0&&t[0]!==n[0],a=!!n&&n.length>0&&!!t&&t.length>0&&t[0]===n[0]&&t.length!==n.length,l=i&&!s&&0===o.length;(r||s||a||l)&&this.setPlpFeedData(s)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete re[e]}renderFeedItems(e){const{hidePinMetadata:t,fullWidthBreakIn:i,deviceType:o,emptyState:r,feedKey:s,feedResource:a,gridConfig:l,pullToRefresh:d,serverRender:c,showBizNuxHomefeedLoader:p,showNuxHomefeedLoader:u,trafficSource:x}=this.props,{key:g}=l||{},f=s+(g?`|${g}`:""),_="user_search"===x,y=_?window.innerWidth-16:200,w={columnWidth:"desktop"===o?X.yF:y,comp:this.renderFeedItem,gutterWidth:"desktop"===o?4*X.jC:void 0,loadItems:a.fetchMore,minCols:_?1:2,...l},v=!u&&!p&&a.isFetching&&0===e.length&&!this.state.refreshing,b=i?e.slice(0,i.index):e,I=i?e.slice(i.index):[];let S,T,k;(s.includes("homefeed")||s.includes("search"))&&(S=!0,T=!0,k=Object.values(this.props.pins).length?Object.values(this.props.pins):void 0);const E="desktop"===o&&"flashlight"===x,A=E?0:X.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(O,{enabled:!!d,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:A,marginEnd:A,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(P.Z,{isAtEndOfFeed:a.isAtEnd,pinData:k,includeVideos:T,includeBackgroundImages:S,itemCount:e.length,children:e.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:ne({isDesktop:"desktop"===o}),children:(0,m.jsx)(B.Z.Consumer,{children:e=>(0,m.jsx)(n.Fragment,{children:(0,m.jsxs)(q.g,{children:[(0,m.jsx)(C.Z,{cacheKey:f,id:c?s:void 0,items:b,scrollContainerRef:e,serverRender:c,resetPositions:t,...w}),null==i?void 0:i.content,I.length>0&&(0,m.jsx)(C.Z,{cacheKey:`${f}_afterBreak`,items:I,scrollContainerRef:e,...w})]})})})}):a.isFetching?(0,m.jsx)(le,{}):null!=r?r:null}),v&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(H.Z,{partialViewportWidth:E})}),u&&(0,m.jsx)(N,{homefeedLoading:a.isFetching,gridContainerRef:this.gridContainerRef}),p&&(0,m.jsx)(j,{homefeedLoading:a.isFetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:t,isAuthenticated:i}=this.props,{plpFeed:n}=this.state,o=e||[];return"homefeed"!==t?this.renderFeedItems(o):i&&n.length>0?this.renderFeedItems(n):this.renderFeedItems(o)}}function ce({resource:{error:e,...t},itemShouldBeExcluded:i,feedOffset:r,...s}){const{breakIns:a,feedKey:l}=s,d=(0,te.TH)(),c=(0,te.k6)(),u=(0,G.ZP)(),h=(0,o.useDispatch)(),{isAuthenticated:x,isBizNuxHomefeedLoadShown:g,isNuxHomefeedLoadShown:f,isSeoBot:_,locale:y}=(0,o.useSelector)((({session:e})=>e)),w=(0,o.useSelector)((({feeds:e})=>e[l])),v=(0,o.useSelector)((({pins:e})=>e)),b=(0,o.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux));(0,n.useEffect)((()=>{"homefeed"===l&&w&&w.length>0&&b&&h((0,p.H5)(!1))}),[h,w,l,b]);let j=w;return j&&(a&&(j=(({breakIns:e,items:t})=>e.map((e=>e.index)).sort().reduce(((e,t)=>e.length<t?e:[...e.slice(0,t),ee(t),...e.slice(t)]),t))({items:j,breakIns:a})),i&&(j=j.filter((e=>!i(e)))),r&&(j=j.slice(r))),(0,m.jsx)(de,{...s,deviceType:u,feedItems:j,feedResource:t,history:c,isAuthenticated:x,locale:y,location:d,pins:v,showBizNuxHomefeedLoader:!!g,showNuxHomefeedLoader:!!f,showSeoMetadata:_||!x})}function pe({resourceConfig:e,...t}){const i=(0,A.Z)(e);return(0,m.jsx)(ce,{...t,resource:i})}},536454:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),o=i(700380),r=i(883119),s=i(313047),a=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(0,o.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:n}=this;var t,i;if(n())null===(t=(i=this.props).onView)||void 0===t||t.call(i)}}),this.props.throttleTime||100)),l(this,"wasViewed",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<=s.DEFAULT_HEIGHT})),l(this,"isOnView",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||window.height)-150&&t.right<=(window.innerWidth||window.width))})),l(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,a.jsx)(r.xu,{ref:e=>{var t,i;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(t=(i=this.props).onView)||void 0===t||t.call(i))},children:e})}}const c=d},319670:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(749771),o=i(883119),r=i(785893);function s({title:{format:e,args:{query:t}}}){return(0,r.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,r.jsx)(o.xu,{marginBottom:2,paddingX:4,children:(0,r.jsx)(o.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,r.jsx)(n.Z,{query:t,showHeaderText:!1})]})}},127009:(e,t,i)=>{i.d(t,{Z:()=>we});var n=i(460628),o=i.n(n),r=i(416131),s=i.n(r),a=i(483010),l=i.n(a),d=i(808310),c=i.n(d),p=i(963421),u=i.n(p),h=i(549658),m=i.n(h),x=i(275441),g=i.n(x),f=i(916611),_=i.n(f),y=i(344191),w=i.n(y),v=i(614860),b=i.n(v),j=i(317343),I=i.n(j),S=i(443140),T=i.n(S),k=i(522940),P=i.n(k),C=i(325634),E=i.n(C),A=i(204554),D=i.n(A),F=i(294700),R=i.n(F),Z=i(594701),L=i.n(Z),z=i(253833),N=i.n(z),H=i(495297),W=i.n(H),M=i(296875),O=i.n(M),B=i(231596),U=i.n(B),$=i(846653),V=i.n($),Y=i(47786),q=i.n(Y),K=i(830866),G=i.n(K),X=i(375664),J=i.n(X),Q=i(214298),ee=i.n(Q),te=i(647887),ie=i.n(te),ne=i(114200),oe=i.n(ne),re=i(813150),se=i.n(re),ae=i(246184),le=i.n(ae),de=i(935563),ce=i.n(de),pe=i(199081),ue=i.n(pe),he=i(671157),me=i.n(he),xe=i(898781),ge=i(968228),fe=i(883119),_e=i(785893);const ye={"AR-SA":o(),"ZH-CN":ue(),"ZH-TW":me(),CS:s(),DA:l(),DE:c(),EL:u(),EN:m(),ES:g(),FI:_(),FR:w(),HI:b(),HU:I(),ID:T(),IT:P(),JA:E(),KO:D(),ML:R(),MS:L(),NB:O(),NL:N(),NN:W(),NO:O(),PL:U(),PT:V(),RO:q(),RU:G(),SK:J(),SV:ee(),TH:ie(),TL:oe(),TR:se(),UK:le(),VI:ce()};function we({locale:e}){const t=(0,xe.ZP)(),i=(0,ge.G3)(e),n=ye[i]||ye.EN,o=t._('Install the Pinterest app on Android', ' - ', ' -- ');return(0,_e.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:o})}},137618:(e,t,i)=>{i.d(t,{Z:()=>we});var n=i(681384),o=i.n(n),r=i(747147),s=i.n(r),a=i(25078),l=i.n(a),d=i(622314),c=i.n(d),p=i(765409),u=i.n(p),h=i(690435),m=i.n(h),x=i(712627),g=i.n(x),f=i(387629),_=i.n(f),y=i(465843),w=i.n(y),v=i(951237),b=i.n(v),j=i(13820),I=i.n(j),S=i(990148),T=i.n(S),k=i(879191),P=i.n(k),C=i(59192),E=i.n(C),A=i(237258),D=i.n(A),F=i(424961),R=i.n(F),Z=i(436044),L=i.n(Z),z=i(206581),N=i.n(z),H=i(300633),W=i.n(H),M=i(690532),O=i.n(M),B=i(749406),U=i.n(B),$=i(370960),V=i.n($),Y=i(535389),q=i.n(Y),K=i(590716),G=i.n(K),X=i(482925),J=i.n(X),Q=i(370216),ee=i.n(Q),te=i(926410),ie=i.n(te),ne=i(777172),oe=i.n(ne),re=i(305067),se=i.n(re),ae=i(621216),le=i.n(ae),de=i(826132),ce=i.n(de),pe=i(729566),ue=i.n(pe),he=i(972841),me=i.n(he),xe=i(898781),ge=i(968228),fe=i(883119),_e=i(785893);const ye={"AR-SA":o(),"ZH-CN":ue(),"ZH-TW":me(),CS:s(),DA:l(),DE:c(),EL:u(),EN:m(),ES:g(),FI:_(),FR:w(),HI:b(),HU:I(),ID:T(),IT:P(),JA:E(),KO:D(),ML:R(),MS:L(),NB:O(),NL:N(),NN:W(),NO:O(),PL:U(),PT:V(),RO:q(),RU:G(),SK:J(),SV:ee(),TH:ie(),TL:oe(),TR:se(),UK:le(),VI:ce()};function we({locale:e}){const t=(0,xe.ZP)(),i=(0,ge.G3)(e),n=ye[i]||ye.EN,o=t._('Install the Pinterest app on iOS', ' - ', ' -- ');return(0,_e.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:o})}},459523:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),o=i(391254),r=i(454564),s=i(50286),a=i(444445),l=i(883119),d=i(785893);const c="PinGridSkeletonLoader__tall",p="PinGridSkeletonLoader__short",u=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:p})}),h=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:2,children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,s.ZP)(),i=t?a.yF:a.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(o.Z,{unsafeCSS:[{name:c,height:250},{name:p,height:150}].map((({name:e,height:t})=>(0,r.Z)({name:e,width:i,height:t}))).join("")}),(0,d.jsx)(l.xu,{marginStart:a.qG,marginEnd:a.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:a.jC,children:[(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(u,{size:"tall"}),(0,d.jsx)(u,{size:"short"}),(0,d.jsx)(u,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(u,{size:"short"}),(0,d.jsx)(u,{size:"tall"}),(0,d.jsx)(u,{size:"short"}),(0,d.jsx)(u,{size:"tall"})]})]})})]})}},454564:(e,t,i)=>{i.d(t,{Z:()=>n});const n=({name:e,width:t,height:i})=>{const n=`${i}${"number"==typeof i?"px":""}`,o="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${o} ${n};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${o}px 0;\n  }\n  100% {\n      background-position: ${o}px 0;\n  }\n}\n`}},987798:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(643010),o=i(883119),r=i(785893);function s({color:e,image:t,isSelected:i,title:s}){var a,l,d;return(0,r.jsxs)(o.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,r.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:(0,r.jsx)(o.Ee,{alt:s,color:e,fit:"cover",naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,r.jsx)(o.xu,{marginStart:2,marginEnd:3,children:(0,r.jsx)(o.xv,{color:i?"inverse":(0,n.Yc)()?"light":"dark",weight:"bold",children:s})})]})}},927007:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(643010),o=i(883119),r=i(785893);function s({guide:e,guidedQuery:t,isSlot0Style:i=!1,onClick:s}){const{dominant_color:a,display:l}=e,d=(0,r.jsx)(o.iP,{role:"link",onTap:s,tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:a,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,r.jsx)(o.xv,{align:i?"start":"center",color:i?(0,n.Yc)()?"inverse":"default":"inverse",lineClamp:i?2:void 0,size:"200",weight:i?"normal":"bold",children:l})})});return i?d:(0,r.jsx)(o.xu,{flex:"none",marginStart:-7,paddingX:4,children:d})}var a=i(473535);const l=-1,d=0;function c({guides:e,isSlot0Style:t=!1,query:i}){const n=({position:e,term:t})=>e===l?t:e===d?`${t} ${i}`:`${i} ${t}`,c=e=>()=>{(0,a.U3)({searchScope:"pins",searchTerm:e,rs:"guide"})},p=()=>e.map((e=>(0,r.jsx)(s,{guide:e,guidedQuery:n(e),isSlot0Style:t,onClick:c(i)},e.display)));return t?(0,r.jsx)(o.xu,{padding:2,children:(0,r.jsx)(o.kC,{width:"100%",gap:1,direction:"column",alignItems:"start",children:p()})}):(0,r.jsx)(o.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,r.jsx)(o.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:p()})})}},226343:(e,t,i)=>{i.d(t,{Z:()=>x,e:()=>u});var n=i(966338),o=i(263116),r=i(67223),s=i(131108),a=i(599997),l=i(883119),d=i(332611),c=i(785893);const p=(0,o.ZP)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(58922)]).then(i.bind(i,501685)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 501685}}),u=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,c.jsx)(p,{fallback:(0,c.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),aspectRatio:a.q4,controls:!1,poster:i||t.metadata.thumbnail,src:t.url})}function x({buttonAction:e,buttonCustomization:t,buttonText:i,experience:o,hideCompleteButton:p,imageAlt:u,imageUrl:x,openNewTab:g,storyType:f,titleText:_,titleTextColor:y,titleTextCustomization:w,videoPin:v,videoPlaceholderImage:b}){var j;const I=(0,n.useDispatch)(),{experience_id:S,placement_id:T}=o||{},k=(0,r.Z)({onVisibilityChanged:e=>{e&&o&&"viewed"!==o.status&&(o.status="viewed",I((0,d.UT)(T,S,!1,!0)))}}),P=(0,a.zn)(f),C=P?s.f8:s.hm,E=P?s.sH:s.HI,A=!P,{color:D,fontStyle:F,fontWeight:R,horizontalAlignment:Z,fontSize:L}=(0,a.Mf)(w||{},"mweb"),{button_background_color:z,button_text_color:N}=t||{};return(0,c.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:k,children:(0,c.jsxs)(l.rU,{accessibilityLabel:_,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),o&&I((0,d.CK)(T,S,!1,!0))},target:g?"blank":null,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===f&&v?(0,c.jsx)(m,{titleText:_,videoPin:v,videoPlaceholderImage:b}):x&&(0,c.jsx)(l.Ee,{alt:u||_||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:x,fit:"cover"})}),A&&(0,c.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(C,{children:(0,c.jsx)(l.xv,{align:Z,color:y,italic:"italics"===F,weight:R,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(j=D||y)&&void 0!==j?j:void 0,fontSize:L}},children:_})})})]})}),!p&&(0,c.jsx)(E,{children:(0,c.jsx)(l.xu,{display:"flex",rounding:"pill",color:P?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:z}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:N}},children:i})})})})]})})}},189500:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),o=i(966338),r=i(149230),s=i(556080),a=i(825077),l=i(266725),d=i(883119),c=i(925927),p=i(785893);function u({auxData:e,slotIndex:t,storyId:i,trafficSource:u,viewParameter:h,viewType:m}){const x=(0,o.useSelector)((({stories:e,pins:t})=>e[i].objects.map((e=>t[e.id])))),g=(0,o.useSelector)((({stories:e})=>e[i])),{action:f,story_type:_,title:y}=g,w=x.map((({type:e,id:t})=>e+":"+t)).join("|"),v={story_type:_,story_id:i,content_ids:w,...e},b=(0,c.k6)(),j=(0,c.TH)();return(0,p.jsx)(a.Hs,{loggingId:i,objectIdStr:i,viewParameter:h,viewType:m,slotIndex:t,component:200,auxData:v,children:(0,p.jsxs)(n.Fragment,{children:[y&&(0,p.jsx)(d.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(d.xv,{weight:"bold",children:y.format})}),(0,p.jsx)(d.kC,{wrap:!0,children:x.map((e=>(0,p.jsx)(d.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,p.jsx)(s.Z,{auxData:v,componentType:0,history:b,location:j,pinId:e.id,slotIndex:t,trafficSource:u,viewParameter:h,viewType:m})},e.id)))}),f&&f.url&&(0,p.jsx)(d.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(d.zx,{role:"link",accessibilityLabel:f.text,color:"gray",onClick:()=>{(0,l.So)({view_type:m,view_parameter:h,aux_data:v})},text:f.text,href:f.url,rel:(0,r.Z)(f.url)?"nofollow":void 0,target:(0,r.Z)(f.url)?"blank":void 0,size:"md"})})]})})}},481277:(e,t,i)=>{i.d(t,{Z:()=>ve});var n=i(966338),o=i(667294),r=i(474635),s=i(127009),a=i(137618),l=i(898781),d=i(957161),c=i(862624),p=i(883119),u=i(785893);function h(){const e=(0,l.ZP)(),{checkExperiment:t}=(0,c.Y)(),{locale:i,userAgentPlatform:h}=(0,n.useSelector)((({session:e})=>e));(0,o.useEffect)((()=>{"enabled_no_double"===t("mweb_hf_story_app_upsell2").group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const m="ios"===h;return(0,u.jsxs)(p.xu,{color:"infoBase",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,u.jsx)(p.xv,{color:"inverse",weight:"bold",children:m?e._('Pinterest works best if you switch to our iPhone app', 'app upsell', 'app upsell'):e._('Pinterest works best if you switch to our Android app', 'app upsell', 'app upsell')}),(0,u.jsx)(p.xu,{marginTop:3,children:(0,u.jsx)(r.Z,{within:"app-upsell-story",children:({handleOpenApp:e})=>(0,u.jsx)(p.iP,{onTap:()=>e({deepLinkUri:"/"}),children:m?(0,u.jsx)(a.Z,{locale:i}):(0,u.jsx)(s.Z,{locale:i})})})})]})}var m=i(856919),x=i(281180);const g={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function f({buttonAction:e,buttonText:t,imageUrl:i,brands:n}){const o=(0,x.kW)(),r=n.slice(0,3).map((e=>{var t,i;return{name:null!==(t=o[e.id].username)&&void 0!==t?t:"",src:null!==(i=o[e.id].image_medium_url)&&void 0!==i?i:""}}));return(0,u.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,u.jsxs)(m.MZ,{to:e,children:[(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,u.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:i&&(0,u.jsx)(p.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:i,fit:"cover"})}),(0,u.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:g.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,u.jsx)(p.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,u.jsx)(p.xu,{width:24*(2*r.length+1),height:64,children:(0,u.jsx)(p.HE,{accessibilityLabel:"",collaborators:r})})})]})}),(0,u.jsx)(p.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,u.jsx)(p.xv,{weight:"bold",children:(0,u.jsx)(p.xu,{children:t})})})]})})}var _=i(843242),y=i(319670);const w="49.5%";function v({buttonAction:e,buttonText:t,colors:i}){const o=(0,n.useSelector)((({pins:e})=>i.slice(0,4).map((t=>{var i;return{...null===(i=e[t.id].images)||void 0===i?void 0:i["736x"],title:e[t.id].description}}))));if(i.length<4)return null;const r=e=>{var t,i,n,o;return(0,u.jsx)(p.xu,{width:w,height:"100%",children:(0,u.jsx)(p.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(n=e.width)&&void 0!==n?n:1,src:null!==(o=e.url)&&void 0!==o?o:"",fit:"cover"})})};return(0,u.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,u.jsxs)(m.MZ,{to:e,children:[(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,u.jsx)(p.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[o.slice(0,2),o.slice(2,4)].map((e=>(0,u.jsx)(p.kC,{width:"100%",height:w,justifyContent:"between",children:e.map(r)})))})})}),(0,u.jsx)(p.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,u.jsx)(p.xv,{weight:"bold",children:(0,u.jsx)(p.xu,{children:t})})})]})})}var b=i(116303);const j=(0,n.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({isFirstChild:e,pin:t})=>{var i;if(!t)return null;const n=null===(i=t.images)||void 0===i?void 0:i["170x"];if(!n)return null;const o=t.pinner,{full_name:r,image_medium_url:s}=o||{},{dominant_color:a}=t,{height:l,width:d,url:c}=n;return(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,u.jsxs)(p.xu,{position:"relative",children:[(0,u.jsx)(p.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,u.jsx)(p.Ee,{alt:t.title||"",color:null!=a?a:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),s&&(0,u.jsx)(p.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,u.jsx)(b.Z,{name:null!=r?r:"",src:s})})})]})})}));function I({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,u.jsx)(p.xu,{height:174,overflow:"hidden",width:"100%",children:(0,u.jsx)(p.xu,{overflow:"scroll",children:(0,u.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,u.jsx)(j,{id:e,isFirstChild:0===t},e)))})})})}var S=i(30700),T=i(825077),k=i(266725);const P="creator_spotlight_";class C extends o.PureComponent{render(){const{id:e,story:t}=this.props;if(!t||"social_seasonal_pin"===t.story_type)return null;const{button_text:i,objects:n,story_type:o,subtitle:r,title:s,background_colour:a,display_options:l}=t,{title_text_color:d,subtitle_text_color:c}=l;if(!o.startsWith(P)||!n||n.length<3)return null;const h=`/creator-spotlight/${o.slice(P.length)}`;return(0,u.jsx)(p.xu,{marginBottom:3,children:(0,u.jsx)(T.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:o},children:(0,u.jsx)(p.iP,{onTap:()=>{(0,k.So)({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:o}})},tapStyle:"none",role:"link",href:h,rounding:2,children:(0,u.jsx)(p.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:a}},children:(0,u.jsx)(p.xu,{width:"100%",height:"100%",children:(0,u.jsxs)(p.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!r||!!s)&&(0,u.jsxs)(p.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[s&&s.format&&(0,u.jsx)(p.X6,{size:"400",children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:d}},children:s.format})}),r&&r.format&&(0,u.jsx)(p.xv,{align:"center",children:(0,u.jsx)(p.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:c}},children:r.format})})]}),(0,u.jsx)(p.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,u.jsx)(I,{pinIds:n.map((e=>e.id))})}),i&&i.format&&(0,u.jsx)(p.xu,{display:"inlineBlock",children:(0,u.jsx)(S.Z,{pressState:"compress",children:(0,u.jsx)(p.xu,{color:"primary",rounding:"pill",position:"relative",children:(0,u.jsx)(p.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(p.xv,{color:"inverse",weight:"bold",children:i.format})})})})})]})})})})})})}}const E=(0,n.connect)((({stories:e},{id:t})=>({story:e[t]})),(()=>({})))(C);var A=i(121093),D=i(965708),F=i(925927);function R({pin:e,width:t,height:i,showDivider:n}){var o,r,s,a,l,d,c;const h=null===(o=e.images)||void 0===o?void 0:o["236x"];return(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,u.jsx)(p.GH,{contentAspectRatio:(null!==(r=null==h?void 0:h.width)&&void 0!==r?r:1)/(null!==(s=null==h?void 0:h.height)&&void 0!==s?s:1),height:i,width:t,children:(0,u.jsx)(p.Ee,{alt:null!==(a=e.description)&&void 0!==a?a:"",naturalWidth:null!==(l=null==h?void 0:h.width)&&void 0!==l?l:1,naturalHeight:null!==(d=null==h?void 0:h.height)&&void 0!==d?d:1,src:null!==(c=null==h?void 0:h.url)&&void 0!==c?c:""})})})}function Z({storyId:e,slotIndex:t}){const i=(0,F.k6)(),r=(0,F.TH)(),s=(0,D.Z)(),{checkExperiment:a}=(0,c.Y)(),[l,d]=(0,o.useState)(0),h=(0,o.useRef)();(0,o.useLayoutEffect)((()=>{const e=h.current;e&&d(e.offsetWidth)}),[]);const m=(0,n.useSelector)((({stories:t})=>t[e])),x=(0,n.useSelector)((({pins:e})=>m.objects.map((t=>e[t.id])))).slice(0,2),{story_type:g,action:f}=m,_=`${r.pathname}products/${r.search}`,y=()=>{(0,k.So)({component:200,view_parameter:3050,view_type:72}),i.push(_)};return a(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(T.qS,{auxData:{story_type:g,content_ids:x.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,u.jsx)(p.xu,{padding:2,ref:e,children:(0,u.jsx)(p.zd,{rounding:2,children:(0,u.jsxs)(p.iP,{onTap:y,children:[(0,u.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:x.map(((e,t)=>(0,u.jsx)(R,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,u.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,u.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,u.jsx)(p.xv,{weight:"bold",children:f.text})})})})]})})}):(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,u.jsx)(T.Hs,{auxData:{story_type:g,content_ids:x.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,u.jsx)(p.xu,{padding:2,children:(0,u.jsx)(p.zd,{rounding:2,children:(0,u.jsxs)(p.iP,{onTap:y,children:[(0,u.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:x.map(((e,t)=>(0,u.jsx)(R,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,u.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,u.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,u.jsx)(p.xv,{weight:"bold",children:f.text})})})})]})})}):(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:h})})}var L=i(419685),z=i(189500),N=i(907231);const H=["shop_tab_upsell","user_style_story_v2"];function W({auxData:e,slotIndex:t,storyId:i,storyType:o,trafficSource:r,viewParameter:s,viewType:a}){const l=(0,n.useSelector)((({stories:e})=>{var t;return null===(t=e[i].objects[0])||void 0===t?void 0:t.schema})),d=(0,n.useSelector)((({stories:e})=>{var t;return null===(t=e[i])||void 0===t?void 0:t.title}));if(H.includes(o))return(0,u.jsx)(L.Z,{auxData:e,slotIndex:t,storyId:i,storyType:o,viewParameter:s,viewType:a});switch(l){case"pin":return(0,u.jsx)(z.Z,{auxData:e,slotIndex:t,storyId:i,trafficSource:r,viewParameter:s,viewType:a});case"article":return(0,u.jsx)(_.Z,{auxData:e,pattern:[N.UG.extra_small],slotIndex:t,storyId:i,viewParameter:s,viewType:a});default:return d&&(0,u.jsx)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,u.jsx)(p.xv,{weight:"bold",children:d.format})})}}var M=i(609700);function O({slotIndex:e,storyId:t,exactMatch:i=!1}){const r=(0,D.Z)(),{checkExperiment:s}=(0,c.Y)(),{action:a,aux_fields:l,objects:d,story_type:h,title:m}=(0,n.useSelector)((({stories:e})=>e[t])),x=d[0].id,g=(0,n.useSelector)((({pins:e})=>d.slice(1,3).map((({id:t})=>e[t]))));return!i&&g.length<2?null:s(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(T.qS,{auxData:{content_ids:g.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,u.jsxs)(p.xu,{ref:e,children:[m&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:m.format})}),(0,u.jsx)(M.Z,{action:a,auxData:l,isPinnerAuthorityHero:i,userId:x,userPins:i?void 0:g,userSearchRepStyle:i,viewParameter:43,viewType:2})]})}):(0,u.jsx)(T.Hs,{auxData:{content_ids:g.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,u.jsxs)(o.Fragment,{children:[m&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:m.format})}),(0,u.jsx)(M.Z,{action:a,auxData:l,isPinnerAuthorityHero:i,userId:x,userPins:i?void 0:g,userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}var B=i(927007),U=i(826067);const $=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],V=e=>$[e.charCodeAt(0)%$.length];function Y({guides:e,storyId:t,slotIndex:i,title:n}){var r;const s=(0,D.Z)(),{checkExperiment:a}=(0,c.Y)(),l=null!==(r=(0,U.mB)((0,F.TH)().search).q)&&void 0!==r?r:"";return a(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(T.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,u.jsxs)(p.xu,{ref:t,children:[n&&n.format&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:n.format})}),(0,u.jsx)(B.Z,{guides:e.map((e=>({display:e.display,dominant_color:V(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,u.jsx)(T.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:(0,u.jsxs)(o.Fragment,{children:[n&&n.format&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:n.format})}),(0,u.jsx)(B.Z,{guides:e.map((e=>({display:e.display,dominant_color:V(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}class q extends o.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:i,pin_image:n,pin_image_gif:o,user_name:r,board_name:s,header_background_color:a,textIconColor:l}=e,d=a||"orchid",c=this.props.i18n._('Take a look', 'Button text asking users to take a look at Seasonal pages', 'Button text asking users to take a look at Seasonal pages'),h=r&&s?`/${r}/${s}`:"/pinterestindonesia/happy-halloween/",x=i||"unknown",g=o||n||"",f=l||"white";return(0,u.jsx)(p.zd,{rounding:2,children:(0,u.jsx)(p.xu,{padding:3,children:(0,u.jsx)(m.MZ,{to:h,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,u.jsx)(p.xu,{children:(0,u.jsx)(p.xu,{display:"flex",margin:-1,height:t,children:(0,u.jsx)(p.xu,{width:"100%",children:(0,u.jsxs)(p.zd,{rounding:2,height:"100%",children:[(0,u.jsx)(p.xu,{height:t,children:(0,u.jsx)(p.Ee,{alt:x,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:g})}),(0,u.jsx)(p.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,u.jsx)(p.xv,{color:f,weight:"bold",children:x})}),(0,u.jsx)(p.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,u.jsx)(p.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const K=(0,n.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,u.jsx)(q,{...e,i18n:t})}));var G=i(959322);function X({storyId:e,viewParameter:t,viewType:i}){const r=(0,n.useSelector)((({stories:t})=>t[e])),s=(0,n.useSelector)((({session:e})=>e.isTablet)),a=r.objects;return(0,o.useEffect)((()=>{(0,k.j)({event_type:9024,view_type:i,view_parameter:t})}),[]),r?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(p.iz,{}),(0,u.jsxs)(p.xu,{paddingY:1,children:[(0,u.jsx)(p.xu,{paddingY:2,marginTop:3,children:(0,u.jsx)(p.X6,{align:"center",size:"400",children:r.title.format})}),1===a.length?(0,u.jsx)(p.xu,{width:s?400:"auto",paddingY:2,margin:"auto",children:(0,u.jsx)(G.Z,{id:a[0].id,gridIndex:0,viewParameter:t,viewType:i})}):(0,u.jsx)(p.xu,{overflow:"auto",children:(0,u.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:a.map(((e,n)=>(0,u.jsx)(p.xu,{width:s?400:"80vw",marginStart:0===n?0:2,paddingY:2,children:(0,u.jsx)(G.Z,{id:e.id,gridIndex:n,viewParameter:t,viewType:i})},e.id)))})})]})]}):null}var J=i(949372);const Q=(0,n.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const i=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,u.jsx)(p.zd,{wash:!0,height:le,width:le,children:(0,u.jsx)(p.xu,{height:le,position:"relative",width:le,children:(0,u.jsx)(p.Ee,{alt:e.description||"",src:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var ee=i(558150),te=i(609943),ie=i(349700),ne=i(643010),oe=i(755506);const re=(0,n.connect)(((e,t)=>({pin:e.pins[t.pinId]})),(()=>({})))((({pin:e,shouldRoundPrice:t,showSalePrice:i})=>{const n=(0,l.ZP)();if(!e)return null;const{pinProduct:o}=(0,oe.Fi)({i18n:n,pin:e});if(!o||!o.price)return null;const r=o.price||o.max_price,s=o.standard_price,a=/^(\$\d+)(\.?\d\d)*$/g,d=s&&a.exec(s),c=a.exec(r),h=(0,ne.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",m=(0,ne.Yc)()?"light":"dark";return(0,u.jsxs)(p.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:h,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[i&&d&&(0,u.jsxs)(p.xv,{align:"center",size:"100",weight:"bold",color:"subtle",inline:!0,children:[(0,u.jsx)("s",{children:(0,ie.nk)("{{ priceRounded }}",{priceRounded:d[1]})})," "]}),(0,u.jsx)(p.xv,{align:"center",size:"100",weight:"bold",color:m,inline:!0,children:(i&&s||t)&&c&&c[1]?(0,ie.nk)("{{ priceRounded }}",{priceRounded:c[1]}):r})]})}));var se=i(157983),ae=i(407043);const le=114;function de({handleClick:e,isVerifiedMerchant:t,marginTop:i=12,pins:n,showVerifiedBadge:o,showVerifiedIdentityBadge:r,storyAction:s,storyType:a,title:l,viewParameter:d,trackingParams:c}){const{logContextEvent:h}=(0,ae.v)(),m=(0,F.k6)(),{text:x}=s||{};return(0,u.jsxs)(p.xu,{marginTop:i,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[l&&(0,u.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,u.jsx)(p.xv,{weight:"bold",children:l}),o&&(0,u.jsx)(p.xu,{marginStart:1,children:(0,u.jsx)(se.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:r})})]}),(0,u.jsx)(p.xu,{display:"flex",marginTop:4,justifyContent:"center",children:n.map(((e,t)=>(0,u.jsx)(T.GR,{viewType:3,loggingId:e.id,viewParameter:d,component:fe[a],auxData:{commerce_data:(0,ee.Z)(e)},slotIndex:t,children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:le,children:(0,u.jsxs)(p.iP,{onTap:()=>(e=>{const t=(0,te.Z)(c,e.tracking_params);h({component:fe[a],element:ge[a],event_type:101,view_type:3,view_parameter:d,object_id_str:e.id,clientTrackingParams:t,aux_data:{closeup_navigation_type:"click",commerce_data:(0,ee.Z)(e),cosmic_ray_count:"5",image_signature:e.image_signature}}),h({component:13680,event_type:101,view_type:3,view_parameter:d,aux_data:{commerce_data:(0,ee.Z)(e)}}),m.push(`/pin/${e.id}/`,{trackingParams:c})})(e),children:[(0,u.jsx)(Q,{id:e.id}),(0,u.jsx)(p.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,u.jsx)(re,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),x&&(0,u.jsx)(p.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,u.jsx)(p.zx,{onClick:e,size:"lg",text:x})})]})}var ce=i(722767);function pe({componentType:e,handleClick:t,isVerifiedMerchant:i,marginTop:n,objects:r,showVerifiedBadge:s,showVerifiedIdentityBadge:a,storyAction:l,storyType:d,title:c,viewParameter:p,trackingParams:h}){const[m,x]=(0,o.useState)(!1);if(!r||!Array.isArray(r))return null;const g=r.filter((e=>"pin"===e.schema));if(g.length<3)return null;const f=Array.from(new Array(3)).map(((e,t)=>g[t]));return(0,u.jsx)(ce.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:i}=t[0];i>0&&!m&&((0,k.j)({event_type:3400,view_type:3,view_parameter:p,component:e}),x(!0))},children:(0,u.jsx)(de,{handleClick:t,isVerifiedMerchant:i,marginTop:n,pins:f,showVerifiedBadge:s,showVerifiedIdentityBadge:a,storyAction:l,storyType:d,title:c,viewParameter:p,trackingParams:h})})}var ue=i(536454);const he=()=>{};function me({marginTop:e=12,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,onRelatedPinsInView:n,title:r}){return r?(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(p.xu,{marginTop:e,marginBottom:2,children:(0,u.jsx)(ue.Z,{onEnter:t||he,onExit:i||he,onView:n||he,children:(0,u.jsx)(p.xv,{size:"300",align:"center",weight:"bold",children:r})})})}):null}const xe=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],ge={related_domain_collage:11830,related_domain_collage_similar:11829},fe={related_domain_collage:13327,related_domain_collage_similar:13882,related_products_collage:13176,related_products_feed_header:13176};const _e=function(e){var t,i;const{marginTop:r,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:a,onRelatedPinsInView:l,pin:d,searchQuery:h,slotIndex:m,storyId:x,trafficSource:g,viewType:f,viewParameter:_}=e,{logContextEvent:y}=(0,ae.v)(),w=(0,D.Z)(),{checkExperiment:v}=(0,c.Y)(),b=(0,F.k6)(),j=null==d?void 0:d.is_eligible_for_pdp,I=(0,o.useMemo)((()=>j?8:0===r||r?r:12),[r,j]),S=(0,n.useSelector)((({stories:e})=>e[x]));if(!S)return null;const{action:k,content_ids:P,objects:C,story_type:E,title:{format:A},tracking_params:R}=S,Z=fe[E];if("related_modules_header"===E||"related_products_feed_header"===E)return v(w?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(T.qS,{auxData:{story_id:x,story_type:E},loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:_,viewType:f,component:Z,children:({impressionTrackerRef:e})=>(0,u.jsx)(p.xu,{ref:e,children:(0,u.jsx)(me,{marginTop:I,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:a,onRelatedPinsInView:l,title:A})})}):(0,u.jsx)(T.Hs,{auxData:{story_id:x,story_type:E},loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:_,viewType:f,component:Z,children:(0,u.jsx)(me,{marginTop:I,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:a,onRelatedPinsInView:l,title:A})});const{id:L}=d||{},{url:z}=k||{};if(!d||!L||!z)return null;const N=function(e,t){const i=e?`q=${e}`:null,n=t&&"unknown"!==t?`rs=${t}`:null;let o="";return i&&n?o=`?${i}&${n}`:!i&&n&&(o=`?${n}`),o}(h,g);let H=`${z}${N}`;"related_products_collage"===E&&(H=N?`/pin/${L}/visual-search/${N}source=shopping&tab=1`:`/pin/${L}/visual-search/?source=shopping&tab=1`);const W=(P||[]).map((e=>`pin:${e}`)).join("|"),M=()=>{const e="related_domain_collage"===E?"related_domain_collage_similar":E;y({aux_data:{content_ids:W,story_id:x,story_type:E},component:fe[e],element:ge[e],event_type:101,object_id_str:L,view_type:3,view_parameter:_}),y({aux_data:{commerce_data:(0,ee.Z)(d)},component:13680,event_type:101,object_id_str:L,view_type:3,view_parameter:_}),b.push(H)};let O,B;if("related_domain_collage"===E){var U;const e=(null===(U=d.link_domain)||void 0===U?void 0:U.official_user)||{};O=e.is_verified_merchant,B=e.verified_identity}return v(w?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(T.qS,{auxData:{content_ids:W,story_id:x,story_type:E},component:Z,loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:_,viewType:f,children:({impressionTrackerRef:e})=>{var t,i;return(0,u.jsx)(p.xu,{ref:e,children:(0,u.jsx)(pe,{componentType:Z,handleClick:M,isVerifiedMerchant:O,objects:C,showVerifiedBadge:O||(null===(t=B)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!O&&(null===(i=B)||void 0===i?void 0:i.verified),storyAction:k,title:A,viewParameter:_,trackingParams:R,storyType:E,marginTop:I})})}}):(0,u.jsx)(T.Hs,{auxData:{content_ids:W,story_id:x,story_type:E},component:Z,loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:_,viewType:f,children:(0,u.jsx)(pe,{componentType:Z,handleClick:M,isVerifiedMerchant:O,objects:C,showVerifiedBadge:O||(null===(t=B)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!O&&(null===(i=B)||void 0===i?void 0:i.verified),storyAction:k,title:A,viewParameter:_,trackingParams:R,storyType:E,marginTop:I})})};var ye=i(226343);const we=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function ve({auxData:e,fullWidth:t,marginTop:i,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,onRelatedPinsInView:s,pin:a,slotIndex:l,storyId:d,trafficSource:c,viewParameter:m,viewType:x}){const g=(0,n.useSelector)((({stories:e})=>e[d])),w=(0,J.Z)();if(!g||!g.story_type)return null;const{action:b,container_type:j,custom_properties:I,display_options:S,experience:T,story_type:k,title:P,objects:C}=g;if(t)return we.includes(k)&&0===S.num_columns_requested?(0,u.jsx)(p.xu,{marginBottom:5,children:(0,u.jsx)(W,{auxData:e,slotIndex:l,storyId:d,storyType:k,trafficSource:c,viewParameter:m,viewType:x})}):k.startsWith("creator_spotlight_")?(0,u.jsx)(p.xu,{marginBottom:5,children:(0,u.jsx)(E,{id:d})}):xe.includes(k)?(0,u.jsx)(_e,{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,onRelatedPinsInView:s,pin:a,storyId:d,slotIndex:l,viewParameter:m,viewType:x,marginTop:i}):k.startsWith("related_articles")?(0,u.jsx)(X,{storyId:d,viewType:x,viewParameter:m}):k.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,u.jsx)(y.Z,{title:P}):k.startsWith("search_pinner_authority_hero")?(0,u.jsx)(O,{storyId:d,slotIndex:0,exactMatch:!0}):null;if(we.includes(k)&&0===S.num_columns_requested)return null;switch(j){case 56:return(0,u.jsx)(p.xu,{padding:2,children:(0,u.jsx)(_.Z,{slotIndex:l,storyId:d,viewType:x,viewParameter:m})})}switch(k){case"app_upsell":return w?(0,u.jsx)(A.Z,{experience:T,eligibleIds:[T.experience_id],children:(0,u.jsx)(h,{})}):null;case"feed_card_default":case"feed_card_video":return(0,u.jsx)(ye.Z,{buttonAction:b.url,buttonCustomization:I.button_customization,buttonText:b.text,experience:T,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,openNewTab:I.open_new_tab,storyType:k,titleText:P.format,titleTextColor:ye.e[S.title_text_color],titleTextCustomization:I.title_text_customization,videoPin:I.video_pin,videoPlaceholderImage:I.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,u.jsx)(ye.Z,{buttonAction:b.url,buttonText:b.text,imageAlt:I.image_alt,imageUrl:I.image,storyType:k,titleText:P.format,titleTextColor:ye.e[S.title_text_color]});case"user_brand_story_v1":return(0,u.jsx)(f,{buttonAction:b.url,buttonText:b.text,imageUrl:I.image,brands:C});case"user_color_story_v1":return(0,u.jsx)(v,{buttonAction:b.url,buttonText:b.text,colors:C});case"BUBBLE_ONE_COL":return(0,u.jsx)(p.xu,{padding:2,children:(0,u.jsx)(_.Z,{slotIndex:l,storyId:d,viewType:x,viewParameter:m})});case"social_seasonal_pin":return(0,u.jsx)(K,{slotIndex:l,storyId:d,viewType:x,viewParameter:m,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,u.jsx)(O,{storyId:d,slotIndex:l});case"stela_in_flashlight_onecol":return(0,u.jsx)(Z,{storyId:d,slotIndex:l});case"search_guides":return(0,u.jsx)(Y,{guides:g.objects,slotIndex:l,storyId:d,title:P});default:return null}}},843242:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),o=i(966338),r=i(95244),s=i(149230),a=i(825077),l=i(266725),d=i(281180),c=i(940882),p=i(883119),u=i(785893);function h(e){const{auxData:t,pattern:i,slotIndex:h,storyId:m,viewType:x,viewParameter:g}=e,f=(0,d.mN)(),_=(0,o.useSelector)((({stories:e,articles:t})=>e[m].objects.map((e=>{const i=t[e.id];return i.curator&&"string"==typeof i.curator?{...i,curator:f(i.curator)}:i})))),y=(0,o.useSelector)((({stories:e})=>e[m])),{story_type:w,referring_source:v,title:b,display_options:j,action:I}=y,{identifier_icon_name:S}=j||{},T=_.map((({type:e,id:t})=>e+":"+t)).join("|"),k={story_type:w,story_id:m,content_ids:T,...t};return(0,u.jsx)(a.Hs,{loggingId:m,objectIdStr:m,viewParameter:g,viewType:x,slotIndex:h,component:200,auxData:k,children:(0,u.jsxs)(n.Fragment,{children:[b&&(0,u.jsxs)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof S&&S!==c.J&&(0,u.jsx)(p.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,u.jsx)(p.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(S),size:14})}),(0,u.jsx)(p.xv,{weight:"bold",children:b.format})]}),(0,u.jsx)(r.Z,{bubbles:_,pattern:i,referringSource:v,storyId:m,storyType:w,viewParameter:g,viewType:x}),I&&I.url&&(0,u.jsx)(p.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,u.jsx)(p.zx,{role:"link",accessibilityLabel:I.text,color:"gray",onClick:()=>{(0,l.So)({view_type:x,view_parameter:g,aux_data:k})},text:I.text,href:I.url,rel:(0,s.Z)(I.url)?"nofollow":void 0,target:(0,s.Z)(I.url)?"blank":void 0,size:"md"})})]})})}},419685:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(966338),o=i(906935),r=i(366428),s=i(883119),a=i(785893);function l({auxData:e,slotIndex:t,storyId:i,storyType:l,viewParameter:d,viewType:c}){var p;const u=(0,n.useSelector)((({stories:e})=>e[i])),{action:h,display_options:m,objects:x,title:g}=u,f=null==m||null===(p=m.content_display)||void 0===p?void 0:p.component_type,_=(null==e?void 0:e.entered_query)||"",y={entered_query:_,grid_index:t,story_id:i,story_type:l},w=(0,r.Z)({componentType:f,contextLogData:y,impressionType:"Story",loggingId:i,slotIndex:t,viewParameter:d,viewType:c}),v=(0,n.useSelector)((({articles:e})=>x.map((t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}))));return(0,a.jsxs)(s.xu,{ref:w,children:[g&&(0,a.jsx)(s.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,a.jsx)(s.xv,{weight:"bold",children:g.format})}),(0,a.jsx)(o.Z,{action:h,bubbles:v,component:f,query:_,storyId:i,storyType:l,viewParameter:d,viewType:c})]})}},106187:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(966338),o=i(70598),r=i(987798),s=i(898781),a=i(892819),l=i(883119),d=i(856585),c=i(785893);const p=({decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:o,nameTextSize:d,renderAsPill:p,showFollowerCount:u,topic:h,topicBlob:m,topicInfoForContextualExp:x})=>{var g;const f=(0,s.ZP)(),_=(0,a.Z)(),y=x||h||m||{},w=y.images["236x"]||y.images["400x"]||y.images["474x"]||y.images.orig||{height:1,url:"",width:1},v=y.follower_count||-1,b=(0,c.jsx)(l.JO,{accessibilityLabel:f._('Selected', ' - ', ' -- '),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return p?(0,c.jsx)(r.Z,{color:y.background_color||"#767676",image:w,isSelected:n,title:y.name}):(0,c.jsxs)(l.xu,{position:"relative","aria-selected":n,children:[(0,c.jsx)(l.zd,{rounding:i||t?4:2,children:(0,c.jsxs)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,c.jsx)(l.xu,{bottom:!0,left:!0,padding:i&&n?1:0,position:"absolute",right:!0,rounding:i&&n?4:0,top:!0,children:(0,c.jsx)(l.Ee,{alt:y.name,color:y.background_color||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(g=w.url)&&void 0!==g?g:""})}),(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&n?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&n&&(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?(0,c.jsx)(l.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,c.jsx)(l.xv,{align:"center",color:"inverse",size:d,weight:"bold",children:y.name})}):(0,c.jsxs)(l.xu,{bottom:!0,left:!0,padding:e?1:2,position:"absolute",right:!0,children:[(0,c.jsx)(l.xv,{color:"inverse",size:d,weight:"bold",children:y.name}),u&&v>=0&&(0,c.jsx)(l.xu,{paddingY:1,children:(0,c.jsxs)(l.xv,{color:"inverse",size:"100",children:[(0,c.jsx)(l.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:_(o,v,{shortform:!0,shortform_maximum_fraction_digits:1})}),f._('followers', ' - ', ' -- ')]})})]}),n&&(0,c.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,c.jsx)(l.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:b}):b})]})},u=({decreaseNamePadding:e=!1,id:t,isHomefeedTuner:i,isLego:r,isSelected:s=!1,linkDestination:a="topics",nameTextSize:u="lg",onTouch:h,padding:m=2,renderAsPill:x,showFollowButton:g=!1,showFollowerCount:f=!1,shouldClickthrough:_=!1,topic:y,topicBlob:w,topicInfoForContextualExp:v,viewParameter:b,viewType:j})=>{const I=(0,n.useDispatch)(),S=(0,n.useSelector)((({topics:e})=>e[t])),T=(0,n.useSelector)((({session:e})=>e.locale)),k=null!=y?y:S,P=(0,c.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:[(0,c.jsx)(p,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:r,isSelected:s,locale:T,nameTextSize:u,renderAsPill:x,showFollowerCount:f,topic:k,topicBlob:w,topicInfoForContextualExp:v}),!!y&&g&&(0,c.jsx)(l.xu,{paddingY:2,children:(0,c.jsx)(o.Z,{textType:i?"AddRemove":"FollowFollowing",followEventType:601,id:(null==k?void 0:k.id)||"",invertColors:i,isFollowed:(null==k?void 0:k.is_followed)||!1,onFollow:e=>I((0,d.ZN)(e)),onUnfollow:e=>I((0,d.fv)(e)),size:"md",unfollowEventType:602,viewParameter:b||void 0,viewType:j||void 0})})]});let C="/";return k&&("explore"===a?C=`/explore/${encodeURIComponent(k.slug)}`:["topic","topics"].includes(a)?C=`/topics/${k.id}`:"ideas"===a?C=`/ideas/${encodeURIComponent(k.slug)}/${k.id}`:"search"===a&&(C=`/search/pins/?rs=ac&q=${encodeURIComponent(k.slug)}`)),_&&null!=k&&k.slug?(0,c.jsx)(l.iP,{role:"link",onTap:({event:e})=>{null==h||h(e)},tapStyle:"compress",rounding:2,href:C,children:(0,c.jsx)(l.xu,{padding:m,children:P})}):P}},609700:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(667294),o=i(966338),r=i(116303),s=i(70598),a=i(149230),l=i(898781),d=i(883119),c=i(785893);const p={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},u=({height:e,image:t,width:i})=>{var n,o,r;const s=(0,l.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:i,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:s._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,naturalHeight:null!==(o=t.height)&&void 0!==o?o:1,src:null!==(r=t.url)&&void 0!==r?r:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p,height:e,width:i,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:i,height:e})})};var h=i(892819),m=i(803035),x=i(856919),g=i(349700),f=i(266725),_=i(281180),y=i(780280),w=i(825077),v=i(5226);function b({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:p=!1,onFollowUser:b,onUnfollowUser:j,userId:I,userPins:S,viewParameter:T,viewType:k,truncateName:P=!1}){const C=(0,l.ZP)(),E=(0,h.Z)(),A=(0,o.useDispatch)(),{locale:D}=(0,y.B)(),[F,R]=(0,n.useState)(p?window.innerWidth-16:null),Z=(0,_.mN)()(I);if(!Z)return null;const{contextual_pin_image_urls:L,explicitly_followed_by_me:z,follower_count:N=0,full_name:H,image_medium_url:W,is_verified_merchant:M,recent_pin_images:O,username:B,verified_identity:U}=Z,$=e=>F?(F-(e-1))/e:0,V=p?1.6*$(4):117,Y=(null==S?void 0:S.map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==O?void 0:O["222x"])||(null==O?void 0:O["192x"])||[];let K=(null==L?void 0:L["222x"])||(null==L?void 0:L["192x"])||[];i&&0===K.length&&(K=q);const G=p&&K.length<=0;let X=p?K.concat(q).slice(0,4):Y.concat(q).slice(0,2);0===X.length&&(X=[void 0,void 0]);const J=!G&&(F?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:X.map(((e,t)=>(0,c.jsx)(u,{height:V,image:e,width:$(X.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:V,ref:e=>{e&&R(e.offsetWidth)},width:"100%"})),Q=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(r.Z,{outline:!0,name:null!=H?H:"",src:null!=W?W:""})})}),ee=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:1,alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(p?(F||0)/2:F)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:P?1:void 0,children:M||null!=U&&U.verified?(0,c.jsx)(m.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=H?H:"",verifiedType:M?"verifiedMerchant":"verifiedIdentity",truncate:P}):H})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,g.nk)(C.ngettext('{{followers}} follower', '{{followers}} followers', N, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:E(D,N,{shortform:!0})})})]}),te=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{(0,f.j)({event_type:9029,object_id_str:I,view_type:k,view_parameter:T,aux_data:t})},rel:(0,a.Z)({url:e.url})?"nofollow":void 0,target:(0,a.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(s.Z,{id:I,isSecondaryButton:!0,isFollowed:z,onFollow:e=>{b&&b(),A((0,v.ZN)(e))},onUnfollow:e=>{j&&j(),A((0,v.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:T,viewType:k})});return(0,c.jsx)(w.Cy,{loggingId:I,objectIdStr:I,slotIndex:0,viewParameter:T,viewType:k,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(x.MZ,{to:`/${B}/`,onTouch:()=>{return e=I,void(0,f.j)({event_type:43,object_id_str:e,view_parameter:T,view_type:k});var e},children:(0,c.jsxs)(d.kC,{direction:"column",gap:2,width:"100%",children:[J,p?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:2,children:[Q(),ee("start")]}),te]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:2,children:[Q(-10),ee("center"),te]})]})})})})}},544826:(e,t,i)=>{i.d(t,{DZ:()=>p,Dv:()=>m,Es:()=>d,HW:()=>l,iV:()=>u,mv:()=>c,nb:()=>h});var n=i(957161),o=i(862624),r=i(693099);const s=e=>e>=Date.now()-72e5,a=(e,t)=>{const i=[];if(e)for(const n of e)t&&!n.is_shared||s(n.ts)&&i.push(n);return i},l=()=>{const e=(0,n.qn)(r.zR),t=e?JSON.parse(e):[],i=a(t,!1),o=a(t,!0),l=i.map((e=>e.first_pin_image_signature)),d=i.map((e=>e.pin_id)),c=o.map((e=>e.first_pin_image_signature)),p=(e=>{const t={};if(e)for(const i of e)i.is_shared&&s(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(t),u=(0,n.qn)(r.dy),h=u?JSON.parse(u):[];return{extraPlpImages:l,plpImageRenderData:i,extraPlpIds:d,extraBlpImages:a(h,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:p}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){if(e[i].id!==t[i].id)return!1}return!0},c=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),p=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>!e.is_followed));function h(){const{checkExperiment:e}=(0,o.Y)(),{group:t}=e("activation_new_user_holdout_2022_h2");return t.includes("holdout")}const m=()=>{const{checkExperiment:e}=(0,o.Y)(),{anyEnabled:t,group:i}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(i.slice(-1)):NaN}}},856585:(e,t,i)=>{i.d(t,{ZN:()=>c,bJ:()=>h,fm:()=>u,fv:()=>p,hr:()=>d,lD:()=>m});var n=i(6637),o=i(47495),r=i(414327),s=i(782677),a=i(983360);function l(e,t){return n.ZP.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const d=(e,t)=>({type:a.K0,payload:{id:e,value:t}}),c=(e,t)=>i=>{l(e,t).callCreate().catch((()=>i(d(e,!1)))),i(d(e,!0))},p=(e,t)=>i=>{l(e,t).callDelete().catch((()=>i(d(e,!0)))),i(d(e,!1))},u=e=>t=>{const i="NuxTopicToCreatorsResource";return n.ZP.create(i,{topicId:e}).callGet().then((n=>{const a=(0,s.Fv)(n.resource_response.data,o.Z[i]);return t((0,r.Sr)(i,{topicId:e},n,a,!1,void 0)),n.resource_response.data}))},h=e=>t=>{const i=e.reduce(((e,t)=>(e[t.id]=!t.is_followed,e)),{});return n.ZP.create("UpdateFollowedInterestsResource",{updated_interest_follows:i}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:i})=>{t(d(e,!i))}))}))},m=(e,t="")=>i=>n.ZP.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const n=e[t];i(d(t,n))}))}))},157796:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),o=i(883119),r=i(785893);function s({color:e="red",duration:t,finalProgress:i,shape:s="pill"}){const[a,l]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===s;return(0,r.jsx)(o.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${i}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${a?"-5px":"-100%"})`:`scaleX(${a?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},100183:(e,t,i)=>{i.d(t,{CC:()=>n,Ll:()=>r,XF:()=>o});const n=(e,t)=>((e,t,i)=>({x:Math.floor(e*Math.cos(i)),y:Math.floor(t*Math.sin(i))}))(t/2,e/2,2*Math.random()*Math.PI),o=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},121093:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),o=i(966338),r=i(332611),s=i(242923);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),a(this,"state",{hasCompleted:[],hasDismissed:[]}),a(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:o}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",o(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))})),a(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:o,preventRemoval:r,targeting:s}=this.props,a=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:l}=n||{},d=r||2===a;(1===a||d)&&e&&l&&(o?i(n,d):s?t(e,l,d,s):t(e,l,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),a(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:o,targeting:r}=this.props,{placement_id:s,experience_id:a}=i||{};i&&!this.state.hasDismissed.includes(a)&&(n?t(i):r?e(s,a,!!o,r):e(s,a,!!o),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),a(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:o}=this.props,{experience_id:r,type:s}=e;if(t&&t.includes(r))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(i&&i.includes(s))return!0;if(o&&o===s)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}a(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const d=(0,o.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,i,n,o)=>e((0,r.CK)(t,i,n,!1,{},o)),completeExperienceObject:(t,i)=>e((0,s.Tl)(t,i)),dismissExperience:(t,i,n,o)=>e((0,r.Qu)(t,i,n,void 0,o)),dismissExperienceObject:t=>e((0,s.CF)(t)),viewExperience:(t,i,n)=>e((0,r.UT)(t,i,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,s.dy)(t))})))(l)},242923:(e,t,i)=>{i.d(t,{CF:()=>a,Tl:()=>s,dy:()=>l});var n=i(6637),o=i(332611);const r=(e,t)=>(i,r)=>s=>{if(i&&i.id){const a=n.ZP.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{s((0,o.fO)())}));break;case"completed":a.callUpdate().then((()=>{r||s((0,o.fO)())}));break;case"viewed":a.callUpdate()}}},s=r("UserExperienceCompletedResource","completed"),a=r("UserExperienceResource","dismissed"),l=r("UserExperienceViewedResource","viewed")},131108:(e,t,i)=>{i.d(t,{HI:()=>s,f8:()=>l,hm:()=>a,sH:()=>r});var n=i(883119),o=i(785893);const r=({children:e})=>(0,o.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),s=({children:e})=>(0,o.jsx)(n.xu,{padding:2,children:e}),a=({children:e})=>(0,o.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,o.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,i)=>{i.d(t,{Mf:()=>y,q4:()=>o,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),o=2/3,{LEFT:r,CENTER:s,RIGHT:a}={LEFT:0,CENTER:1,RIGHT:2},l={[r]:"start",[s]:"center",[a]:"end"},{SMALL:d,MEDIUM:c,LARGE:p}={SMALL:0,MEDIUM:1,LARGE:2,EXTRA_LARGE:3},u={web:{[d]:"16",[c]:"20",[p]:"24"},mweb:{[d]:"12",[c]:"16",[p]:"18"}},{ITALICS:h,NORMAL:m}={NORMAL:0,ITALICS:1},x={[h]:"italics",[m]:"normal"},{BOLD:g,NORMAL:f}={NORMAL:0,BOLD:1},_={[g]:"bold",[f]:"normal"},y=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:o},r)=>({color:e,fontStyle:x[null!=t?t:0],fontWeight:_[null!=i?i:1],horizontalAlignment:l[null!=n?n:0],fontSize:u[r][null!=o?o:0]+"px"})},67223:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);const o=new Map;let r=null;const s=e=>{e.forEach((e=>{const t=o.get(e.target);t&&t(e)}))};function a({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:i,rootMargin:a}){const l=(0,n.useRef)(null);let d=!1;const c=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,o.has(t))&&(d&&(e(!1),d=!1))},p=(0,n.useCallback)((n=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};r=r||new window.IntersectionObserver(s,n),o.set(e,i),r.observe(e)})(l.current,n,(n=>{if(!o.has(l.current))return;const r=t?n.intersectionRatio>=.5:n.intersectionRatio>0||n.isIntersecting,s=i?n.intersectionRatio>=1:r,a=i?0===n.intersectionRatio:!s;!d&&s?(t=>{const i=t.intersectionRatio>0||t.isIntersecting;d=i,d&&e(!0)})(n):d&&a&&c()}))}),[l.current]);return(0,n.useEffect)((()=>(p(a),()=>{var e;l.current instanceof HTMLElement&&(c(),e=l.current,r.unobserve(e),o.delete(e))})),[p]),l}},317254:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(969853),o=i(667294),r=i(276602),s=i(543059);function a({children:e,isAtEndOfFeed:t,pinData:i,itemCount:a,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,r.EV)(),i=(0,o.useRef)(null);(0,o.useEffect)((()=>{e!==i.current&&(i.current=e,t&&(0,s.ZP)(s.at))}),[!!t,e])}(a),e}},740990:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90908-7ae878bac95de28a.mjs.map