(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[44904],{906587:e=>{var i,n,t={argumentDefinitions:[{kind:"RootArgument",name:"imageSpec_474x"}],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Variable",name:"spec",variableName:"imageSpec_474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:i,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="29d924e92c135666f7f0d8ab5359bc44",e.exports=t},276667:e=>{var i,n,t,a,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[i,n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};o.hash="759c7f5896523fe1b8c04eaa4e14d6ac",e.exports=o},701305:e=>{var i=[],n=[];function t(e,i,n,a){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return!1;if("object"!=typeof e||"object"!=typeof i)return!1;var o=Object.prototype.toString,r=o.call(e);if(r!=o.call(i))return!1;switch(r){case"[object String]":return e==String(i);case"[object Number]":return!isNaN(e)&&!isNaN(i)&&e==Number(i);case"[object Date]":case"[object Boolean]":return+e==+i;case"[object RegExp]":return e.source==i.source&&e.global==i.global&&e.multiline==i.multiline&&e.ignoreCase==i.ignoreCase}for(var l=n.length;l--;)if(n[l]==e)return a[l]==i;n.push(e),a.push(i);var s=0;if("[object Array]"===r){if((s=e.length)!==i.length)return!1;for(;s--;)if(!t(e[s],i[s],n,a))return!1}else{if(e.constructor!==i.constructor)return!1;if(e.hasOwnProperty("valueOf")&&i.hasOwnProperty("valueOf"))return e.valueOf()==i.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(i).length)return!1;for(var c=0;c<d.length;c++)if(!t(e[d[c]],i[d[c]],n,a))return!1}return n.pop(),a.pop(),!0}e.exports=function(e,a){var o=i.length?i.pop():[],r=n.length?n.pop():[],l=t(e,a,o,r);return o.length=0,r.length=0,i.push(o),n.push(r),l}},60139:e=>{function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,i,n)=>{var t=n(60139);e.exports=t},554290:(e,i,n)=>{var t=n(406557);e.exports=function(e){return"function"==typeof e?e:t}},498913:(e,i,n)=>{var t=n(422545),a=n(554290),o=n(640554),r=4294967295,l=Math.min;e.exports=function(e,i){if((e=o(e))<1||e>9007199254740991)return[];var n=r,s=l(e,r);i=a(i),e-=r;for(var d=t(s,i);++n<e;)i(n);return d}},418601:(e,i,n)=>{var t=n(14841),a=1/0;e.exports=function(e){return e?(e=t(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,i,n)=>{var t=n(418601);e.exports=function(e){var i=t(e),n=i%1;return i==i?n?i-n:i:0}},733756:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(30700),a=n(883119),o=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:_,pressState:h,shape:g,text:v})=>{const f=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(i),y=(({color:e,icon:i})=>i?s:"transparent"===e?{__style:{...r.__style,...l}}:r)({color:i,icon:c}),x=(0,o.jsx)(a.xu,{position:"relative",children:(0,o.jsx)(a.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===g?(b=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):y,children:(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(a.JO,{accessibilityLabel:e,color:f,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(a.xv,{color:f,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var b;return _?(0,o.jsx)(t.Z,{onTouch:_,rounding:"pill"===g?"pill":2,pressState:h||"none",children:(0,o.jsx)(a.xu,{ref:d,children:x})}):x}},856919:(e,i,n)=>{n.d(i,{MZ:()=>A,di:()=>D,Ai:()=>C});var t=n(667294),a=n(474635),o=n(205443),r=n(733756),l=n(735079),s=n(954571),d=n(250059),c=n(149230),u=n(407043),p=n(48714),m=n(925927);const _=({children:e,external:i,externalQueryParams:n,target:t,href:a})=>{const{logContextEvent:o}=(0,u.v)(),r=(0,m.k6)(),l=(0,m.TH)();if(!a)return null;const s=(0,d.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:s})||i?(0,p.lI)({href:s,queryParams:n,location:l},o,null):(0,p.G3)({event:e,href:a,history:r,target:"blank"===t?"blank":null})}})};var h=n(883119),g=n(785893);const v=({children:e,external:i,externalQueryParams:n,inline:t=!1,newTab:a,nofollow:o,onTouch:r,onBlur:l,onFocus:s,pressState:c,rounding:u,to:p})=>(0,g.jsx)(_,{external:i,target:a?"blank":null,externalQueryParams:n,href:p,children:({navigate:i})=>(0,g.jsx)(h.rU,{onBlur:l?({event:e})=>l(e):void 0,onFocus:s?({event:e})=>s(e):void 0,underline:"none",href:(0,d.Z)(p),inline:t,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),null==r||r(e),e.defaultPrevented||i(e)},rel:o?"nofollow":"none",rounding:u,tapStyle:(Array.isArray(c)?c:[c]).includes("compress")?"compress":"none",children:e})}),f=({external:e,externalQueryParams:i,newTab:n,onTouch:t,to:a,...o})=>(0,g.jsx)(_,{external:e,target:n?"blank":null,externalQueryParams:i,href:a,children:({navigate:e})=>(0,g.jsx)(r.Z,{onTouch:i=>{null==t||t(i),i.defaultPrevented||e(i)},...o})});var y=n(949372),x=n(965708),b=n(30287),P=n(968228),w=n(266725),k=n(780280),T=n(281180),S=n(957161),I=n(622096);const j=(e,i=!1)=>function({isAppUpsellDisabled:n,...r}){const{children:d,clientTrackingParams:c,deeplinkUri:u,external:p,onTouch:m,refresh:_,to:v,viewParameter:f,viewType:j}=r,A=(0,y.Z)(),[C,D]=(0,t.useState)(!1),L=(0,x.Z)(),{userAgent:{platform:z},locale:O}=(0,k.B)(),E=(0,T.Tt)(),Z=()=>{(0,w.j)({event_type:1701,view_type:j,view_parameter:f}),C&&D(!1)};return(0,g.jsxs)(h.xu,{"data-test-id":"deeplink-wrapper",children:[C&&(0,g.jsx)(a.Z,{within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,g.jsx)(o.Z,{clientTrackingParams:c,isOpen:!0,onDismiss:()=>{},onOpenInApp:()=>{(0,S.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),Z()},shouldTrackDismiss:!0,to:v,viewParameter:f,viewType:j})}),(0,g.jsx)(l.Z,{children:t=>(0,g.jsx)(e,{...r,onTouch:e=>{const a=A&&!n&&L&&!p&&!_&&!(0,b.FP)(window)&&!("ios"===z&&(O||"").startsWith("ar"))&&(0,P.kp)((0,s.Z)(null==E?void 0:E.created_at));var o;a?(e.stopPropagation(),e.preventDefault(),D(!0)):"branchfallback"!==(0,S.qn)("deeplinkBehavior")||(0,I.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,I.Nh)("fallbackAttempt",1),t(u,`${window.location.origin}${o=v,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),Z()),i&&a||!m||m(e)},children:d})})]})},A=j(v),C=j(f),D=j(r.Z,!0)},735079:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(966338),a=n(172071),o=n(826067);const r="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],s=(e,i)=>i?(0,o.ru)(e,{invite_code:i}):e,d=(e,i,n)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){const i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?s(e,n):"ios"===i||"ipad"===i?s(e.iOS,n):"android"===i?s(e.android,n):null},c=({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,redirectToLite:s,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:i,platform:n,fallbackUrl:t,unauthId:a})=>({deeplink_path:d(e,n,i),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:a,utm_source:140,utm_medium:2152,...t?{af_r:t}:null}))({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,unauthId:c,userAgent:u});if(a.Z.increment("mweb.deeplink",1,{platform:t}),n&&a.Z.increment("mweb.deeplink.invite_code",1),a.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),s){a.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const i=(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(i)}})({unauthId:c});window.location.href=(0,o.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===t){const i=(({deeplinkUri:e,invite_code:i,platform:n,unauthId:t})=>{const a=JSON.stringify({deeplink_path:d(e,n,i),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:t});return{referrer:(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:e,invite_code:n,platform:t,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,o.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,o.ru)(r,i)})).catch(a.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,o.ru)(r,i)}else{if(a.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===t&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,o.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,o.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=n(619277),p=n(968228),m=n(785893);function _({children:e,invite_code:i}){const{userAgentPlatform:n,unauthId:a,userAgent:o}=(0,t.useSelector)((({session:e})=>e));return e((async(e,t)=>{c({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:n,redirectToLite:(0,p.Rp)({platform:n,userAgent:o}),unauthId:a,userAgent:o})}))}const h=e=>(0,m.jsx)(u.ty,{children:i=>(0,m.jsx)(_,{...e,invite_code:i})});h.displayName="DeepLinkNavigator";const g=h},825077:(e,i,n)=>{n.d(i,{fv:()=>g,GR:()=>p,Hs:()=>f,Mv:()=>_,uc:()=>h,dL:()=>m,qS:()=>v,Y4:()=>b,HE:()=>x,Cy:()=>y});var t=n(667294),a=n(973935),o=n(124580),r=n(266725);function l(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class s extends t.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{(0,r.vP)({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return t.Children.only(this.props.children)}}var d=n(407043);function c({auxData:e,component:i,eventData:n,eventType:a,impressionType:r,isPaused:l,objectIdStr:s,onTracked:c,viewData:u,viewType:p,viewParameter:m}){const _=(0,t.useRef)(null),{logImpression:h}=(0,d.v)(),g=(0,t.useCallback)((()=>{const t=t=>{h({viewData:u||{},viewType:p,viewParameter:m,eventType:a,impressionType:r,auxData:e,component:i,objectIdStr:s,eventData:{endTime:t.endTime,time:t.startTime,...n}}),c&&c(n)};try{if(_.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;o.Z.start(_.current).onExitViewport(t).setDebugId(e||i||"unknown")}}catch(l){window.console.error('Can only track impressions for type "HTMLElement"')}}),[_.current]);return(0,t.useEffect)((()=>{l||g();const e=_.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[l,g]),_}var u=n(785893);const p=e=>(0,u.jsx)(s,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const i=c({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},_=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},h=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},g=e=>(0,u.jsx)(s,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const i=c({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},f=e=>(0,u.jsx)(s,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const i=c({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},x=e=>{const i=c({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},b=e=>{const i=c({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},142958:(e,i,n)=>{n.d(i,{U:()=>l,m:()=>s});var t=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("NavFooterContext");function s({children:e}){const[i,n]=(0,t.useState)(),[a,l]=(0,t.useState)(!1),[s,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1);return(0,o.jsx)(r,{value:{forceShowNavFooter:p,homeFlyoutText:i,isNavFooterHiddenAfterScroll:a,setForceShowNavFooter:m,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:l,setShowHomeBadge:d,setShowHomeFlyoutWithButton:u,showHomeBadge:s,showHomeFlyoutWithButton:c},children:e})}},556080:(e,i,n)=>{n.d(i,{Z:()=>be,K:()=>pe});var t=n(667294),a=n(966338),o=n(319915),r=n(680046),l=n(558150),s=n(248975),d=n(609943),c=n(958007),u=n(954571),p=n(30700),m=n(81226),_=n(116303),h=n(561195),g=n(883119),v=n(785893);function f({maxRating:e,rating:i,text:n}){return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(h.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,v.jsx)(t.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}var y=n(898781),x=n(755506);const b=({pinId:e})=>{var i;const n=(0,y.ZP)(),o=(0,a.useSelector)((({pins:e})=>e))[e];if(!o)return null;const{pinProduct:r}=(0,x.Fi)({i18n:n,pin:o});if(!r||!r.price)return null;const l=r.standard_price||r.price,s=r.min_price||"",d=r.max_price||"",c=r.in_stock||!1,u=null===(i=o.rich_summary)||void 0===i?void 0:i.site_name,p="dark",m=c?p:"subtle";return(0,v.jsxs)(t.Fragment,{children:[u&&(0,v.jsx)(g.xv,{color:p,size:"100",children:u}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[s&&d?(0,v.jsxs)(g.xv,{size:"100",color:m,children:[s," - ",d]}):(0,v.jsx)(g.xv,{size:"100",color:m,children:l}),!c&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",color:m,children:"·"})}),(0,v.jsx)(g.xv,{size:"100",color:m,children:n._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var P=n(947599),w=n(23084),k=n(941646),T=n(50286),S=n(803035),I=n(997440),j=n(923297),A=n(904411),C=n(925927),D=n(867820),L=n(53987);const z=(0,t.lazy)((()=>n.e(42368).then(n.bind(n,342368)))),O=(0,t.lazy)((()=>n.e(25397).then(n.bind(n,125397)))),E=({title:e})=>{const i=(0,T.ZP)(),n=(0,C.TH)();return(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:n,item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===i?"300":"100",weight:"bold",children:e})})})},Z=({addPinCountExpDisplayData:e={},allowPriceIndicator:i,contextMenu:n,credits:r,hidePinMetadata:l,hasAffiliatedProducts:s,isHubFeed:d,isPromotedPin:c,isSponsoredPin:u,isSquarePin:m,marginTop:h,marginStart:x,marginEnd:Z,onCreditsClick:N,pinDescription:R,pinId:M,pinnedToBoardId:U,pinReactionCounts:F,recipeCookTime:B,recipeMaxRating:H,recipeRating:W,recipeReviewCount:$,saves:G=0,shouldShowReactions:K,showSaveCount:V,style:q="default",title:J,type:Y})=>{var X,Q,ee,ie,ne,te,ae,oe;const re=(0,y.ZP)(),le=(0,C.TH)(),se=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),de=(0,T.ZP)(),ce=J||R||"oneTap"===Y,ue=(0,a.useSelector)((({pins:e})=>e[M])),pe=(0,A.gC)()(U||ue&&ue.board),me=ue.pinner,_e=c&&(null===(X=ue.promoter)||void 0===X?void 0:X.id)===(null===(Q=ue.native_creator)||void 0===Q?void 0:Q.id),he=ue.sponsorship?(0,v.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==r?void 0:r.subtitle}):void 0,ge="overlay"===q,ve=K&&F&&Object.keys(F).length>0&&(0,v.jsx)(g.xu,{height:18,display:ge?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(z,{pinReactionCounts:F})})})}),fe=V&&!!G&&(0,v.jsx)(g.xu,{height:18,display:ge?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_SaveAggregation",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(O,{saves:G,addPinCountExpDisplayData:e})})})}),ye=l?0:h||1;return(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:m?i?104:72:void 0,marginEnd:Z||1,marginStart:x||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:ye,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(t.Fragment,{children:[(0,v.jsxs)(t.Fragment,{children:[(u||s)&&!_e&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(w.Z,{hasAffiliatedProducts:s,isPromoted:c,sponsorName:he,sponsorshipStatus:null===(ee=ue.sponsorship)||void 0===ee?void 0:ee.status})})}),J&&!d&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:se&&!l&&(0,v.jsx)(E,{title:J})}),"desktop"===de&&!se&&R&&!(0,L.$Y)(le)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"100",inline:!0,children:R})})})]}),i&&(0,v.jsx)(b,{credits:r,pinId:M}),"recipe"===Y&&!!$&&(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!$&&(0,v.jsx)(f,{maxRating:H||"",rating:W||"",text:""}),!!B&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",children:"·"})}),(0,v.jsx)(g.xv,{size:"100",children:(0,I.IS)({...(0,j.u)(B),i18n:re})})]})]})})]})})}),!ge&&ve,!ge&&fe,r&&(0,v.jsx)(p.Z,{onTouch:e=>N&&N(e),pressState:"none",children:(0,v.jsx)(g.xu,{children:(!l||u||_e)&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:ge?-9:h||(ce&&!l?1:0),marginBottom:l?2:0,position:"relative",direction:ge?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:ge?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-avatar-image"})},children:(0,v.jsx)(_.Z,{name:r.title||"",outline:ge,size:ge?"lg":"sm",src:ge&&r.largeAvatar||r.mediumAvatar||r.avatar||void 0})})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ge?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(g.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-name"})},children:[r.title&&(0,v.jsx)(g.xv,{lineClamp:1,size:"100",weight:u&&!_e||s?"normal":"bold",children:r.title===(null==me?void 0:me.full_name)&&(null!=me&&me.is_verified_merchant||null!=me&&null!==(ie=me.verified_identity)&&void 0!==ie&&ie.verified)?(0,v.jsx)(S.Z,{badgeSize:"sm",badgeSpacing:2,fullName:r.title,verifiedType:me.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):r.title}),r.subtitle?(!u&&!l||_e)&&(0,v.jsx)(g.xv,{lineClamp:u||s?void 0:1,size:"desktop"===de?"200":"100",weight:d||"desktop"===de?"bold":"normal",children:r.subtitle}):!se&&pe?(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(ne=pe.url)&&void 0!==ne?ne:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),(0,D.LW)({action:"click",pageLocation:le,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:pe.name})})}):null]})})]})})}),!r&&"desktop"===de&&!!me&&((0,L.L6)(le)||(0,L.cD)(le)||(0,L.$Y)(le))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:ce?2:0,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-avatar-image"})},children:(0,v.jsx)(_.Z,{name:me.username||"",size:"sm",src:null!==(te=me.image_small_url)&&void 0!==te?te:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(g.rU,{underline:"hover",href:`/${me.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_board"),(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-name"})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:me.full_name||me.username})}),(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(ae=null==pe?void 0:pe.url)&&void 0!==ae?ae:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),(0,D.LW)({action:"click",pageLocation:le,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:null!==(oe=null==pe?void 0:pe.name)&&void 0!==oe?oe:""})})})]})]}),ge&&ve]}),(0,v.jsx)(g.xu,{position:ge?"absolute":void 0,right:!0,children:n})]})})};var N=n(857079),R=n(349700);const M=(0,t.lazy)((()=>n.e(96011).then(n.bind(n,296011)))),U=({inviteCode:e})=>{const i=(0,y.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(P.Z,{fallback:(0,v.jsx)(N.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:(0,v.jsx)(M,{invite_code:e,children:e=>{const n=e?e.sender:null,t=n&&n.first_name?n.first_name.substring(0,30):"";if(!t)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",o=(0,R.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(_.Z,{name:t,src:a})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})})})};var F=n(806015),B=n(55275);const H={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},W=(e,i,n)=>(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{inline:!0,href:i,tapStyle:"none",underline:"hover",children:n})},e);function $({color:e,getFeedbackText:i,onUnfollow:n,showing:a,unfollowed:o}){const r=(0,y.ZP)(),[l,s]=(0,t.useState)(a?"fadeIn":"initial"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>("initial"===l&&a&&(d.current=window.requestAnimationFrame((()=>s("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[l,s,a]);const{subTitle:c,title:u,unfollow:p}=i(W);let m=u,_=c;p&&o&&(m=p.title,_=p.subTitle);const h=()=>p?(0,B.t)(p.action,p.actionOptions,n):void 0;return a&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...H[l]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(g.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"400",color:"inverse",children:m}),_&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"inverse",size:"200",inline:!0,children:_}),(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:h})})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:h})})]})})}var G=n(116578),K=n(992750);function V({pin:e,board:i,pinner:n}){var t,a,o,r;return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,K.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(t=e.rich_summary)||void 0===t?void 0:t.display_name,richMetadataTitle:null===(a=e.rich_metadata)||void 0===a?void 0:a.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(o=e.story_pin_data)||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.pin_title,placeSummaryName:e.place_summary})||e.description})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(G.C,{pin:e,board:i,pinner:n,size:"sm"})})]})}function q({pin:e,board:i,pinner:n}){var t,a,o,r,l;const s=(0,y.ZP)();if(!e)return null;const{pinProduct:d}=(0,x.Fi)({i18n:s,pin:e}),c=(null==d?void 0:d.standard_price)||(null==d?void 0:d.price),u=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name;return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",direction:"column",children:[(0,v.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsxs)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:[(0,v.jsx)(g.xv,{size:"100",weight:"bold",children:c}),(0,v.jsx)(g.xv,{size:"100",weight:"bold",lineClamp:c?3:2,children:(0,K.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(a=e.rich_summary)||void 0===a?void 0:a.display_name,richMetadataTitle:null===(o=e.rich_metadata)||void 0===o?void 0:o.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(r=e.story_pin_data)||void 0===r||null===(l=r.metadata)||void 0===l?void 0:l.pin_title,placeSummaryName:e.place_summary})||e.description})]}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(G.C,{pin:e,board:i,pinner:n,size:"sm"})})]}),u&&c&&(0,v.jsx)(g.xv,{size:"100",children:u})]})}var J=n(285230),Y=n(364245),X=n(81759),Q=n(358589),ee=n(856919),ie=n(236458),ne=n(825077),te=n(185894),ae=n(811403),oe=n(378518),re=n(862624),le=n(813401),se=n(550407),de=n(780679),ce=n(266725);function ue(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const pe=({isDesktop:e})=>e?0:1,me=e=>Boolean(e.is_eligible_for_web_closeup),_e=e=>Boolean(e.promoter&&!e.is_downstream_promotion),he={width:1,height:1,url:""},ge=e=>{const{attribution:i,embed:n,is_eligible_for_web_closeup:t,rich_summary:a,videos:o,story_pin_data_id:r}=e,l=n||i&&i.embed;return t?"oneTap":o||l&&"video"===l.type?"video":l&&"gif"===l.type?"gif":a&&"product"===a.type_name?"product":a&&"recipe"===a.type_name?"recipe":r?"storyPin":"image"},ve=e=>{if("video"===ge(e)&&e.videos&&e.videos.video_list){const{duration:i=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,m.Z)(i)}return""},fe=e=>{var i;if("product"!==ge(e))return null;const[n]=(null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[];if(!n)return null;const t=n.offer_summary;return t&&(t.price||t.max_price)},ye=(0,t.lazy)((()=>Promise.all([n.e(20287),n.e(672)]).then(n.bind(n,160465))));class xe extends t.Component{constructor(...e){super(...e),ue(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1}),ue(this,"getPinImage",(()=>{const{pin:e,isSquarePin:i,shouldLimitResolution:n}=this.props;if(!e||!e.images)return he;if(n&&e.images["170x"])return e.images["170x"];var t;if(i)return{height:136,url:null===(t=e.images["236x"])||void 0===t?void 0:t.url,width:136};const a=["236x","170x","136x136","736x","474x","orig"];for(const o of a)if(e.images[o]&&e.images[o].url)return e.images[o];return he})),ue(this,"getImpressionData",(()=>{var e,i;const{pin:n}=this.props,t=null===(e=n.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,a=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&n.videos?n.videos.id:void 0}:{},o=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:o.url||"",...a,...this.props.impressionData}})),ue(this,"getAuxData",(()=>{const{auxData:e={},pin:i,pwaType:n}=this.props;return{commerce_data:(0,l.Z)(i),pwa_type:n,...e}})),ue(this,"getFeedbackType",(()=>{const{board:e,feedback:i,viewParameter:n,pin:t}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:i,viewParameter:n,pin:t,pinner:t.pinner})})),ue(this,"getRecommendationDescription",(e=>{const{board:i,pin:n}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),ue(this,"getPinHiddenFeedbackText",(e=>{const{board:i,pin:n}=this.props,t=n.promoter,a=this.feedbackHelpers.getUnfollowAction({board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return _e(n)&&null!=t&&t.full_name?{title:"",subTitle:(0,R.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.full_name})}:a?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),ue(this,"feedbackHelpers",(0,r.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:R.nk})),ue(this,"logOneTap",(()=>{const{pin:e,trackingParams:i,viewType:n,viewParameter:t,auxData:a}=this.props,o=(0,d.Z)(i,e.tracking_params),r={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:e.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:(0,l.Z)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:o};(0,ce.j)({event_type:8948,view_type:n,view_parameter:t,object_id_str:e.id,clientTrackingParams:o,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,ce.jC)(r),(0,ce.j)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:o,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})})),ue(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),ue(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),ue(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),ue(this,"handleClick",(e=>{const{auxData:i,componentType:n,deviceType:t,pin:a,slotIndex:o,trackingParams:r,viewParameter:s,viewType:c,onPinClick:u,isAuth:p,unauthDesktopSignupModalPageContext:m}=this.props,_=e=>(0,D.My)(`unauth_pin_rep.${e}.${String(s)}`);if(_("click"),(0,ce.ob)({view_type:c,view_parameter:s,element:a.story_pin_data_id?12372:35,component:n,object_id_str:a.id,clientTrackingParams:(0,d.Z)(r,a.tracking_params),aux_data:{commerce_data:(0,l.Z)(a),grid_index:o,image_signature:a.image_signature,...i}}),me(a)||(0,ce.j)({event_type:8948,view_type:c,view_parameter:s,object_id_str:a.id,clientTrackingParams:(0,d.Z)(r,a.tracking_params),aux_data:{image_signature:a.image_signature,commerce_data:(0,l.Z)(a),closeup_navigation_type:"click",grid_index:o,cosmic_ray_count:"3",...i}}),!p)switch((0,D.LW)({action:"click",item:"pin",pageLocation:this.props.location}),c){case 3:(0,D.NC)("click_pin_related_image");break;case 5:(0,D.NC)("click_board_pin_image");break;case 210:(0,D.NC)("click_topic_pin_image")}if(me(a)&&this.logOneTap(),u&&u(),"desktop"===t){if(e.metaKey){_("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${a.id}/`,"_blank").focus()}else if(!p&&m){const{pinImageClickHandler:i}=m;i({event:e,pin:a,linkTarget:"duploClientNav"})}}})),ue(this,"handleCreditsClick",(e=>{var i;const{history:n,pin:t}=this.props,{id:a,sponsorship:o,story_pin_data_id:r}=t,{creator:l,sponsor:s}=o||{},{id:d}=l||{},{id:c}=s||{},u=!!r;e.stopPropagation(),e.preventDefault();const p=null===(i=this.getCredits())||void 0===i?void 0:i.link;p&&n.push(p),(0,ce.So)({view_type:3,element:27,object_id_str:a,component:u?230:void 0,aux_data:{pin_id:a,...d&&c?{creator_id:d,sponsor_id:c}:{}}})})),ue(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),ue(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:i,board:n,setSharingOnBoardPage:t}=this.props;n&&i&&t&&n.isSocialSeasonalBoard&&t(!0,"pin",i.id)})),ue(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:i,viewParameter:n}=this.props,t=3375===n;return e&&43===n&&!(0,u.Z)(i.created_at)||t})),ue(this,"convertToGif",(e=>{const i=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:i,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:i,pin:n,viewParameter:t,location:a}=this.props;if(!e&&0===i&&3070===t){const e=a.pathname;(0,X.H$)(e,n)}}getIsClaimedContent(){var e,i;const{pin:n,viewParameter:t}=this.props;return 3375===t&&!(null===(e=n.link_domain)||void 0===e||null===(i=e.official_user)||void 0===i||!i.is_primary_website_verified)}getCredits(){const{board:e,pin:i,storyPin:n,viewParameter:t}=this.props,a=i.pinner,o=i.promoter,r=null==n?void 0:n.has_product_pins,l=0===t,s=3475===t,d=3173===t,c=3375===t,u=this.getIsClaimedContent(),p=i.native_creator,m=!!i.native_creator,_=_e(i),{sponsorship:h}=i,{creator:g,sponsor:v}=h||{},f=_&&!!h&&(null==o?void 0:o.id)!==(null==p?void 0:p.id),y=!!h&&g;if(!(_||y||l||d||m||u))return;switch(f?"PROMOTED_SPONSORED":_?"PROMOTED":y?"SPONSORED":m?"AFFILIATED_PRODUCTS":r?"NATIVE_CONTENT":u?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==p?void 0:p.full_name,subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:null!=o&&o.username?`/${o.username}/`:""};case"SPONSORED":if(!h)throw new Error("sponsorship doesn't exist when expected");return{title:null==p?void 0:p.full_name,subtitle:null==v?void 0:v.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==p?void 0:p.full_name,subtitle:"",avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"NATIVE_CONTENT":let n=(null==e?void 0:e.url)||`/pin/${i.id}/`;return(c||s)&&(n=null!=p&&p.username?`/${p.username}/`:""),{title:s?this.props.i18n._('Created by', 'created by label for story pins', 'created by label for story pins'):"",subtitle:null==p?void 0:p.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:n};case"CLAIMED_CONTENT":const{link_domain:t}=i,{official_user:r}=t||{};return r?{subtitle:r.full_name,avatar:this.getPinnerImage(r.image_small_url),mediumAvatar:this.getPinnerImage(r.image_medium_url),largeAvatar:this.getPinnerImage(r.image_large_url),link:r.username?`/${r.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==a?void 0:a.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:i,viewedSharedPins:n,pinId:t}=this.props;return 92===i?null===(e=n&&n[t])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:i,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==i?void 0:i.display_name,description:n}}renderPinCard(){var e,i,n,t,a,r,l,u,m,_,h,f,y,x,b,w,T,S,I,j;const{board:A,checkExperiment:C,country:z,disableAppUpsell:O,disablePinCardPadding:E,disableRounding:N,disableReaction:R,deviceType:M,experience:B,feedback:H,hidePinMetadata:W=!1,imageOnly:G,i18n:X,isAuth:Q,isOneTapExploreLocalTab:ne,isSquarePin:te,isRelatedPinOnView:ae,isImageOnlyExp:oe,location:re,marginBottom:le,marginStart:se,marginEnd:de,onPinLinkClick:ce,oneTapSave:ue,pin:he,pinCountExperience:xe,storyPin:be,pinCardDetailsMarginTop:Pe,slotIndex:we,trafficSource:ke,viewParameter:Te,viewType:Se,shouldAllowProductPriceIndicator:Ie,showSeoMetadata:je,topLevelTrafficSource:Ae,topLevelTrafficSourceDepth:Ce,trackingParams:De,vaseDisplayMode:Le,onUnauthDesktopContextMenu:ze}=this.props,{aggregated_pin_data:Oe,category:Ee,image_signature:Ze,promoter:Ne,rich_summary:Re,title:Me,sponsorship:Ue}=he,{description:Fe,title:Be}=this.getPinText(),He="desktop"===M,We=ge(he),$e=0===Te,Ge=3475===Te,Ke=_e(he),Ve=!!Ue,qe=null==be?void 0:be.has_product_pins,Je=null==be?void 0:be.is_deleted,Ye=(0,d.Z)((re&&re.state||{}).trackingParams||De,he.tracking_params),Xe="product"===ge(he)&&!Q,Qe=oe&&!this.isOverrideImageOnly(),ei=A&&A.isSocialSeasonalBoard,ii=this.getPinImage(),ni=ei&&"gif"===We?this.convertToGif(he):ii,ti=null===(e=he.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,ai=(0,K.hP)(null!==(n=he.description)&&void 0!==n?n:"",he.description_html||"",null===(t=he.pin_join)||void 0===t?void 0:t.visual_annotation,he.alt_text||""),{annotationsWithLinks:oi}=(0,K.eK)({pinJoinVisualAnnotation:null===(a=he.pin_join)||void 0===a?void 0:a.visual_annotation,pinJoinAnnotationsWithLinks:null===(r=he.pin_join)||void 0===r?void 0:r.annotations_with_links,richMetadataDescription:null===(l=he.rich_metadata)||void 0===l?void 0:l.description,richSummaryDisplayName:null===(u=he.rich_summary)||void 0===u?void 0:u.display_name,placeSummaryName:he.place_summary,closeupUnifiedDescription:he.closeup_unified_description}),ri=Q?Fe:(0,c.Z)(he),li=B&&B.display_data.hideReactions||!1,si=B&&B.display_data.hideDesc||!1,di=(null==Oe||null===(m=Oe.aggregated_stats)||void 0===m?void 0:m.saves)||0,{display_data:ci={}}=xe||{},{showSaves:ui=!1}=ci,pi=ui&&di>500&&(0,L.C$)(re)||!1,mi=!R&&(0,ie.J6)({boardIsCollaborative:null==A?void 0:A.is_collaborative,isDownstreamPromotion:he.is_downstream_promotion,isPromoted:he.is_promoted,storyPinDataId:he.story_pin_data_id,videosId:null===(_=he.videos)||void 0===_?void 0:_.id})&&!Ge&&!li,_i=!Q&&!!he.story_pin_data_id&&!!he.seo_url;let hi;hi=me(he)?he.tracked_link||he.link:_i?he.seo_url:`/pin/${he.id}/`;const gi=!Fe||Qe&&!$e?void 0:Fe.trim(),vi=this.getSharedHeaderInviteCode(),fi={country:z,deeplinkUri:_i?he.seo_url:`pin/${he.id}`,external:me(he),externalQueryParams:{pin:he.id,client_tracking_params:De},isAppUpsellDisabled:O,onTouch:this.handleClick,pinCategory:he.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:hi,state:{trackingParams:De,trafficSource:ke,topLevelTrafficSource:Ae,topLevelTrafficSourceDepth:Ce}},upsellType:"direct",viewParameter:Te,viewType:Se,clientTrackingParams:Ye},yi=pe({isDesktop:He}),xi=he.native_creator||he.pinner,bi="search"===ke&&"storyPin"===We&&C("mweb_search_ideapin_module").anyEnabled;return(0,v.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":he.id,marginBottom:le||(He||W?0:2),children:[(0,v.jsxs)(g.xu,{"data-test-id":ai||Be||Fe?"pin-with-alt-text":"pin-missing-alt-text",paddingY:W||E?0:yi,paddingX:E?0:yi,marginBottom:0,onContextMenu:xi?ze(he,xi):void 0,children:[(0,v.jsxs)(ee.MZ,{...fi,children:[!!vi&&(0,v.jsx)(U,{inviteCode:vi}),Je?(0,v.jsx)(J.Z,{isPinRep:!0}):(0,v.jsx)(F.Z,{clientTrackingParams:Ye,color:null!==(h=he.dominant_color)&&void 0!==h?h:"",description:gi,domainLinkData:he.domain&&he.link?{clickLoggingOptions:{auxData:{objectId:he.id,grid_index:we,sanitized_url:he.link}},domain:he.domain,link:he.link,onClick:ce}:void 0,disableRounding:N,hideBottomCardText:ei,image:ni,imageAltText:ai,imageCrop:he.image_crop,isMessenger:ei,isOneTapExploreLocalTab:ne,isSquarePin:te,isRelatedPinOnView:ae,onError:this.handleError,oneTapSave:ue,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),pinId:he.id,pinnedToBoardId:(null===(f=he.pinned_to_board)||void 0===f?void 0:f.id)||"",pinVideo:ei&&ti||void 0,productPrice:Ie?fe(he):null,slotIndex:we,storyData:be,title:!Qe||$e?Be:void 0,type:We,videoDuration:ve(he),viewType:Se})]}),(Ge||!G&&(Q||"desktop"===M)||"shop_feed_auth_and_unauth_mweb_override"===ke)&&(0,v.jsxs)(g.xu,{children:["desktopParity"===Le&&oi&&oi.length>0&&(0,v.jsx)(Y.Z,{annotations:oi,mode:"inlineWithScrollArrows"}),(0,v.jsx)(ee.MZ,{...fi,children:(0,v.jsx)(Z,{addPinCountExpDisplayData:ci,allowPriceIndicator:!Ie&&["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(ke),marginTop:Pe,hidePinMetadata:W||si,contextMenu:Q&&!Je?(0,v.jsx)(g.xu,{marginStart:1,marginTop:Pe,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(ye,{adMatchReason:he.ad_match_reason,bestPinImgSrc:(0,s.Z)({images:he.images,embedSrc:null===(y=he.embed)||void 0===y?void 0:y.src,embedType:null===(x=he.embed)||void 0===x?void 0:x.type}),feedback:H,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Ze,pinCategory:Ee,pinDescription:ri,pinId:he.id,pinImgSrc:ni.url,pinTitle:Me,sourceType:Ke?"ad":$e?"following":void 0,viewParameter:Te,viewType:Se,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:De,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:qe,isHubFeed:Ge,isPromotedPin:Ke,isSponsoredPin:Ve,isSquarePin:te,marginStart:se,marginEnd:de,onCreditsClick:this.handleCreditsClick,pinDescription:ri,pinId:he.id,pinnedToBoardId:(null===(b=he.pinned_to_board)||void 0===b?void 0:b.id)||"",pinReactionCounts:he.reaction_counts,pinTagsChips:(Oe||{}).pin_tags_chips,promoterName:null==Ne?void 0:Ne.full_name,recipeCookTime:Qe?void 0:he.rich_summary&&he.rich_summary.display_cook_time,recipeMaxRating:Qe||null==Re||null===(w=Re.aggregate_rating)||void 0===w?void 0:w.best_rating,recipeRating:Qe||null==Re||null===(T=Re.aggregate_rating)||void 0===T?void 0:T.rating_value,recipeReviewCount:Qe||null==Re||null===(S=Re.aggregate_rating)||void 0===S?void 0:S.review_count,saves:di,showSaveCount:pi,shouldShowReactions:mi,style:bi?"overlay":"default",title:bi?void 0:Be,type:We})})]})]}),(null==A?void 0:A.isSocialSeasonalBoard)&&Q&&(0,v.jsx)(g.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(g.xu,{padding:3,children:(0,v.jsx)(g.xv,{align:"center",weight:"bold",children:X._('Send', ' - ', ' -- ')})})})}),"reported"===he.feedback_status?(0,v.jsx)($,{color:null!==(I=he.dominant_color)&&void 0!==I?I:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:he.id,showing:!!he.feedback_status}):(0,v.jsx)($,{color:null!==(j=he.dominant_color)&&void 0!==j?j:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:he.id,showing:!!he.feedback_status,unfollowed:"unfollowed"===he.feedback_status,viewParameter:Te,viewType:Se}),je&&"inlineHidden"===Le&&!Xe&&(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:re,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(V,{pin:he,board:A,pinner:he.pinner})})}),!Q&&Xe&&(0,v.jsx)(q,{pin:he,board:A,pinner:he.pinner})]})}render(){const{componentType:e,pin:i,trackingParams:n,viewParameter:t,viewType:a,slotIndex:o,objectIdStr:r,viewData:l}=this.props,{startImpressionTimer:s}=this.state;return i?(0,v.jsx)(ne.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!s,loggingId:i.id,objectIdStr:r,onTracked:this.markPinAsSeen,slotIndex:o,trackingParams:n,viewData:l,viewParameter:t,viewType:a,children:({impressionTrackerRef:e})=>(0,v.jsx)(g.xu,{ref:e,children:this.renderPinCard()})}):null}}const be=(0,a.connect)((({boards:e,experiences:i,pins:n,session:t,users:a,storyPins:o},r)=>{const l=n[r.pinId]||null,s=l&&l.story_pin_data_id?o[l.story_pin_data_id]:void 0,d=i[1000107];return{board:l&&e[l.board],country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isImageOnlyExp:d&&500678===d.experience_id,pin:l,storyPin:s,viewer:a[t.userId],viewedSharedPins:t.viewedSharedPins}}),((e,{viewParameter:i,viewType:n})=>({markPinAsSeen:t=>e((0,Q.DX)({pinId:t,viewParameter:i,viewType:n})),markPinUnfollowed:i=>e((0,ae.fH)(i,"unfollowed")),setSharingOnBoardPage:(i,n,t)=>e((0,te.Mj)(i,n,t))})))((function(e){const i=(0,y.ZP)(),n=(0,de.g)(),{checkExperiment:t}=(0,re.Y)(),a=(0,T.ZP)(),o=(0,se.B)(),r=(0,le.yz)(),l=(0,oe._)({id:1000107}),s=(0,oe._)({id:1000418});return(0,v.jsx)(xe,{...e,onUnauthDesktopContextMenu:o,deviceType:a,experience:l,pinCountExperience:s,pwaType:r,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===a?"desktopParity":"inlineHidden",i18n:i,checkExperiment:t})}))},806015:(e,i,n)=>{n.d(i,{Z:()=>V});var t=n(667294),a=n(966338),o=n(733756),r=n(499128),l=n(898781),s=n(728214),d=n(569046),c=n(332611),u=n(185894),p=n(856919),m=n(479739),_=n(500594),h=n(358589),g=n(883119),v=n(925927),f=n(785893);const y=new g.Ry(1),x=(0,d.Z)((({buttonText:e,clientTrackingParams:i,color:n="primary",deeplinkUri:d,experience:x,inline:b=!0,minWidth:P,onTouch:w,onUnsave:k,pinId:T,pinnedToBoardId:S,shape:I,shouldShowSavedButton:j,showRepinConfirmation:A,showToast:C,viewType:D,viewParameter:L,showSaveHandoffExperience:z})=>{var O;const E=(0,l.ZP)(),Z=(0,a.useDispatch)(),N=(0,v.k6)(),R=(0,v.TH)().pathname.startsWith("/pin"),M=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),U=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),F=null===(O=(0,a.useSelector)((e=>(0,m.ts)(e))))||void 0===O?void 0:O.pin_count,B=()=>{Z((0,h.Bp)({history:N,i18n:E,onSuccess:()=>{x&&Z((0,c.CK)(x.placement_id,x.experience_id))},originalPinId:T,pinId:T,trackingParams:{clientTrackingParams:i,pinnedToBoardId:S},showRepinConfirmation:z&&!R?()=>{}:A,disableRepinAnimation:U===T,pinCount:F})).catch((e=>C((({hideToast:i})=>(0,f.jsx)(r.ZP,{variant:"error",text:e.message||E._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},H=(0,t.useRef)(null),W=z&&!M,$=(0,s.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),w&&w(e),j?j&&k&&k():B()},modalHeader:(0,_.Bx)(E)});(0,t.useEffect)((()=>{W&&!H.current&&(B(),Z((0,u.e2)())),H.current=W}));const G=()=>E._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),K=()=>e||E._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return M&&!R?null:(0,f.jsx)(g.xu,{"data-test-id":"save-button-mobile",zIndex:y,children:d?(0,f.jsx)(p.di,{accessibilityLabel:G(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:d,inline:b,minHeight:48,minWidth:P,onTouch:$,pressState:["compress","background"],shape:I,size:"lg",text:K(),to:N.location.pathname,upsellType:"save",viewType:D,viewParameter:L}):(0,f.jsx)(o.Z,{accessibilityLabel:G(),color:n,customStyles:{padding:"14px 16px"},inline:b,minHeight:48,minWidth:P,onTouch:$,pressState:"compress",shape:I,size:"300",text:K()})})}));var b=n(634291),P=n(867820),w=n(716235),k=n(343341);function T(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class S extends t.PureComponent{constructor(...e){var i;super(...e),i=this,T(this,"state",{saveState:void 0}),T(this,"legoFixedZIndex",new g.Ry(2)),T(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:t,oneTapSave:a,pinId:o,pinnedToBoardId:l,showToast:s,viewType:d}=i.props;try{const t=await n((0,h.wh)({i18n:i.props.i18n,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:l},viewType:d}));i.setState({saveState:"saved"}),n((0,w.a)({boardId:null==a?void 0:a.boardId,localPinId:t.id,pinId:o}))}catch(c){s((({hideToast:e})=>(0,f.jsx)(r.ZP,{variant:"error",text:c.message||t._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),T(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:t,pinId:a,savedInfo:o,showToast:l}=i.props;if(o){e((0,w.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a}));try{await e((0,h.q$)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:n})),l((({hideToast:e})=>(0,f.jsx)(r.ZP,{text:t._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){l((({hideToast:e})=>(0,f.jsx)(r.ZP,{variant:"error",text:t._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),T(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:t,isOneTapExploreLocalTab:a,pinnedToBoard:o}=this.props;["saving","deleting"].includes(i)||a&&o||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,_.Bx)(this.props.i18n)})),T(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{children:e,clientTrackingParams:i,homepageExperience:n,i18n:a,isOneTapExploreLocalTab:o,isRTL:r,location:l,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:m}=this.props;if(!s&&!o&&!m)return e;const _=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:c,savedInfo:p}),h="#000",v="rgba(255, 255, 255, 0.8)",y="light",b="dark";return(0,f.jsxs)(t.Fragment,{children:[e,(0,f.jsx)(g.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:m?(0,f.jsx)(x,{buttonText:!!c&&a._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'),clientTrackingParams:i,color:c?"white":"red",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,to:{pathname:`/pin/${d}/repin/`,state:{trackingParams:l.state?l.state.trackingParams:""}},showSaveHandoffExperience:m}):(0,f.jsx)(g.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:_?h:v}},padding:2,rounding:"circle",children:(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,f.jsx)(g.JO,{accessibilityLabel:_?a._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):a._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:_?"check":"add",color:_?y:b,size:"24"})})})})})]})}}const I=(0,a.connect)(((e,{pinId:i})=>({savedInfo:e.pins[i]&&e.pins[i].savedInfo,pinnedToBoard:e.pins[i]&&e.pins[i].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:i}=(0,k.F9)(),n=(0,l.ZP)(),o=(0,s.Z)(),r=(0,a.useDispatch)(),d=(0,v.k6)(),c=(0,v.TH)(),{isRTL:u}=(0,a.useSelector)((({session:e})=>e)),p=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),_=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),g=(0,a.useSelector)((e=>{var i;return null===(i=(0,m.ts)(e))||void 0===i?void 0:i.pin_count})),y=_&&!!p&&p===e.pinId,{pins:x,clear:w}=(0,b.Z)(),T=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{_&&!T.current&&x.length>0&&(T.current=!0,x.forEach((({id:e})=>{r((0,h.Bp)({history:d,i18n:n,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:g})).catch((e=>{(0,P.My)(`error.unauth_profile_pin_merge.${e}`)}))})),w())})),(0,f.jsx)(S,{...e,i18n:n,requireAuthForLimitedLogin:o,history:d,location:c,showToast:i,shouldShowSaveHandoffExp:y,isRTL:u})}));I.displayName="OneTapSave";const j=I;var A=n(883561),C=n(349700);function D({boardUrl:e,boardName:i,isQuicksave:n,sectionName:t,sectionSlug:a}){const o=(0,l.ZP)(),r=(0,v.k6)(),s=new g.Ry(1),d=!!a&&`${e}${a}/`;return(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,f.jsx)(g.iP,{onTap:i=>{i.event.preventDefault(),r.push(n?"/me/":d||e)},children:(0,f.jsx)(g.xv,{color:"inverse",children:t?(0,C.nk)(o._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",inline:!0,children:(0,A.ZP)(t,22)},`pincard-${t}`)}):(0,C.nk)(o._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",inline:!0,children:n?o._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,A.ZP)(i,22)},`pincard-${i}`)})})})})})}var L=n(965708),z=n(365087),O=n(691426),E=n(476781),Z=n(862624),N=n(50286);const R=({clientTrackingParams:e,pin:i,savedBoardId:n,show:a})=>{var o,r,s,d,c,u,p,m,_,h;const y=(0,l.ZP)(),x=(0,L.Z)(),b=(0,N.ml)(),[P,w]=(0,t.useState)(!(null==i||null===(o=i.pinned_to_board)||void 0===o||!o.id)),k=(0,v.k6)(),T=null===(r=(0,v.TH)().state)||void 0===r?void 0:r.trackingParams;(0,t.useEffect)((()=>{w(!(null==i||!i.savedThisSession))}),[null==i?void 0:i.savedThisSession]);const S=null!=i&&i.pinned_to_board?{...i.pinned_to_board,id:n||i.pinned_to_board.id||"",isSocialSeasonalBoard:void 0,type:"board",sensitivity:void 0}:null,I=(0,O.Z)({boardId:null!==(s=null==S?void 0:S.id)&&void 0!==s?s:"",embedSrc:null==i||null===(d=i.embed)||void 0===d?void 0:d.src,embedType:null==i||null===(c=i.embed)||void 0===c?void 0:c.type,images:null==i?void 0:i.images,pinId:null!==(u=null==i?void 0:i.id)&&void 0!==u?u:"",pinnerId:null!==(p=null==i||null===(m=i.pinner)||void 0===m?void 0:m.id)&&void 0!==p?p:"",pinnedToBoardId:null==i||null===(_=i.pinned_to_board)||void 0===_?void 0:_.id,pinSectionId:null==i||null===(h=i.section)||void 0===h?void 0:h.id,reduxPinSavedThisSession:null==i?void 0:i.savedThisSession,trackingParams:null==i?void 0:i.tracking_params,showSingleToast:!0,onError:()=>w(!0)}),j=(0,z.Z)({clientTrackingParams:e,experience:null,hasSaveHandoffExperience:!1,onError:()=>w(!1),pinId:null==i?void 0:i.id,pinnedToBoardId:n,shouldShowSavedButton:!1,showSingleToast:!0}),{checkExperiment:A}=(0,Z.Y)(),{savedIcon:C,unsavedIcon:D,rotate:R,color:M,type:U}=(()=>{if(x&&a&&b){const{group:e}=A("mweb_quick_save_rp");if(e.startsWith("enabled_add_white"))return{type:"save",unsavedIcon:"add",savedIcon:"check",rotate:!1,color:"white"};if(e.startsWith("enabled_pin_white"))return{type:"save",unsavedIcon:"pin",savedIcon:"pin",rotate:!0,color:"white"};if(e.startsWith("enabled_pin_red"))return{type:"save",unsavedIcon:"pin",savedIcon:"pin",rotate:!0,color:"red"};if(e.startsWith("enabled_add_jump_to_related")&&(null==i||!i.ad_destination_url))return{type:"relatedJump",unsavedIcon:"reorder-images",rotate:!1,color:"white"}}return{rotate:!1,color:"lightGray",type:null}})(),F=U&&("save"===U?y._('Quick save pin', 'pin.pincard.quicksave.iconAccessibilityLabel', 'icon for quick save action'):y._('Go to related pins', 'pin.pincard.jump_to_related.iconAccessibilityLabel', 'icon for quick save action'))||"",B=!P&&R?45:0;return(0,f.jsx)(g.xu,{children:!!D&&!!a&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(2),overflow:"hidden",position:"absolute",bottom:!0,right:!0,margin:2,dangerouslySetInlineStyle:{__style:{transform:`rotateY(0deg) rotate(${B}deg)`,transition:"transform 0.5s"}},children:(0,f.jsx)(g.hU,{accessibilityLabel:F,bgColor:P?"darkGray":M,icon:P?C:D,onClick:({event:e})=>{var n;switch(e.preventDefault(),U){case"save":P?I():null==j||j(e),w((e=>!e));break;case"relatedJump":k.push(`/pin/${null!==(n=null==i?void 0:i.id)&&void 0!==n?n:""}#${E.X}`,{trackingParams:T})}},size:"sm"})})})};var M=n(252745),U=n(310227),F=n(904411),B=n(780679),H=n(627995);const W=({domainLinkData:e})=>{const i=(0,l.ZP)(),n=(0,B.g)();return(0,f.jsxs)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,f.jsx)(g.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,f.jsx)(g.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,f.jsx)(H.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var $=n(53987);const G=({width:e,height:i,minY:n,maxY:t})=>{const a=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":a(-1*n*i),bottom:t>=1?"0%":a(-1*(1-t)*i)}},K=({children:e,margin:i,disableRounding:n})=>(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,f.jsx)(g.zd,{wash:!0,rounding:n?0:U.mv,children:e})}),V=({clientTrackingParams:e,color:i,description:n,domainLinkData:o,hideBottomCardText:r,image:s,imageAltText:d,imageCrop:c,isMessenger:u,isOneTapExploreLocalTab:p,isSquarePin:m,isRelatedPinOnView:_,onError:h,oneTapSave:y,onLoad:x,openCustomContextMenu:b,pinId:w,pinnedToBoardId:k,pinVideo:T,productPrice:S,disableRounding:I,storyData:A,title:C,type:L,videoDuration:z,viewType:O})=>{var E,U,B,H,V,q,J,Y,X,Q;const ee=(0,l.ZP)(),{checkExperiment:ie}=(0,Z.Y)(),[ne,te]=(0,t.useState)(!1),ae=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),oe=(0,N.ZP)(),re=(0,a.useSelector)((({pins:e})=>e[w])),le=(0,F.gC)()(k||re&&re.board),se=k&&re.savedThisSession,de=o&&o.link?"with-link":"without-link",ce=!ae&&"desktop"!==oe,ue=(0,f.jsx)(g.Ee,{alt:d||C||n||"",color:i,naturalHeight:null!==(E=s.height)&&void 0!==E?E:1,naturalWidth:null!==(U=s.width)&&void 0!==U?U:1,onError:h,onLoad:x,src:null!==(B=s.url)&&void 0!==B?B:"",fit:m?"cover":void 0}),pe=m?(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,f.jsx)(g.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:ue})}):ue,me=(0,v.TH)();return(0,f.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,f.jsxs)(g.xu,{onContextMenu:e=>{if("desktop"!==oe){const i=(0,$.C$)(me)?"homefeed":(0,$.L6)(me)?"related_pins":(0,$.En)(me)?"search":"unknown";(0,P.hL)((ae?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),ae&&"unknown"!==i&&(ie("mweb_custom_context_menu_on_longpress").anyEnabled||ie("mweb_pin_card_custom_context_menu_on_longpress").anyEnabled)&&(e.preventDefault(),e.stopPropagation(),b())}},"data-test-id":`pincard-${L}-${de}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ce?void 0:()=>te(!0),onMouseLeave:ce?void 0:()=>te(!1),position:"relative",rounding:I?0:4,children:[(0,f.jsxs)(j,{clientTrackingParams:e||"",oneTapSave:y,isOneTapExploreLocalTab:p,pinId:w,pinnedToBoardId:k,viewType:O,children:["gif"===L&&!r&&!se&&(0,f.jsx)(M.Z,{text:ee._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')}),"video"===L&&z&&!r&&!se&&(0,f.jsx)(M.Z,{text:z}),"storyPin"===L&&A&&"number"==typeof A.page_count&&A.page_count>0&&!se&&(0,f.jsx)(M.Z,{icon:"idea-pin",text:A.page_count.toString()}),"product"===L&&!!S&&(0,f.jsx)(M.Z,{text:S}),_&&(0,f.jsx)(R,{pin:re,clientTrackingParams:e,savedBoardId:se,show:_}),(0,f.jsx)(K,{disableRounding:I,margin:c?G({width:null!==(H=s.width)&&void 0!==H?H:1,height:null!==(V=s.height)&&void 0!==V?V:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===L&&u&&T?(0,f.jsx)(g.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:ee._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:T.width/T.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(q=s.url)&&void 0!==q?q:"",src:T.url,volume:0}):pe})]}),ne&&!ae&&(0,f.jsx)(W,{domainLinkData:o}),ae&&se&&(0,f.jsx)(D,{boardName:null!==(J=null==le?void 0:le.name)&&void 0!==J?J:"",boardUrl:null!==(Y=null==le?void 0:le.url)&&void 0!==Y?Y:"",sectionName:null==y||null===(X=y.section)||void 0===X?void 0:X.title,sectionSlug:null==y||null===(Q=y.section)||void 0===Q?void 0:Q.slug,isQuicksave:"quick_saves"===(null==le?void 0:le.layout)})]})})}},252745:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(898781),a=n(643010),o=n(883119),r=n(785893);function l({text:e,icon:i,largeIdentifier:n,largeMargin:l}){const s=(0,t.ZP)();return(0,r.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:l?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,r.jsx)(o.xu,{marginEnd:n?2:1,children:(0,r.jsx)(o.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,r.jsx)(o.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},236458:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function a(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:n,storyPinDataId:t,videosId:a}){return!(n||i||!a&&!t||null!=e&&e)}n.d(i,{At:()=>t,J6:()=>o,Ud:()=>a})},116578:(e,i,n)=>{n.d(i,{C:()=>j,Z:()=>k});var t,a=n(667294),o=n(966338),r=n(373420),l=n(121151),s=n(941646),d=n(898781),c=n(784590),u=n(364245),p=n(349700),m=n(643010),_=n(925927),h=n(992750),g=n(867820),v=n(50286),f=n(883119),y=n(167912),x=n(785893);const b=void 0!==t?t:t=n(276667);function P({boardUrl:e,boardName:i,pinnerFullName:n,pinnerImageSmallUrl:t,pinnerImageLargeUrl:a}){const o=(0,_.TH)(),r=(0,v.HG)();if(!e||!i)return null;const l=e.split("/")[1],d=n||l,c=t||a;return(0,x.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[c?(0,x.jsx)(f.iP,{role:"link",href:`/${l}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,g.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator`),(0,g.LW)({action:"click",pageLocation:o,item:"see-more-button-creator"})},children:(0,x.jsx)(f.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,x.jsx)(f.Ee,{naturalHeight:32,naturalWidth:32,alt:d,fit:"cover",color:"rgb(231, 186, 176)",src:c})})},"profile-link"):null,(0,x.jsxs)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,x.jsx)(s.Z,{id:"see-more-button-creator-full-name",children:(0,x.jsx)(f.iP,{onTap:()=>{(0,g.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator-full-name`),(0,g.LW)({action:"click",pageLocation:o,item:"see-more-button-creator-full-name"})},children:(0,x.jsx)(f.xv,{color:"default",inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(f.rU,{href:`/${l}/`,inline:!0,tapStyle:"compress",underline:"hover",children:d},"profile-link")},"profileLink")})}),(0,x.jsx)(f.xv,{color:"default",inline:!0,size:"200",children:(0,x.jsx)(f.rU,{href:null!=e?e:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}function w({annotations:e,description:i,title:n,isAuth:t,pinCreditPrefix:a,onClickTitleOrDomain:r,pinDomain:l,boardId:s,boardUrl:c,boardName:m,pinnerFullName:h,pinnerImageSmallUrl:y,pinnerImageLargeUrl:b}){const w=(0,d.ZP)(),k=(0,_.TH)(),{isSeoBot:T}=(0,o.useSelector)((({session:e})=>e)),S=(0,v.ml)(),I=!t&&!T&&S,j=r||null;return(0,x.jsxs)(f.xu,{children:[(0,x.jsx)(f.xu,{marginBottom:2,children:e.length>0&&(0,x.jsx)(u.Z,{annotations:e,mode:"expanded"})}),(0,x.jsxs)(f.xu,{marginBottom:3,children:[(0,x.jsxs)(f.xu,{as:"figcaption",children:[(0,x.jsx)(f.X6,{color:"default",size:"400",accessibilityLevel:3,children:n}),(0,x.jsx)(f.xu,{height:4}),(0,x.jsx)(f.xv,{color:"default",children:i})]}),I&&(0,x.jsx)(f.xu,{marginTop:2,children:(0,x.jsx)(f.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,p.nk)(w._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,x.jsx)(f.xu,{display:"inlineBlock",children:(0,x.jsx)(f.xv,{inline:!0,size:"200",children:a})},"pinCreditsPrefix"),pinCredit:(0,x.jsx)(f.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,x.jsx)(f.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),(0,g.LW)({action:"click",pageLocation:k,item:"pin-domain-link"}),(0,g.My)("mweb_pin_page.pin_link.clickthrouh"),t||(0,g.NC)("click_pin_closeup_link_clickthrough"),j&&j()},tapStyle:"compress",children:(0,x.jsx)(f.xv,{size:"200",lineClamp:1,children:(0,x.jsx)("span",{style:{textDecoration:"underline"},children:l})},"pinLinkDomain")})},"pinCredits")})})})]}),!!s&&(0,x.jsx)(P,{boardUrl:c,boardName:m,pinnerFullName:h,pinnerImageSmallUrl:y,pinnerImageLargeUrl:b})]})}function k({pin:e,board:i,iconColor:n,pinner:t,size:a,isAuth:o,isMainPin:r,pinCreditPrefix:l,onClickTitleOrDomain:s}){var d,u,p,m,_,g,v,f,y,b,P,w,k,S,I,j;const A=e.id,{data:C,isLoaded:D}=(0,c.Z)({name:"PinResource",options:{id:A,field_set_key:"unauth_ssr_lazy_load"}}),L=D&&C&&(0,h.eK)({pinJoinVisualAnnotation:null===(d=C.pin_join)||void 0===d?void 0:d.visual_annotation,pinJoinAnnotationsWithLinks:null===(u=C.pin_join)||void 0===u?void 0:u.annotations_with_links,richMetadataDescription:null===(p=C.rich_metadata)||void 0===p?void 0:p.description,richSummaryDisplayName:null===(m=C.rich_summary)||void 0===m?void 0:m.display_name,placeSummaryName:C.place_summary,closeupUnifiedDescription:C.closeup_unified_description}).annotationsWithLinks||[];return(0,x.jsx)(T,{iconColor:n,size:a,isAuth:o,isMainPin:r,pinCreditPrefix:l,onClickTitleOrDomain:s,lazyLoadedAnnotationsWithLinks:L,pinJoinVisualAnnotation:null===(_=e.pin_join)||void 0===_?void 0:_.visual_annotation,pinJoinAnnotationsWithLinks:null===(g=e.pin_join)||void 0===g?void 0:g.annotations_with_links,richMetadataDescription:null!==(v=null===(f=e.rich_metadata)||void 0===f?void 0:f.description)&&void 0!==v?v:"",richMetadataTitle:null!==(y=null===(b=e.rich_metadata)||void 0===b?void 0:b.title)&&void 0!==y?y:"",richSummaryDisplayName:null!==(P=null===(w=e.rich_summary)||void 0===w?void 0:w.display_name)&&void 0!==P?P:"",placeSummaryName:null!==(k=e.place_summary)&&void 0!==k?k:"",closeupUnifiedDescription:null!==(S=e.closeup_unified_description)&&void 0!==S?S:"",gridTitle:e.grid_title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(I=e.story_pin_data)||void 0===I||null===(j=I.metadata)||void 0===j?void 0:j.pin_title,pinDescription:e.description,pinDomain:e.domain,pinTitle:e.title,boardId:null==i?void 0:i.id,boardUrl:null==i?void 0:i.url,boardName:null==i?void 0:i.name,pinnerFullName:null==t?void 0:t.full_name,pinnerImageSmallUrl:null==t?void 0:t.image_small_url,pinnerImageLargeUrl:null==t?void 0:t.image_large_url})}function T({iconColor:e,size:i,isAuth:n,isMainPin:t,pinCreditPrefix:s,onClickTitleOrDomain:c,lazyLoadedAnnotationsWithLinks:u,pinJoinVisualAnnotation:p=[],pinJoinAnnotationsWithLinks:y={},richMetadataDescription:b,richMetadataTitle:P,richSummaryDisplayName:k,placeSummaryName:T,closeupUnifiedDescription:S,gridTitle:I,storyPinDataId:j,storyPinDataMetadataPinTitle:A,pinDescription:C,pinDomain:D,pinTitle:L,boardId:z,boardUrl:O,boardName:E,pinnerFullName:Z,pinnerImageSmallUrl:N,pinnerImageLargeUrl:R}){const M=(0,d.ZP)(),{unauthInterstitialDismissed:U,isSeoBot:F}=(0,o.useSelector)((({session:e})=>e)),[B,H]=(0,a.useState)(!1),W=(0,v.HG)(),$=(0,v.Wb)(),G=u&&u.length>0?u:(0,h.eK)({pinJoinVisualAnnotation:p,pinJoinAnnotationsWithLinks:y,richMetadataDescription:b,richSummaryDisplayName:k,placeSummaryName:T,closeupUnifiedDescription:S}).annotationsWithLinks,{description:K}=(0,h.eK)({pinJoinVisualAnnotation:p,pinJoinAnnotationsWithLinks:y,richMetadataDescription:b,richSummaryDisplayName:k,placeSummaryName:T,closeupUnifiedDescription:S}),V=(0,h.fs)({pinTitle:L,gridTitle:I,richSummaryDisplayName:k,richMetadataTitle:P,storyPinDataId:j,storyPinDataMetadataPinTitle:A,placeSummaryName:T})||C,q=!W,J=(0,_.TH)(),Y=(0,x.jsxs)(f.xu,{padding:5,children:[(0,x.jsx)(f.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,x.jsx)(f.hU,{accessibilityLabel:M._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,g.My)("mweb.unauth.see_more.dismissed"),(0,g.LW)({action:"click",pageLocation:J,item:"close-seo-vase-see-more-button"}),H(!1),t&&(0,g.My)("mweb.unauth.see_more.main_pin.dismissed")}})}),(0,x.jsx)(f.xu,{marginBottom:8,children:(0,x.jsx)(f.xv,{align:"center",weight:"bold",children:(0,x.jsx)("span",{className:"deprecatedTextSizeXL",children:M._('More information', 'more information label', 'more information label')})})}),(0,x.jsx)(w,{annotations:G,description:K,title:V,isAuth:n,pinCreditPrefix:s,onClickTitleOrDomain:c,pinDomain:D,boardId:z,boardUrl:O,boardName:E,pinnerFullName:Z,pinnerImageSmallUrl:N,pinnerImageLargeUrl:R})]});return(0,x.jsxs)(f.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,x.jsx)(f.hU,{accessibilityLabel:M._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:e,size:i||"md",onClick:({event:e})=>{e.stopPropagation(),(0,g.My)("mweb.unauth.see_more.shown"),(0,g.LW)({action:"click",pageLocation:J,item:"seo-vase-see-more-button"}),H(!0),t&&(0,g.My)("mweb.unauth.see_more.main_pin.shown")}}),F&&q?(0,x.jsx)(f.xu,{display:B?"flex":"none",children:Y}):(0,x.jsx)(l.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:B&&!$,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,x.jsx)(f.xu,{color:(0,m.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,m.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:q?"100%":"100vw",zIndex:new f.Ry(1),children:(0,x.jsx)(f.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:U?0:12,children:Y})})}),$&&B&&(0,x.jsx)(r.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:Y})]})}function S(e){var i,n,t,o,r,l,s,d,c,u,p,m,_,h,g,v,f;const P=(0,y.useFragment)(b,e.graphqlRef),w=null==P||null===(i=P.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray,k=(0,a.useMemo)((()=>{if(!Array.isArray(w))return{};const e={};for(let i=0;i<w.length;i+=1){const n=w[i].name;n&&(e[n]=w[i])}return e}),[w]);return(0,x.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinJoinVisualAnnotation:(null==P||null===(n=P.pinJoin)||void 0===n?void 0:n.visualAnnotation)||void 0,pinJoinAnnotationsWithLinks:k||void 0,richMetadataDescription:null!==(t=null==P||null===(o=P.richMetadata)||void 0===o?void 0:o.description)&&void 0!==t?t:"",richMetadataTitle:null!==(r=null==P||null===(l=P.richMetadata)||void 0===l?void 0:l.title)&&void 0!==r?r:"",richSummaryDisplayName:null!==(s=null==P||null===(d=P.richSummary)||void 0===d?void 0:d.displayName)&&void 0!==s?s:"",closeupUnifiedDescription:null!==(c=null==P?void 0:P.closeupUnifiedDescription)&&void 0!==c?c:"",gridTitle:null==P?void 0:P.gridTitle,storyPinDataId:null==P?void 0:P.storyPinDataId,storyPinDataMetadataPinTitle:null==P||null===(u=P.storyPinData)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pinTitle,pinDescription:null==P?void 0:P.description,pinDomain:(null==P?void 0:P.domain)||void 0,pinTitle:null==P?void 0:P.title,boardId:null==P||null===(m=P.board)||void 0===m?void 0:m.entityId,boardUrl:(null==P||null===(_=P.board)||void 0===_?void 0:_.url)||void 0,boardName:(null==P||null===(h=P.board)||void 0===h?void 0:h.name)||void 0,pinnerFullName:(null==P||null===(g=P.pinner)||void 0===g?void 0:g.fullName)||void 0,pinnerImageSmallUrl:null==P||null===(v=P.pinner)||void 0===v?void 0:v.imageSmallUrl,pinnerImageLargeUrl:null==P||null===(f=P.pinner)||void 0===f?void 0:f.imageLargeUrl})}function I(e){var i,n,t,a,o,r,l,s,d,c,u,p;const{pin:m,board:_,pinner:h}=e;return(0,x.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinJoinVisualAnnotation:null===(i=m.pin_join)||void 0===i?void 0:i.visual_annotation,pinJoinAnnotationsWithLinks:null===(n=m.pin_join)||void 0===n?void 0:n.annotations_with_links,richMetadataDescription:null!==(t=null===(a=m.rich_metadata)||void 0===a?void 0:a.description)&&void 0!==t?t:"",richMetadataTitle:null!==(o=null===(r=m.rich_metadata)||void 0===r?void 0:r.title)&&void 0!==o?o:"",richSummaryDisplayName:null!==(l=null===(s=m.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==l?l:"",placeSummaryName:null!==(d=m.place_summary)&&void 0!==d?d:"",closeupUnifiedDescription:null!==(c=m.closeup_unified_description)&&void 0!==c?c:"",gridTitle:m.grid_title,storyPinDataId:m.story_pin_data_id,storyPinDataMetadataPinTitle:null===(u=m.story_pin_data)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pin_title,pinDescription:m.description,pinDomain:m.domain,pinTitle:m.title,boardId:null==_?void 0:_.id,boardUrl:null==_?void 0:_.url,boardName:null==_?void 0:_.name,pinnerFullName:null==h?void 0:h.full_name,pinnerImageSmallUrl:null==h?void 0:h.image_small_url,pinnerImageLargeUrl:null==h?void 0:h.image_large_url})}function j(e){return e.graphqlRef?(0,x.jsx)(S,{...e}):(0,x.jsx)(I,{...e})}},23084:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>s});var t=n(898781),a=n(883119),o=n(862624),r=n(349700),l=n(785893);const s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,t.ZP)(),p=(0,o.Y)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;i?m=(0,r.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!s.includes(d)?m=(0,r.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(m=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const _=p&&!i?"Ad • ":"";return(0,l.jsxs)(a.xv,{color:c,size:"100",children:[_,m]})}},364245:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(667294),a=n(391254),o=n(941646),r=n(898781),l=n(867820),s=n(925927),d=n(883119),c=n(785893);function u({direction:e,handleClick:i,testId:n}){const t=(0,r.ZP)(),a=(0,s.TH)();return(0,c.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{(0,l.LW)({action:"click",pageLocation:a,item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,c.jsx)(o.Z,{id:"board-pills-arrow",children:(0,c.jsx)(d.JO,{accessibilityLabel:t._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function p({name:e,url:i}){const[n,a]=(0,t.useState)(!1),o=(0,s.TH)();return(0,c.jsx)(d.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,c.jsx)(d.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,c.jsx)(d.rU,{inline:!0,tapStyle:"compress",href:i,rounding:8,onClick:()=>{(0,l.LW)({action:"click",pageLocation:o,item:"vase-tag"})},underline:"hover",children:e}):e})})}function m({annotations:e,mode:i}){const[n,r]=(0,t.useState)(!1),[m,_]=(0,t.useState)(!1),h=(0,s.TH)(),g=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=g.current,n=()=>{if("inlineWithScrollArrows"===i&&g.current){const e=g.current,i=Math.max(0,e.scrollLeft),n=i+e.clientWidth;r(0!==i),_(n<e.scrollWidth)}else r(!1),_(!1)};return n(),null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}}),[i]);const v=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&(0,l.LW)({action:"click",pageLocation:h,item:"board-pills-arrow-button-right"});const n=g.current;if(!n)return;const t=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+t,0),n.scrollWidth)};return(0,c.jsx)(d.kC,{alignItems:"center",justifyContent:"end",children:(0,c.jsxs)(d.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,c.jsx)(a.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),n&&(0,c.jsx)(u,{direction:"left",handleClick:v("left"),testId:"left-scroll-arrow"}),(0,c.jsx)(d.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",padding:"4px 0",whiteSpace:"nowrap"}},ref:g,display:"expanded"===i?"flex":void 0,wrap:"expanded"===i,children:e.map((({name:e,url:i})=>(0,c.jsx)(p,{name:e,url:i},i||e)))}),m&&(0,c.jsx)(o.Z,{id:"board-pills-arrow-button-right",children:(0,c.jsx)(u,{direction:"right",handleClick:v("right"),testId:"right-scroll-arrow"})})]})})}},157983:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(667294),a=n(898781),o=n(266725),r=n(500541),l=n(883119),s=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:i,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const m=(0,a.ZP)(),[_,h]=(0,t.useState)(!1),{dangerousInlineStyle:g,iconColor:v}=(0,r.W)(!!e);return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{(0,o.So)({component:13534,element:11717}),h(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":`verified-badge-icon-${v}`,children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):m._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:v,inline:!0,size:d[i]}),n&&!c&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!c)&&(0,s.jsx)(r.Z,{showModal:_,setShowModal:h,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},500541:(e,i,n)=>{n.d(i,{W:()=>_,Z:()=>h});var t=n(667294),a=n(121151),o=n(966113),r=n(898781),l=n(643010),s=n(752403),d=n(883119),c=n(266725),u=n(785893);const p="#66CCFF",m={color:p},_=e=>{const i=(0,l.Yc)();return{iconColor:e?i?p:"blue":"red",dangerousInlineStyle:{__style:i?m:{}}}};function h({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:n,setShowModal:l}){const p=(0,r.ZP)(),[m,h]=(0,t.useState)(!0),{dangerousInlineStyle:g,iconColor:v}=_(!0);return(0,t.useEffect)((()=>{n&&m&&(h(!1),(0,c.j)({event_type:13,component:13534}))}),[n]),(0,u.jsx)(a.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:p._('Close', 'Close modal window', 'Close modal window'),onDismiss:()=>{(0,c.So)({component:13534,element:11716}),l(!1)},type:"verified_merchant_modal",children:(0,u.jsx)(d.xu,{padding:3,children:(0,u.jsxs)(d.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,u.jsx)(d.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,u.jsx)(d.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:v,icon:"workflow-status-ok",size:24})}),(0,u.jsx)(d.xu,{marginTop:4,children:(0,u.jsx)(d.xv,{color:"shopping",weight:"bold",align:"center",children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:g,children:p._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,u.jsx)(d.xu,{marginTop:4,marginBottom:4,children:(0,u.jsx)(d.xv,{align:"center",overflow:"normal",children:p._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,u.jsxs)(d.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,u.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,u.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,s.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,u.jsx)(d.xu,{marginTop:2,children:(0,u.jsx)(d.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,u.jsx)(d.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,u.jsx)(d.zx,{role:"link",accessibilityLabel:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,text:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},474635:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(667294),a=n(735079),o=n(949372),r=n(53987),l=n(407043),s=n(385740),d=n(867820),c=n(266725),u=n(925927),p=n(785893);function m({children:e,componentType:i,within:n}){const m=(0,u.TH)(),{flushContextEvents:_}=(0,l.v)(),{viewType:h,viewParameter:g}=(0,s.SU)();(0,t.useEffect)((()=>{(0,d.LW)({action:"view",item:"download-button",pageLocation:m,within:n})}),[m,n]),(0,t.useEffect)((()=>{(0,c.j)({component:13106,element:10308,event_type:9976,view_type:129})}),[]);const v=(0,o.Z)();return(0,t.useEffect)((()=>{v||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[v,n]),(0,p.jsx)(a.Z,{children:t=>e({handleOpenApp:e=>{var a;((0,d.LW)({action:"click",item:"download-button",pageLocation:m,within:n}),(0,d.NC)("press_open_app",!0),(0,c.So)({component:i||13106,element:10308,view_type:h,view_parameter:g}),(0,c.j)({component:13106,element:10308,event_type:9977,view_type:129}),_(!0),t)&&t(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:(e=>"/"===e.pathname?"/":(0,r.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(m))}})})}},205443:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(966338),a=n(104788),o=n(430322),r=n(898781),l=n(287072),s=n(968228),d=n(194095),c=n(883119),u=n(785893);const p=({isOpen:e,onDismiss:i,onOpenInApp:n,to:d})=>{const p=(0,r.ZP)(),{isTablet:m,userAgent:_,userAgentPlatform:h}=(0,t.useSelector)((({session:e})=>e)),g=(0,s.Rp)({platform:h,userAgent:_}),v=(0,l.Z)({href:null!=d?d:""}),f=m?60:40;return(0,u.jsx)(o.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,u.jsxs)(c.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,u.jsx)(c.xu,{display:"inlineBlock",position:"absolute",children:(0,u.jsx)(c.xu,{"data-test-id":"appUpsell-continue",children:(0,u.jsx)(c.hU,{accessibilityLabel:p._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{i({event:e}),v&&!e.defaultPrevented&&(n(),v({event:e}))},size:"lg"})})}),(0,u.jsxs)(c.xu,{paddingX:2,paddingY:6,children:[(0,u.jsx)(c.xu,{paddingY:2,justifyContent:"center",display:"flex",children:g?(0,u.jsx)(a.Z,{size:f}):(0,u.jsx)(c.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:f})}),(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.X6,{align:"center",size:"400",children:g?p._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):p._('The best experience is on the app', 'mweb.unauth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')})}),(0,u.jsx)(c.xv,{align:"center",size:"300",children:g?p._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):p._('Free, unlimited access to ideas', 'Value proposition on mobile web home page', 'Value proposition on mobile web home page')}),(0,u.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,u.jsx)(c.zx,{fullWidth:!0,size:"lg",color:"red",onClick:n,text:p._('Get the app', 'mweb.app_upsell.app_upsell_button_text', 'Button to get the Pinterest Lite app')})})]})]})]})})};function m({clientTrackingParams:e,isOpen:i,onDismiss:n,onOpenInApp:t,shouldTrackDismiss:a,to:o,viewParameter:r,viewType:l}){return(0,u.jsx)(d.Z,{clientTrackingParams:e,viewType:l,viewParameter:r,children:(0,u.jsx)(p,{isOpen:i,onDismiss:e=>{a&&(0,d.y)(),n(e)},onOpenInApp:()=>{(0,d.y)(),t()},to:o})})}},194095:(e,i,n)=>{n.d(i,{Z:()=>u,y:()=>c});var t=n(667294),a=n(807609),o=n(674806),r=n(30287),l=n(622096),s=n(957161),d=n(785893);const c=()=>{(0,s.Nh)("appUpsell",Date.now()),(0,s.qn)("firstUpsellTime")||(0,s.Nh)("firstUpsellTime",Date.now()),(0,l.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:n,viewType:l}){return(0,a.Z)()||(0,r.FP)(window)?null:(0,d.jsx)(o.Z,{viewType:l,viewParameter:n,component:13106,clientTrackingParams:i,children:(0,d.jsx)(t.Fragment,{children:e})})}},949372:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(966338);const a=()=>(0,t.useSelector)((({session:{canUseNativeApp:e}})=>e))},997440:(e,i,n)=>{n.d(i,{IS:()=>g,Ys:()=>h,ZP:()=>k,j$:()=>y});var t,a=n(134185),o=n(50286),r=n(349700),l=n(578661),s=n(923297),d=n(802201),c=n(898781),u=n(883119),p=n(167912),m=n(785893);const _=void 0!==t?t:t=n(906587),h=({m:e,h:i,rm:n,rh:t},a)=>e&&(!i||t<=0)?(0,r.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):i?(0,r.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null,g=({m:e,h:i,rm:n,rh:t,i18n:a})=>e&&(!i||t<=0)?(0,r.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):i?(0,r.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,v=(e,i)=>{const n=e&&e.length>0&&e.join(", "),t=i&&i.summary;return n&&t?`${n} • ${t}`:n||t},f=e=>e?e.reduce(((e,i)=>{var n,t;return e+(null!==(n=null===(t=i.ingredients)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}),0):0,y=(e,i)=>{let n;return n=e&&e.total?(0,s.X)({m:e.total.m||0,h:e.total.h||0}):(0,s.X)({m:e&&e.cook&&e.cook.m||0,h:e&&e.cook&&e.cook.h||0}),h(n,i)};function x({category:e,ingredients:i,textSize:n="300"}){return(0,m.jsxs)(u.xu,{marginBottom:4,children:[e&&(0,m.jsx)(u.xu,{children:(0,m.jsx)(u.xv,{weight:"bold",size:n,children:e})}),(null!=i?i:[]).map((e=>{var i,t;return(0,m.jsx)(u.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,m.jsxs)(u.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(t=e.name)&&void 0!==t?t:""}`)}))]})}const b=({categorizedIngredients:e,cookTimes:i,image:n,ingredientCount:t,ingredientsDescription:r,name:s,pinLink:d})=>{const p=(0,c.ZP)(),_=(0,o.ZP)();return y(i,p)||t||r?(0,m.jsxs)(u.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,m.jsxs)(u.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,m.jsx)(u.xu,{marginBottom:4,children:(0,m.jsx)(u.xv,{weight:"bold",align:"desktop"===_?"start":"center",children:p._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,m.jsxs)(a.Z,{itemScope:!0,itemType:l.G,children:[(0,m.jsx)("meta",{content:s,itemProp:"name"}),n&&(0,m.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(e)&&e.length>0&&(0,m.jsx)(u.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:i},n)=>(0,m.jsx)(u.xu,{marginBottom:2,children:(0,m.jsx)(x,{category:e,ingredients:i,textSize:"300"})},n)))})]})]}),(0,m.jsx)(u.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===_?"center":void 0,children:d&&(0,m.jsx)(u.rU,{href:d,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,m.jsx)(u.zx,{text:p._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link')})})})]}):null},P=({graphqlRef:e})=>{const i=(0,p.useFragment)(_,e),{imageSpec_474x:n,link:t,richMetadata:a}=i,o=null==a?void 0:a.recipe,r=null==o?void 0:o.categorizedIngredients,l=f(r),s=(null==o?void 0:o.categorizedIngredients)&&v(o.diets,o.servingsSummary);return(0,m.jsx)(b,{categorizedIngredients:r,cookTimes:null==o?void 0:o.cookTimes,image:null==n?void 0:n.url,ingredientCount:l,ingredientsDescription:s,name:null==o?void 0:o.name,pinLink:t})},w=({pinId:e})=>{var i,n;const t=(0,d.S6)()(e),a=(null==t||null===(i=t.rich_metadata)||void 0===i?void 0:i.recipe)||{},{cook_times:o,name:r,categorized_ingredients:l,diets:s,servings_summary:c}=a,u=f(l),p=l&&v(s,c);return(0,m.jsx)(b,{categorizedIngredients:l,cookTimes:o,image:(null===(n=((null==t?void 0:t.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:p,name:r,pinLink:(null==t?void 0:t.link)||""})};function k({graphqlRef:e,pinId:i}){return e?(0,m.jsx)(P,{graphqlRef:e}):(0,m.jsx)(w,{pinId:i})}},871482:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(966338),a=n(248975),o=n(50286),r=n(667679),l=n(969230),s=n(185894),d=n(870167);function c({embedSrc:e,embedType:i,images:n,pinId:c}){const u=(0,d.a)(),p=(0,t.useDispatch)(),m=(0,o.ZP)(),_=(0,r.Z)(),h=!!(c&&u&&u.unauthSavedPinsStore.isSaved(c));if(u&&c)return{isSaved:h,onSave:()=>{(0,l.y3)({action:"save_click",placement:"closeup",isAuthenticated:!1});let t="save",o=!0;if("desktop"!==m){const{unauthSavedPinsStore:r}=u,l=!!r.pins.length,d=r.canSaveMore();d?(r.save({id:c,imageUrl:(0,a.Z)({images:n,embedSrc:e,embedType:i})}),o=!l):p((0,s.QZ)(c)),t=d?"extended_save_in_quota":l?"extended_save_out_of_quota":"save"}o&&_({attributionLabel:"tap.closeup.save_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:t},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}}})},onUnsave:()=>{u.unauthSavedPinsStore.unsave(c),(0,l.y3)({action:"unsave_click",placement:"closeup",isAuthenticated:!1})}}}},568388:(e,i,n)=>{n.d(i,{Z:()=>_,z:()=>d});var t=n(667294),a=n(966338),o=n(391254),r=n(281180),l=n(883119),s=n(785893);const d=2500,c={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},_=(0,t.memo)((({children:e})=>{const i=(0,r.Tt)(),n=(0,a.useSelector)((({pins:e})=>{const n=null==i?void 0:i.last_repin_id;return n?e[n]:null})),t=(0,a.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!t)return e;const{images:d}=n,{height:_,width:h,url:g}=(null==d?void 0:d["136x136"])||(null==d?void 0:d["236x"])||{};return(0,s.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,s.jsxs)(l.xu,{position:"relative",children:[(0,s.jsxs)(l.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:c,children:[(0,s.jsx)(l.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,s.jsx)(l.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,s.jsx)(l.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,s.jsx)(l.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=h?h:1,naturalHeight:null!=_?_:1,src:null!=g?g:""})})})]}),(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:m,children:e})]})]})}))},365087:(e,i,n)=>{n.d(i,{Z:()=>b});var t=n(667294),a=n(966338),o=n(954571),r=n(499128),l=n(898781),s=n(728214),d=n(568388),c=n(142958),u=n(185894),p=n(343341);var m=n(332611),_=n(479739),h=n(500594),g=n(358589),v=n(862624),f=n(925927),y=n(785893);const x=()=>{};function b({clientTrackingParams:e,experience:i,hasSaveHandoffExperience:n,onError:b,onTouch:P,onUnsave:w,pinId:k,pinnedToBoardId:T,shouldShowSavedButton:S,showSingleToast:I}){var j;const A=(0,l.ZP)(),C=(0,a.useDispatch)(),D=(0,f.k6)(),L=(0,f.TH)(),{showToast:z}=(0,p.F9)(),O=function({showSingleToast:e}){const i=(0,a.useDispatch)(),n=(0,p.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:t,setForceShowNavFooter:o}=(0,c.U)(),r=(0,a.useSelector)((({session:e})=>e.shouldHideNavBar));return(e,a)=>{a||(r&&i((0,u.Cp)()),i((0,u.WF)()),t||o(!0)),setTimeout((()=>{a||(r&&i((0,u.FK)()),i((0,u.a5)()),t||o(!1)),n(e)}),d.z)}}({showSingleToast:I}),E=L.pathname.startsWith("/pin"),Z=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),N=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),R=null===(j=(0,a.useSelector)((e=>(0,_.ts)(e))))||void 0===j?void 0:j.pin_count,M=(0,a.useSelector)((e=>{var i;return(0,o.Z)(null===(i=(0,_.ts)(e))||void 0===i?void 0:i.created_at)})),U=(0,t.useRef)(null),F=n&&!Z,B=(0,s.Z)(),{checkExperiment:H}=(0,v.Y)(),W=M?H("mweb_save_to_profile_toast_changes").group:"",$=!W.includes("animation"),G=k?()=>{C((0,g.Bp)({history:D,i18n:A,onSuccess:()=>{i&&C((0,m.CK)(i.placement_id,i.experience_id))},originalPinId:k,pinId:k,trackingParams:{clientTrackingParams:e,pinnedToBoardId:T},saveToProfileToastExpGroup:W,showRepinConfirmation:n&&!E?()=>{}:O,disableRepinAnimation:N===k||$,pinCount:R})).catch((e=>{z((({hideToast:i})=>(0,y.jsx)(r.ZP,{variant:"error",text:e.message||A._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i}))),null==b||b()}))}:x;if((0,t.useEffect)((()=>{F&&!U.current&&k&&(G(),C((0,u.e2)())),U.current=F})),!k)return null;return B({fn:e=>{e.stopPropagation(),e.preventDefault(),P&&P(e),S?S&&w&&w(e):G()},modalHeader:(0,h.Bx)(A)})}},569046:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(966338),a=n(568388),o=n(708206),r=n(185894),l=n(343341),s=n(785893);const d=(0,o.compose)((0,t.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,r.a5)()),showRepinAnimation:()=>e((0,r.WF)())}})),(function(e){return i=>{const{hideRepinAnimation:n,showRepinAnimation:t}=i,{showToast:o,showOneToast:r}=(0,l.F9)();return(0,s.jsx)(e,{...i,showToast:o,showOneToast:r,showRepinConfirmation:(e,i)=>{i||t(),setTimeout((()=>{i||n(),o(e)}),a.z)}})}}))},877867:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(499128),a=n(162158),o=n(789363),r=n(358589),l=n(785893);const s=({boardId:e,boardSectionId:i,clientTrackingParams:n,dispatch:s,i18n:d,newPinId:c,onError:u,onSuccess:p,originalPinId:m,shouldRefresh:_=!1,showToast:h,sourcePinId:g})=>s((0,r.q$)({pinId:c,boardId:e,boardSectionId:i,clientTrackingParams:n})).then((()=>{m&&s((0,r.t_)(m,e,i)),s((0,r.t_)(g,e,i)),_&&(i&&s((0,o.A4)(i)),e&&s((0,a.u)(e))),h((({hideToast:e})=>(0,l.jsx)(t.ZP,{text:d._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:e}))),p&&p()})).catch((()=>{h((({hideToast:e})=>(0,l.jsx)(t.ZP,{variant:"error",text:d._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:e}))),null==u||u()}))},691426:(e,i,n)=>{n.d(i,{Z:()=>u});var t=n(966338),a=n(609943),o=n(877867),r=n(898781),l=n(728214),s=n(871482),d=n(343341),c=n(925927);function u({boardId:e,embedSrc:i,embedType:n,images:u,pinId:p,pinnerId:m,pinnedToBoardId:_,pinSectionId:h,reduxPinSavedThisSession:g,trackingParams:v,showSingleToast:f,onError:y}){const x=(0,t.useDispatch)(),b=(0,l.Z)(),P=(0,d.F9)()[f?"showOneToast":"showToast"],w=(0,r.ZP)(),k=(0,s.Z)({embedSrc:i,embedType:n,images:u,pinId:p}),T=(0,c.k6)(),S=(0,c.TH)(),{isAuthenticated:I,userId:j}=(0,t.useSelector)((({session:e})=>e)),A=(0,a.Z)(S.state?S.state.trackingParams:"",v),C=b({fn:()=>{if(!p||!e||!m)return void(null==y||y());const i=m===j,n=!i&&g?g:p,t=!i&&_?_:e,a=i?T.goBack():void 0;(0,o.Z)({boardId:t,boardSectionId:null!=h?h:"",clientTrackingParams:A,dispatch:x,i18n:w,newPinId:n,onError:y,onSuccess:a,shouldRefresh:!0,showToast:P,sourcePinId:p})}});return I?C:(null==k?void 0:k.onUnsave)||(()=>{})}},285230:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(166300),a=n(898781),o=n(883119),r=n(785893);function l({isPinRep:e}){const i=(0,a.ZP)(),n=e?"default":"inverse",l=(0,r.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,r.jsx)(o.xv,{align:"center",color:n,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{align:"center",color:n,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?l:(0,r.jsx)(o.xu,{height:"100vh",children:(0,r.jsx)(t.Z,{children:l})})}},957980:(e,i,n)=>{n.d(i,{Z:()=>h});var t=n(667294),a=n(248975),o=n(898781),r=n(667679),l=n(755506),s=n(349700),d=n(864537),c=n(867820),u=n(925927),p=n(883119),m=n(785893);const _=({children:e,onTap:i})=>{const[n,a]=(0,t.useState)(!1);return(0,m.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,m.jsx)(p.iP,{onTap:i,onBlur:()=>a(!1),onFocus:()=>a(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e})})};function h({desktopContextMenuState:e,pin:i,pinner:n,isMainPinImage:h,source:g}){var v,f,y,x;const b=(0,o.ZP)(),P=(0,u.k6)(),w=(0,a.Z)({images:i.images,embedSrc:null===(v=i.embed)||void 0===v?void 0:v.src,embedType:null===(f=i.embed)||void 0===f?void 0:f.type});let k=(0,l.wS)(i);var T;k&&"string"!=typeof k||(k=null!==(T=i.link_domain)&&void 0!==T&&T.official_user?i.link_domain.official_user:n);const{full_name:S,username:I}=k,j=null!==(y=i.pin_join)&&void 0!==y&&y.seo_breadcrumbs&&i.pin_join.seo_breadcrumbs.length>0?i.pin_join.seo_breadcrumbs[0]:null,A=null==j?void 0:j.name,C=null==j?void 0:j.url,[D]=(null===(x=i.pin_join)||void 0===x?void 0:x.visual_annotation)||[],L=(0,d.NO)(D),z=`/search/pins/?q=${encodeURIComponent(L)}&rs=image_only_attribution`,O=(0,r.Z)(),E="dweb.plp.ellipsis.button"===g;return w?(0,m.jsxs)(p.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new p.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,m.jsx)(p.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,m.jsx)(p.JO,{icon:"pinterest",accessibilityLabel:b._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,m.jsx)(_,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.save_image"),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i.id}}})},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(h||E&&!i.link)&&(0,m.jsx)(_,{onTap:()=>{(0,c.My)(E?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(E?i.link:`/pin/${i.id}/`),E||O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(D||!(!A||!C))&&(0,m.jsx)(_,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.see_more_pins"),C?P.push(`${C}`):P.push(z)},children:A?(0,m.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:A})}):(0,m.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:D})})}),!(!S||!I)&&(0,m.jsx)(_,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.more_from_creator"),P.push(`/${I}/`)},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:S})})}),(0,m.jsx)(t.Fragment,{children:(0,m.jsx)(_,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup",desktopOptions:{modalType:"login"}})},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}},803035:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(667294),a=n(157983),o=n(883119),r=n(785893);const l=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:l,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]}):(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]})]})}},104788:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(785893);function a({size:e,noCircle:i}){return(0,t.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,t.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,t.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},558150:(e,i,n)=>{function t(e){if(e){const i=e.shopping_flags||[],n={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(n)}}n.d(i,{Z:()=>t})},968228:(e,i,n)=>{n.d(i,{G3:()=>c,Rp:()=>d,kp:()=>s});var t=n(622096),a=n(202139),o=n(957161);const r=14*a.F4;function l(e,i,n){return e-i>n}const s=e=>{const i=function(){const e=Date.now(),i=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:i,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,i,n){const{currentTime:t,firstUpsellTime:a,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||r,!a||function(e,i,n){return e<i+n}(t,a,i)?!d:!!l(t,s,n)&&((0,o.L_)("firstUpsellTime"),!0)}(i,a.F4):function(e,i){const{currentTime:n,lastUpsellTime:t}=e;return i=i||r,!t||l(n,t,i)}(i)},d=({platform:e,userAgent:i})=>{try{return"android"===e&&parseFloat((e=>{const i=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return i?i[1]:void 0})(i))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},550407:(e,i,n)=>{n.d(i,{B:()=>d,g:()=>c});var t=n(667294),a=n(867820),o=n(50286),r=n(957980),l=n(785893);const s=(0,t.createContext)((()=>()=>{})),d=()=>(0,t.useContext)(s),c=({children:e})=>{const[i,n]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[u,p]=(0,t.useState)(null),[m,_]=(0,t.useState)(!1),h=(0,o.HG)(),g=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,t.useEffect)((()=>g),[]);const v=(0,t.useCallback)(((e,i,t)=>o=>{h&&(o.stopPropagation(),o.preventDefault(),c(e),i&&p(i),_(t),(0,a.My)("dweb.unauth.context_menu.open_menu"),n({xPosition:o.clientX,yPosition:o.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"))}),[h]),f=!!i;return(0,t.useEffect)((()=>{const e=()=>{n(null),g(),(0,a.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),()=>{f&&document.removeEventListener("click",e)}}),[f]),(0,l.jsx)(s.Provider,{value:v,children:(0,l.jsxs)(t.Fragment,{children:[e,h&&i&&d&&u&&(0,l.jsx)(r.Z,{desktopContextMenuState:i,pin:d,pinner:u,isMainPinImage:!!m})]})})}},634291:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),a=n(807609),o=n(957161);const r=e=>{const i=(0,o.qn)(e);if(!i)return null;try{return JSON.parse(i)}catch(n){return null}};var l=n(862624);const s=()=>{const[e,i]=function(e){const i=(0,a.Z)(),[n,l]=(0,t.useState)(i?null:r(e));return(0,t.useEffect)((()=>{l(r(e))}),[e]),[n,(0,t.useCallback)((i=>{l(i),null===i?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(i))}),[e])]}("unauthSavedPins"),n=null!==(d=null==(s=e)?void 0:s.pins)&&void 0!==d?d:[];var s,d;const c=e=>i((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,l.Y)(),p=()=>{const{anyEnabled:e,group:i}=u("pcons_mweb_save_v3");let t=0;if(e){const e=i.split("_")[1];t=e?parseInt(e,10):0}return n.length<t};return{pins:n,save:e=>{p()&&c(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>c(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>c([]),canSaveMore:p}}},789363:(e,i,n)=>{n.d(i,{A4:()=>p,ET:()=>h,Nv:()=>u,PA:()=>d,X_:()=>_,ic:()=>m,o4:()=>c});var t=n(6637),a=n(47495),o=n(414327),r=n(782677),l=n(983360);const s=(e,i)=>({type:l.nk,payload:i}),d=(e,i)=>n=>t.ZP.create("BoardSectionEditResource",{...i,section_id:e}).callCreate().then((e=>(n(s(0,i)),e.resource_response.data))),c=(e,i,n,a)=>o=>{const r=t.ZP.create("BoardSectionEditResource",{section_id:i}).callDelete();return o(((e,i,n,t)=>({type:l.Yn,payload:{userId:e,boardSectionId:i,boardId:n,pinCount:t}}))(e,i,n,a)),r},u=(e,i,n)=>s=>{const d={board_id:e,initial_pins:i,name:n},c="BoardSectionResource";return t.ZP.create(c,d).callCreate().then((n=>{const t=n.resource_response.data,u=(0,r.Fv)(t,a.Z[c]);return s((0,o.XM)(c,d,n,u)),i.length&&s({type:l.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:t.id},pinIds:i}}),n}))},p=e=>i=>{const n={section_id:e},o="BoardSectionResource";return t.ZP.create(o,n).callGet().then((n=>{const t=(0,r.Fv)(n.resource_response.data,a.Z[o]).entities.boardsections[e];return i(s(0,t)),n}))},m=e=>i=>{const{source:n,target:s,pinIds:d}=e;if(i({type:l.u2,payload:e}),n.boardlessPins||s.boardId!==n.boardId){const e={board_id:s.boardId,pin_ids:d,section_id:s.sectionId},i="BulkEditResource";return t.ZP.create(i,e).callUpdate()}if(s.sectionId){const e={section_id:s.sectionId,pins:d},n="BoardSectionEditResource";return t.ZP.create(n,e).callUpdate().then((t=>{const l=(0,r.Fv)(t.resource_response.data,a.Z[n]);return i((0,o.XM)(n,e,t,l)),t}))}const c={section_id:n.sectionId,pins:d};return t.ZP.create("BoardSectionPinsResource",c).callDelete()},_=e=>i=>{i({type:l.Fl,payload:e});const{source:n,target:a,excludePinIds:o}=e,r={board_id:n.boardId,new_board_id:a.boardId,pin_ids:o,old_section_id:n.sectionId,new_section_id:a.sectionId};return t.ZP.create("BulkEditSelectAllResource",r).callUpdate()},h=(e,i,n,t)=>a=>a(u(e,[],i)).then((i=>{const o=i.resource_response.data.id;return a(_({source:{boardId:e,sectionId:t},target:{boardId:e,sectionId:o},excludePinIds:n}))}))},716235:(e,i,n)=>{n.d(i,{a:()=>a,k:()=>o});var t=n(983360);const a=e=>({type:t.cZ,payload:e}),o=e=>({type:t.U1,payload:e})},185894:(e,i,n)=>{n.d(i,{Cp:()=>p,FK:()=>u,H5:()=>A,MI:()=>b,Mj:()=>I,O0:()=>y,QZ:()=>c,W:()=>T,WF:()=>g,Wz:()=>C,YV:()=>h,a5:()=>v,dz:()=>w,e0:()=>f,e2:()=>d,eA:()=>k,gH:()=>x,iW:()=>S,n1:()=>s,rm:()=>_,wb:()=>j,xu:()=>P});var t=n(172071),a=n(360903),o=n(983360),r=n(53987),l=n(408285);const s=()=>({type:o.Wn}),d=()=>({type:o.lj}),c=e=>({type:o.j_,payload:{unauthSavePinId:e}}),u=()=>({type:o.JG}),p=()=>({type:o.pV}),m=e=>({type:o.BM,payload:e}),_=e=>({type:o.a9,payload:{from:e}}),h=()=>e=>{e(m({preparingNewVersion:!0})),(0,l.Ng)().catch((()=>(t.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,l.Dm)()))).finally((()=>{t.Z.increment("mweb.new_version.refresh",1),e(m({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,a.Qi)()},g=()=>({type:o.cs}),v=()=>({type:o.tg}),f=e=>({type:o.$t,payload:{steps:e}}),y=()=>({type:o.LB}),x=e=>({type:o.aj,payload:e}),b=e=>({type:o.HQ,payload:e}),P=e=>({type:o.vH,payload:{viewedImageSignature:e}}),w=e=>({type:o.le,payload:{pins:e}}),k=()=>({type:o.ib}),T=()=>({type:o.L6}),S=e=>e?{type:o.Pz,payload:e}:{type:o.OO},I=(e,i,n)=>t=>t(((e,i,n)=>({type:o.AO,payload:{isShareMenuOpen:e,objectType:i,objectId:n}}))(e,i,n)),j=()=>({type:o.dO}),A=e=>({type:o.UD,payload:e}),C=(e,i)=>{let n;return n=e?(0,r.bo)(e)?"today":i&&(0,r.dZ)(e,i)?"own_section":i&&(0,r.J)(e,i)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,r.cD)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":"",{type:o.il,payload:n}}},310227:(e,i,n)=>{n.d(i,{Dv:()=>o,Ml:()=>r,Oc:()=>t,mv:()=>a});const t=16,a=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},283698:(e,i,n)=>{function t(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(i,{Z:()=>t})},752403:(e,i,n)=>{n.d(i,{Bu:()=>f,Dm:()=>l,Fp:()=>_,I:()=>b,NG:()=>g,QP:()=>u,S4:()=>d,Xe:()=>p,_f:()=>v,eT:()=>y,hm:()=>x,k$:()=>m,lz:()=>h,st:()=>c,yQ:()=>s,ym:()=>w});var t=n(642345);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],s=[...Object.keys(r).map((e=>r[e]))],d=3,c=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],p={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},m="storefront_inspirational_badges_web",_="storefront_inspirational_badges_colors",h="merchant_storefront_api_profile_badges",g="https://help.pinterest.com/article/merchant-details",v="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function f({areBadgesEnabled:e,verifiedMerchant:i}){var n,t;const a=null==i?void 0:i.isVerifiedMerchant,o=null==i||null===(n=i.inspirational_signal)||void 0===n?void 0:n.is_inspirational,r=null==i||null===(t=i.inspirational_signal)||void 0===t?void 0:t.is_eligible_for_storefront_badges;return Boolean(e&&a&&o&&r)}function y(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function x(e){return e.profile_badges||[]}function b(e,i,n){return i&&n?i.map((e=>n.find((i=>i.id===e.trim())))).filter(Boolean):[]}function P(e){const i=(0,t.oo)(e);if(!i)return"white";const[n,a,o]=i;return(0,t.DW)(n,a,o)<=t.I?"white":"black"}function w(e){const i=e||u[0];return{backgroundColor:i,color:P(i)}}},642345:(e,i,n)=>{n.d(i,{DW:()=>l,I:()=>r,oo:()=>o,vq:()=>a});const t=e=>{const i=e.toString(16);return 1===i.length?"0"+i:i},a=(e,i,n)=>"#"+t(e)+t(i)+t(n),o=e=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]},r=.18,l=(e,i,n)=>.2126*(e/255)**2.2+.7151*(i/255)**2.2+.0721*(n/255)**2.2},81226:(e,i,n)=>{function t(e){const i=Math.round(e/1e3),n=i%60;return Math.floor(i/60)+":"+(n<10?"0":"")+n}n.d(i,{Z:()=>t})},966476:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(667294);const a=()=>{const[e,i]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{i(!0)}),[]),e}},903095:(e,i,n)=>{n.d(i,{Mi:()=>a,lO:()=>o});var t=n(425288);const{Provider:a,useMaybeHook:o}=(0,t.Z)("pageContext")},373420:(e,i,n)=>{n.r(i),n.d(i,{default:()=>d});var t=n(667294),a=n(124580),o=n(223815),r=n(968121),l=n(883119),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:_,heading:h,onDismiss:g,role:v,size:f,subHeading:y}){(0,t.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,s.jsx)(l.mh,{zIndex:r.b7,children:(0,s.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(l.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,closeOnOutsideClick:m,heading:h,footer:_,onDismiss:()=>{a.Z.resume(),g()},role:v,size:f,subHeading:y,children:p})})})}},430322:(e,i,n)=>{n.r(i),n.d(i,{default:()=>h});var t=n(667294),a=n(124580),o=n(283698),r=n(223815),l=n(50286),s=n(898781),d=n(494349),c=n(780280),u=n(883119),p=n(968121),m=n(867820),_=n(785893);function h({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n="center",allowScroll:h=!1,children:g,closeOnOutsideClick:v=!0,footer:f,heading:y,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:b,mobileIsFullscreen:P,isOpen:w,mobileIsSlideUp:k,modalStyle:T,onDismiss:S,overrideZDepth:I,subHeading:j,type:A}){const C=(0,s.ZP)(),{isRTL:D}=(0,c.B)(),L=(0,t.useRef)(!1),[z,O]=(0,t.useState)(!1),{setAppFocusState:E}=(0,d.I)(),Z=(0,l.ZP)();(0,t.useEffect)((()=>{(0,m.My)(`mweb_unauth.mobile_modal.${A||"unknown_type"}.did_mount.is_open.${String(!!w)}`)}),[w,A]),(0,t.useEffect)((()=>(L.current=(0,o.Z)((()=>{L.current&&O(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&L.current&&(window.cancelAnimationFrame(L.current),L.current=null)})),[]),(0,t.useEffect)((()=>(w?(a.Z.pause(),E(!1)):(a.Z.resume(),E(!0)),()=>{w&&(a.Z.resume(),E(!0))})),[E,w]);const N=w&&!h;(0,t.useEffect)((()=>(N&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{N&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[N]);const R=(0,p.bf)();if(!w)return null;const M=k?(0,p.Vf)({isFullscreen:P,isTablet:"tablet"===Z,isShowing:z,type:A}):(0,p.JN)({isFullscreen:P,isTablet:"tablet"===Z,modalStyle:T,type:A});return(0,_.jsx)(r.Z,{children:(0,_.jsx)(u.mh,{children:(0,_.jsxs)(u.xu,{"aria-label":i,display:"inlineBlock",zIndex:I?new u.Ry(I):p.ZM,position:"relative",role:"dialog",children:[(0,_.jsx)(u.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const i=e,n=S?"with":"without",t=A||"unknown_type";(0,m.tj)(`mweb_unauth.mobile_modal.wash_tap.${t}.${n}_dismissal`,{x:i.clientX,y:i.clientY}),v&&S&&S()},tapStyle:"none",children:(0,_.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:R})}),(0,_.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:M,children:[(0,_.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:2,children:[x&&!b?(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:S,padding:4,size:"sm"})}):null,y?(0,_.jsx)(u.kC.Item,{flex:"grow",children:(0,_.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,_.jsxs)(u.xu,{dangerouslySetInlineStyle:x&&!b?(0,p.ju)(D):{__style:{}},children:[P?y:(0,_.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:y}),j?(0,_.jsx)(u.xv,{align:n,children:j}):null]})})}):null]}),(0,_.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,f]})]})]})})})}},954571:(e,i,n)=>{n.d(i,{Z:()=>t});function t(e){if(!e)return!1;const i=new Date(e);return i.setDate(i.getDate()+28),(new Date).getTime()<i.getTime()}},166300:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(50286),a=n(883119),o=n(444445),r=n(134879),l=n(785893);const s=({children:e,roundedForLargeDevice:i})=>{const n="phone"!==(0,t.ZP)()&&i;return(0,r.V)()?(0,l.jsx)(a.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,l.jsx)(r.C,{value:!1,children:e})}):e}},627995:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(927104),a=n(898781),o=n(903095),r=n(112690),l=n(883119),s=n(785893);const d=(e,i)=>{let n={};if(e){const{pinData:t,viewData:a}=e;n={unauth_click_pin_id:t.id,unauth_click_pin_image_signature:t.imageSignature},3===i?n={...n,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===i&&(n={...n,unauth_page_board_id:a.id})}return n},c=({clickLoggingOptions:e,domain:i,link:n,onClick:c})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,m=(0,a.ZP)(),_=(0,r.Z)(),h=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((i=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,s.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),h().forEach((e=>_(e))),c(e)},children:(0,s.jsxs)(l.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(l.xu,{marginEnd:1,children:(0,s.jsx)(l.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,s.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),h().forEach((e=>_(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(l.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,t.Z)(i,27)})})]})})}},55275:(e,i,n)=>{n.d(i,{P:()=>r,t:()=>l});var t=n(6637);const a=()=>{};const o={complaint:function(e,i){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){t.ZP.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){t.ZP.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){t.ZP.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){t.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>i()))},promotedComplaint:function(e,i){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){t.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){t.ZP.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){t.ZP.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){t.ZP.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){t.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>i()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,i,n=a){const t=e?o[e]:null;return t?t(i,n):n()}},680046:(e,i,n)=>{n.d(i,{EF:()=>u,XZ:()=>d,ZP:()=>l,nb:()=>c,yl:()=>s});var t=n(966113),a=n(55275),o=n(760372);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,l=({i18n:e,interpolateNamedTemplate:i})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:t,feedbackType:a,makeNavigateLink:o,pinner:l,promoter:s,recommendationReason:d,sourceInterest:c})=>{switch(a){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:a,url:u}=d.board,p=o("navigation",u,a);return i(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:p});case"topic":const{name:m,url_name:_}=c,h=o("topicUrl",`/topics/${_}`,m);return i(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:h});case"followed":const g=`/${l.username}`,v=o("boardUrl",t.url,r(t.name)),f=o("pinnerUrl",g,r(l.full_name));return l.explicitly_followed_by_me?i(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f}):i(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:v});case"promoted":switch(n){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:n,username:t}=s,a=o("promotedLink",t?"/"+t+"/":"/",n);return i(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:a})}default:return null}},getFeedbackType({board:e,feedback:i,viewParameter:n,pin:{promoter:t,is_downstream_promotion:a,recommendation_reason:o},pinner:r}){const l=i&&i.type;return t&&!a?"promoted":l||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:i,pinId:n,recommendationReasonId:t,pinFeedbackType:a,complaintReason:o,throughId:r,throughProperties:l,clientTrackingParams:s})=>{const d="promoted"===i;let c,u;switch(i){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(i){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:o||0,pin_id:n,...t?{recommendation_reason_id:t}:{},feedback_type:a||1,promoted:d,...r?{through_id:r}:{},...l?{through_properties:l}:{},...s?{client_tracking_params:s}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:t,makeNavigateLink:a,pinner:r,sourceInterest:l})=>{if("topic"===t){if(l){const{id:n,name:t,url_name:r}=l,s=a("topicUrl",`/topics/${r}`,t,!0),d=i(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:s});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:o.X},title:"",subTitle:d}}}else if("followed"===t&&n&&r){const{id:t,name:o,url:l}=n||{},{explicitly_followed_by_me:s,full_name:d,username:c}=r,u=`/${c}`,p=a("boardUrl",l,o,!0),m=a("pinnerUrl",u,d,!0);let _=s?i(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:m,formattedBoard:p}):i(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p});return _=s?i(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:m}):i(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:_}}return null}});function s(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,i,n,t,o,r,l){return()=>{const s={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,a.t)(d,s),r(n),l({event_type:101,component:0,element:11181,view_type:t,view_parameter:o})}}},248975:(e,i,n)=>{function t({embedSrc:e,embedType:i,images:n,preferredResolution:t}){if(!e&&!i&&!n)return"";if("gif"===i)return e||"";const a=n;if(!a)return"";if(t){const e="474x"===t&&a["474x"]||"236x"===t&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const o=Object.keys(a).map((e=>{try{const i=e.split("x")[0];return Number.isNaN(Number(i))?(a[i]=a[e],i):e}catch(i){return""}}));o.sort();const r=o.pop();return a[r]&&a[r].url||""}n.d(i,{Z:()=>t})},958007:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),o=e=>{var i,n,o,r;const l=e||{};return!!l.story_pin_data_id?a(l.description):a((0,t.eK)({pinJoinVisualAnnotation:null===(i=l.pin_join)||void 0===i?void 0:i.visual_annotation,pinJoinAnnotationsWithLinks:null===(n=l.pin_join)||void 0===n?void 0:n.annotations_with_links,richMetadataDescription:null===(o=l.rich_metadata)||void 0===o?void 0:o.description,richSummaryDisplayName:null===(r=l.rich_summary)||void 0===r?void 0:r.display_name,placeSummaryName:l.place_summary,closeupUnifiedDescription:l.closeup_unified_description}).description)||a(l.closeup_unified_description||"")||a(l.closeup_description)||a(l.description)||a(l.rich_metadata&&l.rich_metadata.description)||""}},992750:(e,i,n)=>{n.d(i,{hP:()=>u,fs:()=>s,eK:()=>d,Ly:()=>c,RC:()=>r,EU:()=>l});const t=/\s\s+/g,a=e=>e.replace(t," ");var o=n(883561);const r=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,l=(e,i)=>e?e.trim().length>i?(0,o.ZP)(e.trim(),i).trim():e.trim():"",s=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:t,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})=>{const s=o||e,d=l(i,200);return d||(n||(r||(t||(a&&s?s:null))))},d=e=>{var i,n,t,r;const{richSummaryDisplayName:l,placeSummaryName:s}=e,d=null!==(i=e.pinJoinVisualAnnotation)&&void 0!==i?i:[],c=null!==(n=e.pinJoinAnnotationsWithLinks)&&void 0!==n?n:{},u=null!==(t=e.richMetadataDescription)&&void 0!==t?t:"",p=null!==(r=e.closeupUnifiedDescription)&&void 0!==r?r:"",m=d.map((e=>(c||{})[e]||{name:e,url:""}));let _="";const h=(({richSummaryDisplayName:e,placeSummaryName:i})=>e||i||"")({richSummaryDisplayName:l,placeSummaryName:s}).toLocaleLowerCase().trim(),g=u.toLocaleLowerCase().trim(),v=p.toLocaleLowerCase().trim();return p&&p.length>3&&v!==h?_=p:u&&u.length>3&&g!==h&&(_=u),_&&(_=a((0,o.ZP)(_,496)).trim()),{description:_,annotationsWithLinks:m}},c=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:t,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r,pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),m=e=>(e||[])[0]||null;return s({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:t,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})||m(l)||m(p)||e},u=(e,i,n,t)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();if(!n)return t&&t.trim().length?t:o;t&&t.trim().length&&(o=t);let r=n;return r&&r.length>0&&(r=r.join(", "),o&&(o+=" "),o+=r),o}},760372:(e,i,n)=>{n.d(i,{X:()=>t});const t="favorited"},813401:(e,i,n)=>{n.d(i,{kf:()=>g,l5:()=>_,of:()=>p,xC:()=>h,yz:()=>m});var t=n(667294),a=n(172071),o=n(829407),r=n(807609),l=n(30287),s=n(425288),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,s.Z)("PwaContext"),p=({children:e,initialContext:i})=>{const[n,r]=(0,t.useState)(null),s=i||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,o.Z)((()=>{const e=(0,l.FB)(window)||"unknown";r(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,m=s.twaType,_=(0,t.useMemo)((()=>({pwaType:p,twaType:m})),[p,m]);return(0,d.jsx)(c,{value:_,children:e})},m=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},_=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},h=()=>"android-twa"===m(),g=()=>{const e=m(),i=(0,r.Z)();return"unknown"===e&&i?null:"windows"===e}},561195:(e,i,n)=>{n.d(i,{A:()=>s,Z:()=>d});var t=n(667294),a=n(498913),o=n.n(a),r=n(883119),l=n(785893);const s=({fill:e,width:i,color:n})=>{const a="half"===e?(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)(r.xu,{position:"absolute",children:(0,l.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(r.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:a})};function d({max_rating:e,rating:i,width:n,color:a}){const r=[],d=function(e,i){return 5*(i=i<=e?i:e)/e}(parseFloat(e)||5,parseFloat(i)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return o()(c,(e=>r.push((0,l.jsx)(s,{color:a,fill:"full",width:n},e)))),u>=.75?r.push((0,l.jsx)(s,{color:a,fill:"full",width:n},r.length)):u>=.25&&r.push((0,l.jsx)(s,{color:a,fill:"half",width:n},r.length)),o()(5-r.length,(()=>r.push((0,l.jsx)(s,{color:a,fill:"empty",width:n},r.length)))),(0,l.jsx)(t.Fragment,{children:r})}},923297:(e,i,n)=>{function t({m:e=0,h:i=0}){let n;return n=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:n}}function a(e){const i=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:i})}n.d(i,{X:()=>t,u:()=>a})},134185:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(785893);const a=e=>{const i=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,t.jsx)("div",{...i,children:e.children||null})}},578661:(e,i,n)=>{n.d(i,{G:()=>t});const t="https://schema.org/Recipe"},857079:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(883119),a=n(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294);const a=(0,t.createContext)();var o=n(785893);function r({children:e,fallback:i,dangerouslyServerRenderForGraphQL:n=!1}){const r=i||null;(0,t.useContext)(a);return(0,o.jsx)(t.Suspense,{fallback:r,children:e})}},947599:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n(497997).Z},864537:(e,i,n)=>{n.d(i,{Jc:()=>l,NO:()=>r,R3:()=>o,ge:()=>c,th:()=>s});var t=n(643913);const a=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function r(e){return(e||"").trim().replace(/\s+/g," ")}function l({type:e,term:i="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${i}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${i}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${i}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${i}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${i}|recommended|${n}`;case o.SEARCH_GUIDE:return`${i}|guide|word|${n}`;default:return""}}function s({queryStates:e}){return 0===e.length?"":"&"+(0,t.Z)({term_meta:e.map((e=>l(e)))})}function d(e){if(e){const i=e.trim().split(/\s+/);return i.find((e=>a.includes(e.toLowerCase())))?[e]:i}return[]}function c({type:e,query:i="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return d(i).map((i=>({index:n,term:i,type:e})));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return d(i).map((i=>({term:i,type:e,index:n})));default:return[]}}},619277:(e,i,n)=>{n.d(i,{o$:()=>a,ty:()=>o,vE:()=>r});var t=n(425288);const{Provider:a,MaybeConsumer:o,useMaybeHook:r}=(0,t.Z)("inviteContext")},927104:(e,i,n)=>{n.d(i,{Z:()=>t});const t=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"…":e},807609:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(411465),a=n(966476);const o=()=>{const e=(0,t.Z)(),i=(0,a.Z)();return e&&!i}},411465:(e,i,n)=>{n.d(i,{G:()=>l,Z:()=>s});var t=n(667294),a=n(925927),o=n(785893);const r=(0,t.createContext)(!0);function l({children:e}){const i=(0,a.TH)(),[n,l]=(0,t.useState)(!0),s=(0,t.useRef)(i);return(0,t.useEffect)((()=>{s.current!==i&&(s.current=i,l(!1))}),[i]),(0,o.jsx)(r.Provider,{value:n,children:e})}function s(){return(0,t.useContext)(r)}},870167:(e,i,n)=>{n.d(i,{D:()=>a,a:()=>o});var t=n(425288);const{Provider:a,useMaybeHook:o}=(0,t.Z)("unauthPageWrapperContext")},162158:(e,i,n)=>{n.d(i,{V:()=>r,u:()=>o});var t=n(6637),a=n(935409);const o=e=>i=>{const n={board_id:e};return t.ZP.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&i((0,a.yT)(n)),e}))};function r(e,i,n){return(o,r)=>{const{boards:l}=r(),s=l[e],d=void 0===i.collaborator_requests_enabled||null===i.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:i.collaborator_requests_enabled},c={allow_homefeed_recommendations:i.allow_homefeed_recommendations,category:i.category,collab_board_email:i.collab_board_email,collaborator_invites_enabled:i.collaborator_invites_enabled,collaborator_permissions_setting:i.collaborator_permissions_setting,description:i.description,name:i.name,privacy:i.privacy,sensitivity:i.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return o((0,a.yT)({...c,id:e})),t.ZP.create("BoardResource",{...c,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||i;return o((0,a.yT)(n)),e})).catch((e=>{throw s&&o((0,a.yT)(s)),e}))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/44904-8c8e7ed287459a3f.mjs.map