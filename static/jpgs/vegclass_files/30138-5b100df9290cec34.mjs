(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[30138],{108679:(e,t,o)=>{var n=o(121296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function d(e){return n.isMemo(e)?s:a[e.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,o,n){if("string"!=typeof o){if(m){var r=h(o);r&&r!==m&&e(t,r,n)}var s=l(o);u&&(s=s.concat(u(o)));for(var a=d(t),_=d(o),f=0;f<s.length;++f){var y=s[f];if(!(i[y]||n&&n[y]||_&&_[y]||a&&a[y])){var b=p(o,y);try{c(t,y,b)}catch(g){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,i=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,l=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,_=o?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case u:case i:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case d:return e;default:return t}}case _:case m:case r:return t}}}function y(e){return f(e)===u}t.typeOf=f,t.AsyncMode=l,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=d,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=_,t.Memo=m,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===m||e.$$typeof===d||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||f(e)===l},t.isConcurrentMode=y,t.isContextConsumer=function(e){return f(e)===c},t.isContextProvider=function(e){return f(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return f(e)===p},t.isFragment=function(e){return f(e)===i},t.isLazy=function(e){return f(e)===_},t.isMemo=function(e){return f(e)===m},t.isPortal=function(e){return f(e)===r},t.isProfiler=function(e){return f(e)===a},t.isStrictMode=function(e){return f(e)===s},t.isSuspense=function(e){return f(e)===h}},121296:(e,t,o)=>{e.exports=o(396103)},869921:(e,t)=>{var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,i=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,l=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,_=o?Symbol.for("react.memo"):60115,f=o?Symbol.for("react.lazy"):60116,y=o?Symbol.for("react.block"):60121,b=o?Symbol.for("react.fundamental"):60117,g=o?Symbol.for("react.responder"):60118,x=o?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case u:case i:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case _:case d:return e;default:return t}}case r:return t}}}function S(e){return v(e)===u}t.AsyncMode=l,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=d,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=f,t.Memo=_,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||v(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===i},t.isLazy=function(e){return v(e)===f},t.isMemo=function(e){return v(e)===_},t.isPortal=function(e){return v(e)===r},t.isProfiler=function(e){return v(e)===a},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===_||e.$$typeof===d||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===g||e.$$typeof===x||e.$$typeof===y)},t.typeOf=v},659864:(e,t,o)=>{e.exports=o(869921)},347556:(e,t,o)=>{o.d(t,{Dy:()=>h,Hn:()=>r,Jw:()=>c,PS:()=>p,QO:()=>m,UT:()=>i,Ws:()=>s,cK:()=>l,cy:()=>d,o4:()=>a,tr:()=>n,vA:()=>u});const n=3,r="has_done_closeup",i=[503459,503761],s="Gender",a="InterestPicker",d="LoadingStep",c="AppInstall",l={NUX_GENDER_STEP_NAME:s,NUX_INTEREST_PICKER_STEP_NAME:a,NUX_LOADING_STEP_NAME:d,NUX_APP_INSTALL_STEP_NAME:c},u="mweb_content_first_activation_skippable_tp",p="mweb_cfa_full_modal_opt_in_tp",h="mweb_closeup_save_btn_color",m="mweb_nux_gender_step_ui_experiment"},568388:(e,t,o)=>{o.d(t,{Z:()=>m,z:()=>c});var n=o(667294),r=o(966338),i=o(391254),s=o(281180),a=o(883119),d=o(785893);const c=2500,l={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=(0,n.memo)((({children:e})=>{const t=(0,s.Tt)(),o=(0,r.useSelector)((({pins:e})=>{const o=null==t?void 0:t.last_repin_id;return o?e[o]:null})),n=(0,r.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!o||!n)return e;const{images:c}=o,{height:m,width:_,url:f}=(null==c?void 0:c["136x136"])||(null==c?void 0:c["236x"])||{};return(0,d.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,d.jsx)(i.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,d.jsxs)(a.xu,{position:"relative",children:[(0,d.jsxs)(a.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:l,children:[(0,d.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,d.jsx)(a.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,d.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,d.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=_?_:1,naturalHeight:null!=m?m:1,src:null!=f?f:""})})})]}),(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},569046:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(966338),r=o(568388),i=o(708206),s=o(185894),a=o(343341),d=o(785893);const c=(0,i.compose)((0,n.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,s.a5)()),showRepinAnimation:()=>e((0,s.WF)())}})),(function(e){return t=>{const{hideRepinAnimation:o,showRepinAnimation:n}=t,{showToast:i,showOneToast:s}=(0,a.F9)();return(0,d.jsx)(e,{...t,showToast:i,showOneToast:s,showRepinConfirmation:(e,t)=>{t||n(),setTimeout((()=>{t||o(),i(e)}),r.z)}})}}))},877867:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(499128),r=o(162158),i=o(789363),s=o(358589),a=o(785893);const d=({boardId:e,boardSectionId:t,clientTrackingParams:o,dispatch:d,i18n:c,newPinId:l,onError:u,onSuccess:p,originalPinId:h,shouldRefresh:m=!1,showToast:_,sourcePinId:f})=>d((0,s.q$)({pinId:l,boardId:e,boardSectionId:t,clientTrackingParams:o})).then((()=>{h&&d((0,s.t_)(h,e,t)),d((0,s.t_)(f,e,t)),m&&(t&&d((0,i.A4)(t)),e&&d((0,r.u)(e))),_((({hideToast:e})=>(0,a.jsx)(n.ZP,{text:c._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:e}))),p&&p()})).catch((()=>{_((({hideToast:e})=>(0,a.jsx)(n.ZP,{variant:"error",text:c._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:e}))),null==u||u()}))},778193:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(966338),r=o(925927),i=o(785893);function s(e){return(0,n.useSelector)((({session:e})=>e.isAuthenticated))?null:(0,i.jsx)(r.l_,{to:e})}},789363:(e,t,o)=>{o.d(t,{A4:()=>p,ET:()=>_,Nv:()=>u,PA:()=>c,X_:()=>m,ic:()=>h,o4:()=>l});var n=o(6637),r=o(47495),i=o(414327),s=o(782677),a=o(983360);const d=(e,t)=>({type:a.nk,payload:t}),c=(e,t)=>o=>n.ZP.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(o(d(0,t)),e.resource_response.data))),l=(e,t,o,r)=>i=>{const s=n.ZP.create("BoardSectionEditResource",{section_id:t}).callDelete();return i(((e,t,o,n)=>({type:a.Yn,payload:{userId:e,boardSectionId:t,boardId:o,pinCount:n}}))(e,t,o,r)),s},u=(e,t,o)=>d=>{const c={board_id:e,initial_pins:t,name:o},l="BoardSectionResource";return n.ZP.create(l,c).callCreate().then((o=>{const n=o.resource_response.data,u=(0,s.Fv)(n,r.Z[l]);return d((0,i.XM)(l,c,o,u)),t.length&&d({type:a.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:n.id},pinIds:t}}),o}))},p=e=>t=>{const o={section_id:e},i="BoardSectionResource";return n.ZP.create(i,o).callGet().then((o=>{const n=(0,s.Fv)(o.resource_response.data,r.Z[i]).entities.boardsections[e];return t(d(0,n)),o}))},h=e=>t=>{const{source:o,target:d,pinIds:c}=e;if(t({type:a.u2,payload:e}),o.boardlessPins||d.boardId!==o.boardId){const e={board_id:d.boardId,pin_ids:c,section_id:d.sectionId},t="BulkEditResource";return n.ZP.create(t,e).callUpdate()}if(d.sectionId){const e={section_id:d.sectionId,pins:c},o="BoardSectionEditResource";return n.ZP.create(o,e).callUpdate().then((n=>{const a=(0,s.Fv)(n.resource_response.data,r.Z[o]);return t((0,i.XM)(o,e,n,a)),n}))}const l={section_id:o.sectionId,pins:c};return n.ZP.create("BoardSectionPinsResource",l).callDelete()},m=e=>t=>{t({type:a.Fl,payload:e});const{source:o,target:r,excludePinIds:i}=e,s={board_id:o.boardId,new_board_id:r.boardId,pin_ids:i,old_section_id:o.sectionId,new_section_id:r.sectionId};return n.ZP.create("BulkEditSelectAllResource",s).callUpdate()},_=(e,t,o,n)=>r=>r(u(e,[],t)).then((t=>{const i=t.resource_response.data.id;return r(m({source:{boardId:e,sectionId:n},target:{boardId:e,sectionId:i},excludePinIds:o}))}))},185894:(e,t,o)=>{o.d(t,{Cp:()=>p,FK:()=>u,H5:()=>A,MI:()=>v,Mj:()=>j,O0:()=>g,QZ:()=>l,W:()=>C,WF:()=>f,Wz:()=>E,YV:()=>_,a5:()=>y,dz:()=>w,e0:()=>b,e2:()=>c,eA:()=>P,gH:()=>x,iW:()=>I,n1:()=>d,rm:()=>m,wb:()=>T,xu:()=>S});var n=o(172071),r=o(360903),i=o(983360),s=o(53987),a=o(408285);const d=()=>({type:i.Wn}),c=()=>({type:i.lj}),l=e=>({type:i.j_,payload:{unauthSavePinId:e}}),u=()=>({type:i.JG}),p=()=>({type:i.pV}),h=e=>({type:i.BM,payload:e}),m=e=>({type:i.a9,payload:{from:e}}),_=()=>e=>{e(h({preparingNewVersion:!0})),(0,a.Ng)().catch((()=>(n.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,a.Dm)()))).finally((()=>{n.Z.increment("mweb.new_version.refresh",1),e(h({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,r.Qi)()},f=()=>({type:i.cs}),y=()=>({type:i.tg}),b=e=>({type:i.$t,payload:{steps:e}}),g=()=>({type:i.LB}),x=e=>({type:i.aj,payload:e}),v=e=>({type:i.HQ,payload:e}),S=e=>({type:i.vH,payload:{viewedImageSignature:e}}),w=e=>({type:i.le,payload:{pins:e}}),P=()=>({type:i.ib}),C=()=>({type:i.L6}),I=e=>e?{type:i.Pz,payload:e}:{type:i.OO},j=(e,t,o)=>n=>n(((e,t,o)=>({type:i.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:o}}))(e,t,o)),T=()=>({type:i.dO}),A=e=>({type:i.UD,payload:e}),E=(e,t)=>{let o;return o=e?(0,s.bo)(e)?"today":t&&(0,s.dZ)(e,t)?"own_section":t&&(0,s.J)(e,t)?"own_board":(0,s.OJ)(e)?"section":(0,s.am)(e)?"board":(0,s.L6)(e)?"closeup":(0,s.C$)(e)?"home":(0,s.cD)(e)?"profile":(0,s.En)(e)?"search":(0,s.$V)(e)?"topic":"":"",{type:i.il,payload:o}}},176786:(e,t,o)=>{o.d(t,{Io:()=>$,ZP:()=>k});var n=o(667294),r=o(966338),i=o(52395),s=o(777918),a=o(794987),d=o(622359),c=o(609943),l=o(542554),u=o(499128),p=o(877867),h=o(223123),m=o(411465),_=o(778193),f=o(569046),y=o(313047),b=o(862501),g=o(349700),x=o(643010),v=o(347556),S=o(266725),w=o(898781),P=o(728214),C=o(925927),I=o(358589),j=o(883119),T=o(332611),A=o(708206),E=o(785893);function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const $=(e,t,o)=>{const n=o._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,g.nk)(o._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):n,href:e}},z=e=>({color:e?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"});class B extends n.PureComponent{constructor(...e){var t;super(...e),t=this,O(this,"state",{boardName:this.props.match.params.boardName||"",canSubmit:!!this.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),O(this,"handleRepinSuccess",(()=>this.props.history.go(-2))),O(this,"onSwitchToggle",(()=>{this.setState((({secret:e})=>({secret:!e})))})),O(this,"onInputChange",(e=>{const t=e.target.value,o=t.trim().length;this.setState((({errorBoardNames:e})=>({boardName:t,canSubmit:o>0&&o<=100&&!e.includes(t)})))})),O(this,"onCreateClick",this.props.requireAuthForLimitedLogin({fn:()=>{const{boardName:e,secret:o,submitting:r}=this.state,{createPin:i,createBoard:s,dispatchUnsavePin:l,history:p,i18n:h,location:m,match:_,pin:f,repinToBoard:y,showRepinConfirmation:g,showToast:x,undoSaveAction:v}=this.props;if(r)return;const w=o?"secret":"public",P=_.params.pinId,C=m.state?m.state.pinnedToBoardId:"",I=this.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(P){const o=(0,c.Z)((m.state||{}).trackingParams,null==f?void 0:f.tracking_params);this.setState({submitting:!0}),s({name:e,pin:f,privacy:w}).then((async function(n){var r;const i=null!==(r=n.url)&&void 0!==r?r:"";t.setState({submitting:!1}),(0,S.j)({event_type:20,view_type:3,object_id_str:P});const s=n.id,a=m.state&&m.state.pinDescription?m.state.pinDescription:"",{isFirstBoardCreateActive:c,isEditingPin:_,pinBoardId:w,pinSectionId:I}=m.state||{},{href:j,text:T}=$(i,e,h),{duration:A,text:O,thumbnail:z}=(0,b.qV)({boardId:s,isFBC:c}),B=()=>g((({hideToast:e})=>(0,E.jsx)(d.Z,{duration:A,href:j,onHide:e,text:O||T,thumbnail:z})));var k;(a?y({i18n:t.props.i18n,pinId:P,boardId:s,onSuccess:()=>{t.completeFirstExperiences()},onUndo:(e,t,n,r,i)=>v({pinId:e,newPinId:t,boardId:n,boardSectionId:r,i18n:i,clientTrackingParams:o}),showRepinConfirmation:e=>x(e),trackingParams:{clientTrackingParams:o,pinnedToBoardId:C}}).catch((e=>{x((({hideToast:o})=>(0,E.jsx)(u.ZP,{variant:"error",text:e.message||t.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),onHide:o})))})):(t.completeFirstExperiences(B),(0,S.j)({event_type:5,view_type:3,component:7,object_id_str:P,clientTrackingParams:o,aux_data:{board_id:C,destination_board_id:s}})),_&&f)&&(await l({pinId:f.id,pinBoardId:w,pinSectionId:I,clientTrackingParams:o}),null!==(k=f.pinned_to_board)&&void 0!==k&&k.url&&p.replace(f.pinned_to_board.url))}),(t=>{x((({hideToast:e})=>(0,E.jsx)(u.ZP,{text:t.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:e}))),this.setState((({errorBoardNames:t})=>({errorBoardNames:t.concat(e),canSubmit:!1,submitting:!1})))}))}else this.setState({submitting:!0}),s({name:e,pin:f,privacy:w}).then((e=>{const t=this.props.location.state;if(!t||0===Object.keys(t).length){this.setState({submitting:!1});const{duration:t,text:o,thumbnail:n}=(0,b.qV)({boardId:e.id});return x((({hideToast:e})=>(0,E.jsx)(d.Z,{duration:t,onHide:e,text:o||I,thumbnail:n}))),void(e.url&&p.replace(e.url))}const{description:o,guid:r,method:s,url:c}=t,l=[];if("scraped"===t.method)t.imgData.forEach((t=>l.push(i({link:c,image_url:t,description:o,board_id:e.id,method:s,guid:r}))));else{const{base64Image:n,imageUrl:a}=t;l.push(i({link:c,image_url:a,image_base64:n,description:o,board_id:e.id,method:s,guid:r}))}Promise.all(l).then((t=>{x((({hideToast:e})=>(0,E.jsx)(u.ZP,{text:I,onHide:e}))),x((({hideToast:t})=>(0,E.jsx)(u.ZP,{text:(0,E.jsxs)(n.Fragment,{children:[(0,E.jsx)(j.xv,{children:this.props.i18n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,E.jsx)(j.xv,{weight:"bold",children:e.name})]}),iconThumbnail:(0,E.jsx)(j.xu,{width:54,height:54,children:(0,E.jsx)(a.Z,{boardId:e.id,type:"thumbnail"})}),onHide:t}))),(0,S.j)({event_type:1,view_type:92,component:7,object_id_str:t[0].resource_response.data.id}),this.setState({submitting:!1}),e.url&&p.replace(e.url)}),(()=>{x((({hideToast:e})=>(0,E.jsx)(u.ZP,{text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:e}))),this.setState({submitting:!1})}))}),(e=>{this.setState({submitting:!1}),x((({hideToast:t})=>(0,E.jsx)(u.ZP,{text:e.message_detail||e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:t})))}))}})),O(this,"completeFirstExperiences",(e=>{const{closeupExperience:t,repinExperience:o,completeExperience:n}=this.props;if(t||o){const r=[];t&&t.placement_id&&v.UT.includes(t.experience_id)&&r.push(n(t.placement_id,t.experience_id)),o&&o.placement_id&&501032===o.experience_id&&r.push(n(o.placement_id,o.experience_id)),r.length>0&&Promise.all(r).then((()=>{this.handleRepinSuccess(),e&&e()}))}else this.handleRepinSuccess(),e&&e()}))}componentDidMount(){const{repinExperience:e,viewExperience:t}=this.props;e&&t(e.placement_id,e.experience_id)}render(){const{i18n:e}=this.props;return(0,E.jsxs)(l.default,{hasFixedHeader:!0,children:[(0,E.jsx)(i.Z,{text:e._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),(0,E.jsx)(y.FixedHeader,{children:(0,E.jsxs)(j.kC,{alignItems:"center",justifyContent:"start",children:[(0,E.jsx)(j.xu,{flex:"none",marginStart:-2,children:(0,E.jsx)(s.Z,{})}),(0,E.jsx)(j.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,E.jsx)(j.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,E.jsx)(j.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,E.jsx)(j.xu,{"data-test-id":"createBoardButton",children:(0,E.jsx)(j.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button'),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),(0,E.jsx)(j.iz,{}),(0,E.jsxs)(j.xu,{paddingY:3,paddingX:4,children:[(0,E.jsx)(j.__,{htmlFor:"boardNameInput",children:(0,E.jsx)(j.xv,{size:"200",children:this.props.i18n._('Board name', 'Label during board creation', 'Label during board creation')})}),(0,E.jsx)("input",{id:"boardNameInput",placeholder:e._('Add', ' - ', ' -- '),value:this.state.boardName,style:z((0,x.Yc)()),onChange:this.onInputChange})]}),(0,E.jsx)(j.iz,{}),(0,E.jsxs)(j.xu,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[(0,E.jsx)(j.__,{htmlFor:"secretToggle",children:(0,E.jsx)(j.xv,{children:this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')})}),(0,E.jsx)(j.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}const k=(0,A.compose)(f.Z,(0,r.connect)((({experiences:e})=>({closeupExperience:e[1000112],repinExperience:e[1000153]})),((e,{showToast:t})=>({completeExperience:(t,o)=>e((0,T.CK)(t,o)),viewExperience:(t,o)=>e((0,T.UT)(t,o)),createPin:t=>e((0,I.iX)(t)),undoSaveAction:({boardId:o,boardSectionId:n,clientTrackingParams:r,i18n:i,newPinId:s,pinId:a})=>(0,p.Z)({dispatch:e,i18n:i,showToast:t,newPinId:s,sourcePinId:a,boardId:o,boardSectionId:n,clientTrackingParams:r}),repinToBoard:({i18n:t,pinId:o,boardId:n,onSuccess:r,onUndo:i,showRepinConfirmation:s,showToast:a,section:d,trackingParams:c})=>e((0,I.wh)({i18n:t,pinId:o,boardId:n,onSuccess:r,onUndo:i,showRepinConfirmation:s,showToast:a,section:d,trackingParams:c})),dispatchUnsavePin:({pinId:t,pinBoardId:o,pinSectionId:n,clientTrackingParams:r})=>e((0,I.q$)({pinId:t,boardId:o||"",boardSectionId:n,clientTrackingParams:r}))}))))((function(e){const t=(0,C.k6)(),o=(0,C.TH)(),n=(0,C.$B)(),r=(0,h.Z)(),i=(0,m.Z)(),s=(0,w.ZP)(),a=(0,P.Z)(),d=(0,_.Z)("/");return n.params.pinId&&i?(0,E.jsx)(C.l_,{to:"/"}):d||(0,E.jsx)(B,{...e,history:t,location:o,match:n,createBoard:({name:e,pin:t,privacy:i})=>{const s=n.params.pinId,a=o.state&&o.state.pinDescription?o.state.pinDescription:"";if(s&&!a){const n=(0,c.Z)((o.state||{}).trackingParams,null==t?void 0:t.tracking_params);return r({boardCreateOptions:{name:e,privacy:i,initial_pins:[s],initial_pin_client_tracking_params:[n]}})}return r({boardCreateOptions:{name:e,privacy:i}})},i18n:s,requireAuthForLimitedLogin:a})}))},425288:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),r=o(785893);function i(e,t){let o=e.slice(1);if(o=o.endsWith("Context")?o:`${o}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${o}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${o}`,messageDisplayName:`${e[0].toUpperCase()}${o}`}}function s(e,t){const o=(0,n.createContext)(t),{propsDisplayName:s,messageDisplayName:a}=i(e);o.displayName=a;const d=o.Provider,c=({children:e})=>{const t=(0,n.useContext)(o);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)},l=()=>(0,n.useContext)(o);function u(t){const{hocDisplayName:o}=i(e,String(t.displayName||t.name)),n=e=>(0,r.jsx)(c,{children:n=>{if(void 0===n)throw new Error(`${o} must be used within a ${a}Provider.`);if(e[s])throw new Error("Parent Component and Context are passing to the component the same variables.");const i={[s]:n};return(0,r.jsx)(t,{...e,...i})}});return n.displayName=o,n}return d.displayName=`${a}Provider`,c.displayName=`${a}Consumer`,u.displayName=`${a}HOC`,{Provider:d,Consumer:c,MaybeConsumer:({children:e})=>e((0,n.useContext)(o)),useMaybeHook:l,useHook:function(){const e=l();if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},deprecatedHOC:u}}},313047:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>l,FixedFooter:()=>h,FixedHeader:()=>p});var n=o(667294),r=o(124580),i=o(643010),s=o(834256),a=o(883119),d=o(785893);const c=64,l=3;function u({children:e,footerConfig:t,headerConfig:o,height:s,hideOnScroll:u,hideOnScrollState:{isHidden:p,updateHiddenState:h},noPadding:m,paddingY:_=l,type:f,zIndex:y}){const{headerLimitedOverflow:b,ignoreObstructions:g,zIndexForGestaltBug:x}=o||{},{appUpsellFooterConfig:v,footerInLego:S,footerWidth:w}=t||{},P=!!v,C="header"===f?"top":"bottom",I=(0,n.useRef)(null),j=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!g){const e=I.current;j.current=b&&e&&Array.isArray(e.children)?e.children[0]:e,j.current instanceof HTMLElement&&r.Z.addObstruction(C,j.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{g||j.current instanceof HTMLElement&&r.Z.removeObstruction(C,j.current)}}),[g,b,C]);const T="top"===C?"relative":"fixed",A=m?0:_,E=(null!=s?s:c)+((null==o?void 0:o.overrideTop)||0),O=u?{transition:S?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===C?-E:E}px)`,opacity:S?0:1}:Object.freeze({})}:{},$="relative"!==T||null!=o&&o.noGutter?0:2,z=$?-$:0;let B,k;return(0,i.Yc)()&&("header"===f?B=-1:k=-1),(0,d.jsx)(a.xu,{ref:I,dangerouslySetInlineStyle:{__style:{top:B,bottomStyle:k,...!y||x?{zIndex:x||1}:Object.freeze({}),...b?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=o&&o.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...O}},zIndex:x?void 0:y,"data-test-id":f,display:P?"flex":void 0,height:s&&!S?s:void 0,position:T,bottom:"footer"===f,top:"header"===f,left:!0,right:!0,marginStart:S?"auto":z,marginEnd:S?"auto":z,onTransitionEnd:()=>{u&&j.current&&(p?r.Z.removeObstruction(C,j.current):r.Z.addObstruction(C,j.current))},width:S||"fixed"!==T?void 0:"100%",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:((0,i.Yc)()?"#000":(null==o?void 0:o.isTranslucent)&&"rgba(255,255,255,.95)")||(null==o?void 0:o.isTransparentBackground)&&"transparent"||"white",height:S?P?void 0:null!=s?s:c:"100%",boxShadow:S?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:S?16:void 0,...b?{pointerEvents:"auto"}:Object.freeze({}),...null!=o&&o.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==f||m?0:4)+$,paddingY:A,position:"relative",width:S&&w?w:P?void 0:"100%",rounding:S?"pill":void 0,display:S||null!=t&&t.alignCenter?"flex":void 0,marginStart:S?"auto":void 0,marginEnd:S?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function p({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:o,isTranslucent:n,isTransparentBackground:r,noGutter:i,overrideTop:c,useRoundedCorners:p,zIndexForGestaltBug:h,...m}){const{noPadding:_,paddingY:f=l,zIndex:y}=m,b=_?0:f;return(0,d.jsx)(a.Le,{top:c||0,height:t?44+2*b*4:void 0,zIndex:y||void 0,children:(0,d.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:s=>(0,d.jsx)(u,{...m,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:r,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:o,noGutter:i,overrideTop:c,zIndexForGestaltBug:h,useRoundedCorners:p}})})})}function h({alignCenter:e,appUpsellFooterConfig:t,footerInLego:o,footerWidth:n,forceShow:r,hasTopShadow:i,isModal:a,onScroll:c,...l}){return(0,d.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:r,hideOnScroll:l.hideOnScroll,isModal:a,onScroll:c,children:r=>(0,d.jsx)(u,{...l,hideOnScrollState:r,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:o,footerWidth:n,hasTopShadow:i}})})}},834256:(e,t,o)=>{o.d(t,{Z:()=>a,m:()=>s});var n=o(667294),r=o(700380);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const s=20;class a extends n.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),i(this,"handleScroll",(0,r.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:o}=this.props,{isHidden:n}=this.state,r=window.scrollY,i=r-this.lastScrollPos;let a="none";const{scrollHeight:d,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(d)&&!Number.isNaN(c))if(i<0){const e=window.scrollMinY||0;a=r<=Math.abs(e+Math.max(i,s))?"start":"none"}else{a=r>=(window.scrollMaxY||d-c)-Math.max(i,s)?"end":"none"}const l=t?0:55;if(e)if(i>s&&n&&r>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),o&&o(!1))}else(i<-s&&!n||r<=l)&&(this.updateHiddenState(!0),o&&o(!0));else(i<-s||"start"===a)&&n||r<=l?(this.updateHiddenState(!1),o&&o(!1)):(i>s||"end"===a)&&!n&&(this.updateHiddenState(!0),o&&o(!0));this.lastScrollPos=r}),30))}componentDidMount(){try{this.props.hideOnScroll&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll?window.addEventListener("scroll",this.handleScroll):e.hideOnScroll&&!this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll)}render(){const{children:e,forceShow:t}=this.props,{isHidden:o}=this.state;return e({isHidden:!t&&o,updateHiddenState:this.updateHiddenState})}}},620707:(e,t,o)=>{function n(e,t){if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),n=Object.keys(t);return o.length===n.length&&o.every((o=>e[o]===t[o]))}return e===t}o.d(t,{Ak:()=>n,_Y:()=>r,qe:()=>a,xZ:()=>s});const r=(e,t)=>e.length===t.length&&e.every(((e,o)=>n(e,t[o]))),i=(e,t)=>e.length===t.length&&e.every(((e,o)=>e===t[o])),s=(e,t=i)=>o=>{const n=[];return function(...r){const i=this,s=n.find((e=>e.context===i&&t(e.args,r)));if(s)return s.result;const a={context:i,args:r,result:o.apply(this,r)};return n.push(a),e&&n.length>e&&n.shift(),a.result}},a=s(1);s()},780280:(e,t,o)=>{o.d(t,{B:()=>u,LC:()=>c,P2:()=>d,fH:()=>l,gf:()=>p});var n=o(667294),r=o(608832),i=o(620707),s=o(785893);const a=(0,n.createContext)();function d({children:e,value:t}){const[o,d]=(0,n.useState)(t),c=(0,n.useMemo)((()=>({requestContext:o,updateRequestContext:e=>{const t={...o,...e};(0,i.Ak)(o,e)||d(t),(0,r.J)(t)}})),[o]);return(0,s.jsx)(a.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,n.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},l=({children:e})=>{const t=(0,n.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,n.useContext)(a);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,n.useContext)(a);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,o)=>{let n;function r(e){n=e}function i(){return n}o.d(t,{J:()=>r,l:()=>i})},50286:(e,t,o)=>{o.d(t,{HG:()=>d,Mm:()=>r,Wb:()=>a,ZP:()=>c,ml:()=>s});var n=o(780280);function r(e){const{isMobile:t,isTablet:o}=e.userAgent;return o?"tablet":t?"phone":"desktop"}const i=()=>r((0,n.B)()),s=()=>"phone"===i(),a=()=>"tablet"===i(),d=()=>"desktop"===i(),c=i},411465:(e,t,o)=>{o.d(t,{G:()=>a,Z:()=>d});var n=o(667294),r=o(925927),i=o(785893);const s=(0,n.createContext)(!0);function a({children:e}){const t=(0,r.TH)(),[o,a]=(0,n.useState)(!0),d=(0,n.useRef)(t);return(0,n.useEffect)((()=>{d.current!==t&&(d.current=t,a(!1))}),[t]),(0,i.jsx)(s.Provider,{value:o,children:e})}function d(){return(0,n.useContext)(s)}},19121:(e,t,o)=>{o.d(t,{$:()=>r,Z:()=>s});var n=o(425288);const{Provider:r,useHook:i}=(0,n.Z)("viewer"),s=i},52395:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(883119),r=o(785893);function i({text:e}){return(0,r.jsx)(n.xu,{display:"visuallyHidden",children:(0,r.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},223123:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(966338),r=o(6637),i=o(332611),s=o(886858),a=o(379725),d=o(414327),c=o(782677);function l(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:o,deprecatedSchemaForNormalization:n}){var l,u;const p=await r.ZP.create("BoardResource",o).callCreate(),h=null===(l=p.resource_response)||void 0===l?void 0:l.data,m=n?(0,c.Fv)(h,n):void 0;e((0,d.XM)("BoardResource",o,p,m)),e((0,i.fO)({event_type:20})),null!==(u=h.owner)&&void 0!==u&&u.id&&e((0,a.bi)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}}));const _=t.BoardsResource||{},f=t.BoardsFeedResource||{};return Object.keys(_).forEach((t=>{var o;(0,s.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,d.jB)("BoardsResource",t))})),Object.keys(f).forEach((t=>{var o;(0,s.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,d.jB)("BoardsFeedResource",t))})),h}}},162158:(e,t,o)=>{o.d(t,{V:()=>s,u:()=>i});var n=o(6637),r=o(935409);const i=e=>t=>{const o={board_id:e};return n.ZP.create("BoardResource",o).callGet().then((e=>{const o=e&&e.resource_response&&e.resource_response.data;return o&&t((0,r.yT)(o)),e}))};function s(e,t,o){return(i,s)=>{const{boards:a}=s(),d=a[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},l={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...o?{orbac_subject_id:o}:Object.freeze({}),...c};return i((0,r.yT)({...l,id:e})),n.ZP.create("BoardResource",{...l,board_id:e}).callUpdate().then((e=>{const o=e&&e.resource_response&&e.resource_response.data||t;return i((0,r.yT)(o)),e})).catch((e=>{throw d&&i((0,r.yT)(d)),e}))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/30138-5b100df9290cec34.mjs.map