(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[70598],{755506:(e,o,l)=>{l.d(o,{AH:()=>s,CK:()=>a,Fi:()=>n,Xe:()=>i,wS:()=>t});const t=e=>{if(!e)return Object.freeze({});let o;return e.native_creator?(o=e.native_creator,o):e.link_domain?(o=e.link_domain.official_user,o):(o=e.origin_pinner||e.pinner,o)};function i({hasLinkDomain:e,hasNativeCreator:o,hasOriginPinner:l,pinDomain:t,sourceUserUsername:i,sourceUserFullName:n}){return!o&&(e||l)&&i?{pinCreditLink:`/${i}/`,pinCredit:n}:{pinCreditLink:void 0,pinCredit:!o&&e?t:""}}const n=({i18n:e,isLego:o,pin:l})=>{const n=l.link_domain,a=l.native_creator,s=l.rich_metadata,r=l.rich_summary,d=l.attribution;let u,_,c,h,p=o?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');const m=t(l),{pinCreditLink:f,pinCredit:v}=i({hasLinkDomain:!!n,hasNativeCreator:!!a,hasOriginPinner:!!l.origin_pinner,pinDomain:l.domain,sourceUserUsername:null==m?void 0:m.username,sourceUserFullName:null==m?void 0:m.full_name});if(!n||s&&s.recipe&&s.recipe.from_aggregated_data)p=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation');else{const t=!!(s&&s.recipe&&s.recipe.name&&s.recipe.categorized_ingredients);let i;s&&s.products&&s.products[0]&&(i=!!(s&&s.products[0].name&&s.products[0].offer_summary));const n=!(!s||!s.article),a=!(!s||!s.tutorial);var w,g;if(i)p=e._('Product sold by ', 'pin annotation', 'pin annotation'),c=null==s||null===(w=s.products)||void 0===w?void 0:w[0].offer_summary,h=null==s||null===(g=s.products)||void 0===g?void 0:g[0].shipping_info;else if(a)o&&(p=e._('From ', 'pin annotation', 'pin annotation')),p=e._('Saved from ', 'pin annotation', 'pin annotation');else if(t){var b,P,x;p=e._('Recipe from ', 'pin annotation', 'pin annotation'),_=null!==(b=null==s?void 0:s.recipe)&&void 0!==b?b:null,null!==(P=_)&&void 0!==P&&null!==(x=P.aggregate_rating)&&void 0!==x&&x.rating_value&&"number"==typeof _.aggregate_rating.review_count&&(null!=s&&s.site_name||l.domain)?_.aggregate_rating.review_source=(null==s?void 0:s.site_name)||l.domain:_&&(_.aggregate_rating=null)}else if(n){var y;u=(null==s||null===(y=s.article)||void 0===y?void 0:y.date_published)&&new Date(s.article.date_published),p=e._('Article from ', 'pin annotation', 'pin annotation')}}if(!c&&r){let o;var A,z;if(r&&r.products&&r.products[0])if(o=!!(r&&r.products[0].name&&r.products[0].offer_summary),o)p=e._('Product sold by ', 'pin annotation', 'pin annotation'),c=null===(A=r.products)||void 0===A?void 0:A[0].offer_summary,h=null===(z=r.products)||void 0===z?void 0:z[0].shipping_info}return{pinArticleDate:u,pinAttribution:d,pinCreditLink:f,pinCreditPrefix:p,pinCredit:v,pinProduct:c,pinShippingInfo:h,pinRecipe:_}},a=({hasRichMetadata:e,hasRichMetadataProducts:o,hasRichMetadataArticle:l,hasRichMetadataRecipe:t})=>e?o?144:l?141:t?145:139:140,s=e=>!!e.link&&!e.link.startsWith("https://i.pinimg.com")},780679:(e,o,l)=>{l.d(o,{g:()=>a,t:()=>n});var t=l(667294);const i=(0,t.createContext)(null),n=i.Provider,a=()=>(0,t.useContext)(i)},499128:(e,o,l)=>{l.d(o,{UZ:()=>d,Vg:()=>r,ZP:()=>u});var t=l(667294),i=l(829407),n=l(50286),a=l(883119),s=l(785893);const r=200,d=({deviceType:e,hiding:o,visible:l})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",pointerEvents:"auto",...l?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...l&&o?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function u({button:e,dataTestId:o,duration:l=2e3,href:u,iconThumbnail:_,imageUrl:c,onClick:h,onHide:p,openNewPage:m,text:f,thumbnailShape:v="square",variant:w="default"}){const g=(0,n.ZP)(),[b,P]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1),A=(0,t.useRef)(),z=()=>{P(!0),A.current=setTimeout(p,r)},k=()=>{A.current&&clearTimeout(A.current)},L=()=>{A.current=setTimeout(z,l)};(0,i.Z)((()=>(setTimeout((()=>y(!0)),100),L(),k)));const T="string"==typeof f?f:`${f[0]} ${f[1]}`,C=c?(0,s.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(a.Ee,{alt:T,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,S=(0,s.jsx)(a.FN,{button:e,text:f,thumbnail:null!=_?_:C,thumbnailShape:v,variant:w});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...d({deviceType:g,hiding:b,visible:x})}},"data-test-id":null!=o?o:"toast",onMouseEnter:k,onMouseLeave:L,children:u?(0,s.jsx)(a.iP,{role:"link",href:u,onTap:({event:e})=>null==h?void 0:h(e),target:m?"blank":null,rounding:"pill",children:S}):S})}},458882:(e,o,l)=>{l.d(o,{l:()=>n,r:()=>a});var t=l(667294);const i=(0,t.createContext)(null),n=()=>(0,t.useContext)(i),a=i.Provider},667679:(e,o,l)=>{l.d(o,{Z:()=>n});var t=l(458882),i=l(780679);const n=()=>{const e=(0,i.g)(),o=(0,t.l)();return l=>{const{mobileOptions:t,desktopOptions:i,reason:n,attributionLabel:a}=l;var s;e?e.showDesktopSignupModal({modalType:null!==(s=null==i?void 0:i.modalType)&&void 0!==s?s:"signup",reason:n,attributionLabel:a,...null==i?void 0:i.modalOptions}):o&&o.showMobileSignupModal({reason:n,attributionLabel:a,headingType:null==t?void 0:t.headingType})}}},343341:(e,o,l)=>{l.d(o,{F9:()=>a,Zo:()=>i,nE:()=>n});var t=l(425288);const{Provider:i,Consumer:n,useHook:a}=(0,t.Z)("toastManagerContext")},70598:(e,o,l)=>{l.d(o,{Z:()=>y});var t=l(829407),i=l(898781),n=l(112690),a=l(728214),s=l(602574),r=l(667679),d=l(19121),u=l(957314),_=l(755506),c=l(862624),h=l(802201),p=l(281180),m=l(50286),f=l(925927),v=l(343341),w=l(687999),g=l(867820),b=l(883119),P=l(785893);const x=({children:e,pulsar:o,testId:l})=>o.show?(0,P.jsx)(b.xu,{position:"relative","data-test-id":l,children:(0,P.jsxs)(b.iP,{tapStyle:"none",onTap:o.onClick,children:[(0,P.jsx)(b.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,P.jsx)(b.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,P.jsx)(b.o3,{})})]})}):(0,P.jsx)(b.xu,{"data-test-id":l,children:e});function y({auxData:e,disabled:o,disableLog:l,followEventType:y,id:A,inline:z,invertColors:k,isFollowed:L,isIdeaPin:T,isLegoEnabled:C,isSecondaryButton:S,isUserFollowButton:F,isUserMe:j,onFollow:I,onUnfollow:U,pinId:H,shouldUseLegoColors:Z,showPulsar:E,size:M,textType:D="FollowFollowing",unfollowEventType:N,viewParameter:O,viewType:R}){const W=(0,i.ZP)(),B=(0,f.TH)(),G=(0,m.HG)(),{showToast:Y}=(0,v.F9)(),$=(0,n.Z)(),q=(0,r.Z)(),{checkExperiment:K}=(0,c.Y)(),V=(0,a.Z)(),Q=(0,d.Z)(),X=Q&&Q.isAuth,{unauthFollowUserId:J,setUnauthFollowUserId:ee}=(0,w.f)(),oe=(0,p.mN)()(A),le=(0,h.S6)()(null!=H?H:""),te=(0,_.wS)(le),ie=null!=oe?oe:te;(0,t.Z)((()=>{!G&&X&&J&&A&&J===A&&I(A)}));const ne=V({fn:()=>{X?L?(U(A),l||$({event_type:N,view_type:R,view_parameter:O,object_id_str:A,aux_data:e})):(I(A),F&&Y((({hideToast:e})=>{if(!ie)return null;const o=ie.username?`/${ie.username}/`:"";return(0,P.jsx)(s.Z,{handleHide:e,text:(0,P.jsx)(b.xv,{children:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A,href:o,imageUrl:ie.image_medium_url})})),l||$({event_type:y,view_type:R,view_parameter:O,object_id_str:A,aux_data:e})):((0,g.My)(`mweb_unauth_follow_button.tap.${String(R)}`),5===R&&26===y&&(0,g.My)("mweb_unauth_board_page_follow_button.tap"),(0,g.NC)(L?"press_profile_unfollow":"press_profile_follow"),(0,g.LW)({action:"click",pageLocation:B,item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:T?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:G&&K("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!G&&K("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),G||ee(null!=A?A:""),(0,g.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:W,toFollow:!L})}),ae=!L&&!!E,se=()=>{if(j)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===D)return L?W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===D?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return L?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,P.jsx)(x,{pulsar:ae?{show:!0,onClick:ne}:{show:!1},testId:j||L?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(b.zx,{color:Z||"AddRemove"===D||!C&&S||L?"gray":"red",disabled:j||o,fullWidth:z,onClick:ae?void 0:({event:o})=>{o.preventDefault(),o.stopPropagation(),l||$({event_type:101,component:13672,element:11951,object_id_str:A,view_type:R,view_parameter:O,aux_data:e}),ne()},selected:k?!L:Z&&L||!!L&&S,size:M,text:se(),accessibilityLabel:se()})})}},802201:(e,o,l)=>{l.d(o,{AF:()=>s,S6:()=>r,_S:()=>d});var t=l(966338),i=l(425288),n=l(785893);const{Provider:a,useHook:s}=(0,i.Z)("Pins");function r(){const e=s();return o=>e[o]}function d({children:e}){const o=(0,t.useSelector)((({pins:e})=>e),t.shallowEqual);return(0,n.jsx)(a,{value:o,children:e})}},281180:(e,o,l)=>{l.d(o,{Tt:()=>u,kW:()=>r,kY:()=>_,mN:()=>d});var t=l(966338),i=l(19121),n=l(425288),a=l(785893);const{Provider:s,useHook:r}=(0,n.Z)("Users");function d(){const e=r();return o=>e[o]}function u(){const{id:e}=(0,i.Z)();return r()[null!=e?e:""]}function _({children:e}){const o=(0,t.useSelector)((({users:e})=>e),t.shallowEqual);return(0,a.jsx)(s,{value:o,children:e})}},687999:(e,o,l)=>{l.d(o,{f:()=>s,w:()=>r});var t=l(667294),i=l(425288),n=l(785893);const{Provider:a,useHook:s}=(0,i.Z)("Session");function r({children:e}){const[o,l]=(0,t.useState)(void 0),i=(0,t.useCallback)((()=>l(void 0)),[]),s=(0,t.useMemo)((()=>({unauthFollowUserId:o,setUnauthFollowUserId:l,removeUnauthFollowUserId:i})),[o,i]);return(0,n.jsx)(a,{value:s,children:e})}},154391:(e,o,l)=>{l.d(o,{H:()=>n,o:()=>i});var t=l(425288);const{Provider:i,useHook:n}=(0,t.Z)("LimitedLogin")},957314:(e,o,l)=>{l.d(o,{N4:()=>n,Wh:()=>t,hr:()=>i});const t=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=({i18n:e,toFollow:o})=>o?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,o,l)=>{l.d(o,{Z:()=>s});var t=l(898781),i=l(50286),n=l(154391),a=l(957314);const s=()=>{const e=(0,t.ZP)(),o=(0,i.HG)(),{viewer:l,loginForMore:s,limitedLoginModalSubheader:r,limitedLoginModalNextLocation:d}=(0,n.H)();return"LIMITED_LOGIN"===l.type?({modalHeader:l,nextLocation:t})=>i=>{let n=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?n=i:i.event&&(n=i.event)),n&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()),l||(l=o?(0,a.hr)(e):(0,a.Wh)(e)),null==s||s.setVisible(!0),null==r||r.setText(l),t&&(null==d||d.setRoute(t))}:({fn:e})=>e}},602574:(e,o,l)=>{l.d(o,{Z:()=>u});var t=l(883119),i=l(785893);function n({ideaPinImages:e}){const o={1:28,2:40,3:48},l=e.map(((e,o)=>{var l,n,a;return(0,i.jsx)(t.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:o}},children:(0,i.jsx)(t.Ee,{alt:"",src:null!==(l=null==e?void 0:e.url)&&void 0!==l?l:"",color:"#696969",fit:"cover",naturalHeight:null!==(n=null==e?void 0:e.height)&&void 0!==n?n:1,naturalWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:1})},o)}));return(0,i.jsx)(t.kC,{justifyContent:"center",children:(0,i.jsx)(t.kC,{justifyContent:"start",width:o[e.length],children:l})})}var a=l(499128),s=l(898781),r=l(784590),d=l(50286);function u({handleHide:e,text:o,userId:l,href:u,imageUrl:_}){const c=(0,s.ZP)(),h=(0,d.HG)(),p=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:l}}),m=Array.isArray(o)?o.join(" "):o;if(0===(p.data||[]).length){const o=_?(0,i.jsx)(t.xu,{height:48,overflow:"hidden",width:48,children:(0,i.jsx)(t.Ee,{alt:c._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}):void 0;return(0,i.jsx)(a.ZP,{duration:5e3,onHide:e,text:m,href:u,iconThumbnail:o,thumbnailShape:"circle"})}const f=(p.data||[]).slice(0,3).map((e=>{var o;return null===(o=e.images)||void 0===o?void 0:o[h?"236x":"170x"]})),v=(0,i.jsx)(n,{ideaPinImages:f});return(0,i.jsx)(a.ZP,{href:u,duration:5e3,onHide:e,iconThumbnail:v,text:m,thumbnailShape:"square"})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70598-b9abcb0b489e2ed3.mjs.map